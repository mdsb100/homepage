(function(window,undefined){"use strict";function Queue(){this.list=[]}var core_slice=[].slice,core_splice=[].splice,rsuffix=/\.[^\/\.]*$/g,version="AMDQuery 0.0.1",util={argToArray:function(e,t,n){return core_slice.call(e,t||0,n||e.length)},error:function(e,t){var n="";throw e.fn&&e.msg?n=["call ",e.fn,"()"," error: ",e.msg].join(""):n=e.toString(),new window[t||"Error"](n)},extend:function(e,t){for(var n in t)e[n]=t[n];return e},multiExtend:function(){for(var e=arguments,t=e.length-1;t>=0;t--)e[t-1]&&this.extend(e[t-1],e[t]);return e[0]},getJScriptConfig:function(list,asc){var _scripts=document.getElementsByTagName("script"),_script=_scripts[asc===!0?0:_scripts.length-1],i=0,j=0,item,attrs,attr,result={};for(;item=list[i++];){attrs=(_script.getAttribute(item)||"").split(/;/);if(item=="src"){result[item]=attrs[0];break}j=0,result[item]={};for(;attr=attrs[j++];)attr=attr.split(/:|=/),attr[1]&&(attr[1].match(/false|true|1|0/)&&(attr[1]=eval(attr[1])),result[item][attr[0]]=attr[1])}return result},getPath:function(e,t){var n=e,r=t,i,s,o;return r||(r=".js"),(o=n.match(rsuffix))?(s=n,o[o.length-1]!=r&&(s+=r)):s=basePath+"/"+n+(r||".js"),/^\//.test(s)?s=rootPath+s.replace(/\//,""):/^[a-z]+?:\/\//.test(s)||(s=basePath+"/"+s),s},now:function(){return Date.now()},removeSuffix:function(e){return e=e.replace(/\/$/,""),e.match(rsuffix)&&(e=e.replace(/\.[^\/\.]*$/,"")),e}},count=0,reg=RegExp,pagePath=document.location.toString().replace(/[^\/]+$/,""),basePath=function(){var e=util.getJScriptConfig(["src"]).src.replace(/\/[^\/]+$/,"");if(!/^[a-z]+?:\/\//.test(e)){var t=document.location.toString();/^\//.test(e)?e=t.replace(/((.*?\/){3}).*$/,"$1")+e.substr(1):e=t.replace(/[^\/]+$/,"")+e}return e}(),rootPath=basePath.replace(/((.*?\/){3}).*$/,"$1"),runTime,_config={amdquery:{define:"$",debug:!1,development:!0,loadingImage:""},amd:{detectCR:!1,debug:!0,timeout:5e3,console:!1},amdVariables:{},ui:{initWidget:!1,autoFetchCss:!0,isTransform3d:!0},module:{testLogByHTML:!1,compatibleEvent:!1},app:{src:"",debug:!1,development:!0,autoFetchCss:!0,viewContentID:""}},defineConfig={amdquery:{},amd:{},amdVariables:{},ui:{},module:{},app:{}};typeof aQueryConfig!="undefined"&&typeof aQueryConfig=="object"&&(defineConfig=aQueryConfig);var attributeConfigs=util.getJScriptConfig(["amdquery","amd","amdVariables","ui","module","app"]);util.multiExtend(_config.amdquery,defineConfig.amdquery,attributeConfigs.amdquery),util.multiExtend(_config.amd,defineConfig.amd,attributeConfigs.amd),util.multiExtend(_config.amdVariables,defineConfig.amdVariables,attributeConfigs.amdVariables),util.multiExtend(_config.ui,defineConfig.ui,attributeConfigs.ui),util.multiExtend(_config.module,defineConfig.module,attributeConfigs.module),util.multiExtend(_config.app,defineConfig.app,attributeConfigs.app);var aQuery=function(e,t,n){if($.constructorOf(this)){if(!e&&!t)return;if(typeof e!="object"&&e!==undefined&&e!==null||typeof t!="string"){if(e){var i=$.interfaces.trigger("constructorDom",this,e,t)||$.interfaces.trigger("constructorQuery",e,t);i&&(count++,this.init(i,t))}}else{count++;if(t===undefined||t===null)t="div";var r=document.createElement(t);this.init([r]),$.interfaces.trigger("constructorCSS",this,e,t,n),$.interfaces.trigger("constructorDom",this,e,t,n),r=null}}else{if(typeof e!="function")return new $(e,t,n);$.ready(e)}},$=aQuery,emptyFn=function(){},error,logger,info,warn;window.console&&console.log.bind?(logger=console.log.bind(console),error=console.error.bind(console),info=console.info.bind(console),warn=console.warn.bind(console)):(logger=emptyFn,error=emptyFn,info=emptyFn,warn=emptyFn),util.extend($,{extend:function(e){return util.extend($,e),this},interfaces:{achieve:function(e,t){return $.interfaces.handlers[e]=t,this},trigger:function(e){var t=$.interfaces.handlers[e];return t&&t.apply(this,arguments)},handlers:{eventHooks:null,proxy:null,constructorCSS:null,constructorDom:null,constructorQuery:null}},module:{},toString:function(){return"AMDQuery"},valueOf:function(){var e=[version,"\n"],t,n;for(n in $.module)t=$.module[n],e.push(n," : ",t,"\n");return e.join("")},basePath:basePath,between:function(e,t,n){return Math.max(e,Math.min(t,n))},among:function(e,t,n){return t>e?$.between(e,t,n):$.between(t,e,n)},bind:function(e,t){return function(){return e.apply(t||window,arguments)}},logger:logger,warn:warn,info:info,error:error,createEle:function(e){return document.createElement(e)},each:function(e,t,n){if(!e)return this;var r=0,i,s=e.length,o=typeof s!="number"||typeof e=="function";if(o){for(i in e)if(t.call(n||e[i],e[i],i)===!1)break}else for(var u=e[0];r<s&&t.call(n||u,u,r)!==!1;u=e[++r]);return this},constructorOf:function(e){return e instanceof $||e&&e.toString()=="AMDQuery"},merge:function(e,t){var n=t.length,r=e.length,i=0;if(typeof n=="number")for(;i<n;i++)e[r++]=t[i];else while(t[i]!==undefined)e[r++]=t[i++];return e.length=r,e},getPath:util.getPath,now:util.now,core_pnum:/[+-]?(?:\d*\.|)\d+(?:[eE][+-]?\d+|)/.source,rootPath:rootPath,pagePath:pagePath,util:{argToArray:util.argToArray,camelCase:function(e,t){e.indexOf("-")>0?e=e.toLowerCase().split("-"):e=[e],t&&e.splice(0,0,t);for(var n=1,r;n<e.length;n++)r=e[n],e[n]=r.substr(0,1).toUpperCase()+r.slice(1);return e.join("")},trim:function(e){return e.replace(/(^\s*)|(\s*$)/g,"")},unCamelCase:function(e,t){return e=e.replace(/([A-Z]|^ms)/g,"-$1").toLowerCase(),t&&(e=t+"-"+e),e},globalEval:function(e){e&&this.trim(e)&&(window.execScript||function(e){window.eval.call(window,e)})(e)},removeSuffix:util.removeSuffix,version:version}}),$.fn=$.prototype={push:function(e){return this.eles.push(e),this.init(this.eles)},pop:function(){var e=this.eles.pop();return this.init(this.eles),new $(e)},shift:function(){var e=this.eles.shift();return this.init(this.eles),new $(e)},unshift:function(e){return new $(this.eles.splice(0,0,e))},slice:function(){return new $(core_slice.call(this.eles,arguments))},splice:function(){var e=core_splice.call(this.eles,arguments);return this.init(this.eles),new $(e)},reverse:function(){return this.eles.reverse(),this.init(this.eles)},sort:function(e){return this.eles.sort(e),this.init(this.eles)},constructor:$,each:function(e){return $.each(this.eles,e,this),this},extend:function(e){for(var t=0,n=arguments.length,r;t<n;t++)r=arguments[t],util.extend($.prototype,r);return $.fn},first:function(){return $(this.eles[0])},getElement:function(e){return typeof e=="number"&&e!==0?this[e]:this[0]},last:function(){return $(this.eles[this.eles.length-1]||this.eles)},init:function(e,t){return this.eles=null,this.context=null,this.selector="",this.eles&&this.each(function(e,t){delete this[t]}),this.eles=e,this.each(function(e,t){this[t]=e}),this.length=e.length,typeof t=="string"&&(this.selector=t),this.context=this[0]?this[0].ownerDocument:document,this},indexOf:function(e){var t;for(t=this.eles.length-1;t>=0;t--)if(e===this.eles[t])break;return t},length:0,selector:"",setElement:function(e){return this.eles=e,this.init(this.eles)},toString:function(){return this.eles.toString()},valueOf:function(){return count},toArray:function(){return core_slice.call(this)},get:function(e){return e==null?this.toArray():e<0?this[this.length+e]:this[e]}},Queue.prototype={constructor:Queue,queue:function(e,t,n){return typeof e=="function"?(this.list.push(e),this.list[0]!="inprogress"&&this.dequeue(t,n)):e&&e.constructor==Array&&(this.list=e),this},dequeue:function(e,t){var n=this.list.shift();return n&&n==="inprogress"&&(n=this.list.shift()),n&&(this.list.splice(0,0,"inprogress"),n.apply(e||null,t||[])),this},clearQueue:function(){return this.queue([])}},function(){function i(e,t,n,r,s,o){if(!e)return;this.handlers={},this.module=null,this.first=null,this.description="No description",this.id=i.variable(e),$.module[this.id]=this.description,this.reset(t,n,r,s,o),i.setModule(this.id,this)}function s(e,t){var r;if(e.constructor==Array){if(!e.length)return;if(e.length==1)e=e.join("");else{var s=e;e=n+":"+e.join(","),r=i.getModule(e)||define(e,s,function(){return util.argToArray(arguments)})}}return typeof t!="function"&&(t=function(){util.error({fn:"require",msg:e+":Could not load , Cannot fetch the file"})}),r=r||i.getModule(e)||new i(e,[e],function(){return new String(e)},0,null,t),r}$.module.require="AMD";var e,t,n="__require";window.define&&($.logger("window.define has defined"),e=window.define),window.require&&($.logger("window.require has defined"),t=window.require);var r=new Queue;util.extend(i,{anonymousID:null,requireQueue:r,cache:{},container:{},dependenciesMap:{},checkName:function(e){this.anonymousID!=null&&e.indexOf("_tempDefine")<0&&e!==this.anonymousID&&util.error({fn:"define",msg:"the named "+e+" is not equal require"})},contains:function(e){return e=i.variable(e),!!i.modules[e]},detectCR:function(e,t){if(!e)return;if(t&&t.constructor!=Array)return;var n,r,s,o,u=t.length,a=i.dependenciesMap,f=i.mapDependencies;for(n=0;n<u;n++){s=t[n];if(s===e)return s;a[e]||(a[e]={}),f[s]||(f[s]={}),a[e][s]=1,f[s][e]=1}for(r in f[e]){o=i.detectCR(r,t);if(o)return o}},funBody:function(e){e||(e="");switch(typeof e){case"function":return e;case"string":return function(){return new String(e)};case"number":return function(){return new Number(e)};case"boolean":return function(){return new Boolean(e)};default:return function(){return e}}},getContainer:function(e,t){var n;return i.container[e]?n=i.container[e]:(n=util.getJScriptConfig(["src"],typeof t=="boolean"?t:!0).src||"it is local",e&&(i.container[e]=n)),n},getPath:function(e,t){var n,r,s;e=i.variable(e),(r=i.maps[e])||(r=e);if(_config.amd.rootPath){s=e.match(/\.[^\/\.]*$/g);if(!s||s[s.length-1]!=t)e+=t;n=_config.amd.rootPath+e}else n=util.getPath(r,t);return n},getModule:function(e){return e=i.variable(e),i.modules[e]},holdon:{},loadDependencies:function(e){var t=e,n=0,r,s,o;return!t||t.constructor==Array||t.length?this:(setTimeout(function(){for(r=t.length;n<length;n++)s=t[n],o=i.getModule(s),o?o.getStatus()==2&&i.loadDependencies(o.dependencies):require(s)},0),this)},loadJs:function(e,t,n){var r=i.getModule(t);if(i.resource[e]||r&&r.getStatus()>2)return this;i.resource[e]=t;var s=document.createElement("script"),o=document.getElementsByTagName("HEAD")[0],u;return n&&(s.onerror=function(){clearTimeout(u),n()}),s.onload=s.onreadystatechange=function(){if(!this.readyState||this.readyState=="loaded"||this.readyState=="complete")clearTimeout(u),o.removeChild(s),o=null,s=null},s.setAttribute("src",e),s.setAttribute("type","text/javascript"),s.setAttribute("language","javascript"),u=setTimeout(function(){n&&n(),o.removeChild(s),s=s.onerror=s.onload=n=o=null},_config.amd.timeout),o.insertBefore(s,o.firstChild),this},mapDependencies:{},maps:{},modules:{},namedModules:{},resource:{},rootPath:null,variableMap:{},variablePrefix:"@",setModule:function(e,t){return!this.getModule(e)&&(this.modules[e]=t),this},statusReflect:{0:"init",1:"queue",2:"require",3:"define",4:"ready"},variable:function(e){var t=new RegExp("\\"+i.variablePrefix+"[^\\/]+","g"),n=e.match(t);if(n&&n.length)for(var r=n.length-1,s;r>=0;r--)s=require.variable(n[r]),s&&(e=e.replace(n[r],s));return e}}),i.prototype={addHandler:function(e){if(typeof e=="function"){if(this.status==4)return e.apply(this,this.module),this;var t=this.handlers[this.id];t==undefined&&(t=this.handlers[this.id]=[]),t.push(e)}return this},check:function(){var e=this.getStatus(),t=this.dependencies;switch(e){case 4:this.holdReady().trigger();break;case 3:if(!t||!t.length){this.getReady();break};case 2:case 1:case 0:if(t.length==1&&t[0]===this.id)break;default:var n=[],r=i.holdon,s=0,o,u,a;if(e>0&&_config.amd.detectCR==1)if(o=i.detectCR(this.id,t)){util.error({fn:"define",msg:"There is a circular reference between '"+o+"' and '"+t+"'"},"ReferenceError");return}for(;u=t[s++];){a=i.getModule(u);if(!a||a.getStatus()!=4)n.push(u),r[u]?r[u].push(this.id):r[u]=[this.id]}n.length?e>=2&&this.loadDependencies():this.getReady()}return this},constructor:i,getDependenciesArray:function(){var e=[];if(_config.amd.detectCR){var t=this.id,n=i.dependenciesMap[t],r,s=i.getModule(t);e.push({name:t,status:s.getStatus(1),container:s.container});for(r in n)s=i.getModule(r),e.push({name:r,status:s.getStatus(1),container:s.container})}else $.logger("getDependenciesArray","you had to set require.detectCR true for getting map list");return e},getReady:function(){if(this.status==4)return;var e=this.dependencies,t=e.length,n=0,r=[],s=this.id,o,u,a,f;for(;n<t;n++){u=i.getModule(e[n]);if(!u||u.status!=4)return!1;r=r.concat(u.module)}this.setStatus(4);if(_config.amd.debug)f=this.factory.apply(this,r)||{};else try{f=this.factory.apply(this,r)||{}}catch(l){}f._AMD={id:s,dependencies:e,status:4,container:this.container,getDependenciesArray:this.getDependenciesArray},f&&f.constructor!=Array&&(f=[f]),this.module=f,this.first=f[0],_config.amd.console&&$.logger("module "+s+" ready"),this.holdReady().trigger()},getStatus:function(e){var t=this.status;return e==1?i.statusReflect[t]:t},describe:function(e){return this.description=e,$.module[this.id]=e,this},valueOf:function(){return this.description},holdReady:function(){var e,t=i.holdon[this.id],n=i.modules;if(t&&t.length)for(;e=n[t.shift()];)e.getReady();return this},reset:function(e,t,n,r,s){for(var o=e.length-1;o>=0;o--)e[o]=i.variable(e[o]);return this.dependencies=e,this.factory=t,this.status=n||0,this.container=r,this.fail=s,this},load:function(){var e=this.id,t=this.fail,n=this.getStatus(),r;return e&&/^(http(s?):\/\/)/i.test(e)?rsuffix.test(e)?r=e:r+=e+".js":(r=i.getPath(e,".js"))||util.error({fn:"require",msg:"Could not load module: "+e+", Cannot match its URL"}),this.setStatus(2),i.container[e]||(i.container[e]=r),i.cache[e]?i.cache[e]():i.loadJs(r,e,t),this},loadDependencies:function(){var e=this.dependencies,t=0,n,r,s;if(!e||e.constructor!=Array||!e.length)return this;for(n=e.length;t<n;t++)r=e[t],s=i.getModule(r),s||require(r);return this},launch:function(e){this.addHandler(e);switch(this.status){case 0:var t=i.namedModules[this.id],n=this;t?this.load():(this.setStatus(1),r.queue(function(){i.anonymousID||(i.anonymousID=n.id),n.load()}));break;case 4:this.check()}return this},setStatus:function(e){return this.status=e,this},isReady:function(){return this.status===4},trigger:function(){var e=this.handlers[this.id],t;if(e&&e.constructor==Array&&this.getStatus()==4&&this.module)for(;e.length&&(t=e.splice(0,1));)t[0].apply(this,this.module);return this}},window.define=function(e,t,s){var o=arguments,u,a,f,l,c;switch(o.length){case 0:util.error({fn:"window.define",msg:e+":define something that cannot be null"},"TypeError");break;case 1:f=e,e=i.anonymousID,t=[],s=i.funBody(f);break;case 2:if(typeof o[0]=="string")e=e,f=t,t=[];else if(o[0]&&o[0].constructor==Array){var h=e;e=i.anonymousID,f=t,t=h}else util.error({fn:"define",msg:e+":The first arguments should be String or Array"},"TypeError");s=i.funBody(f);break;default:(typeof o[0]!="string"||!o[1]||o[1].constructor!=Array)&&util.error({fn:"define",msg:e+":two arguments ahead should be String and Array"},"TypeError"),s=i.funBody(o[2])}return e=i.variable(e),i.checkName(e),l=i.getContainer(e),(u=i.getModule(e))?(a=u.getStatus(),u.reset(t,s,3,l)):(l=RegExp(n).test(e)?"inner":i.getContainer(e),u=new i(e,t,s,3,l)),c=!i.namedModules[e]&&a==2,c&&(i.anonymousID=null),u.check(),c&&r.dequeue(),u},define.amd=i.maps,window.require=function(e,t,n){if(!e)return;var r=s(e,n);return t&&typeof t!="function"&&util.error({fn:"require",msg:e+":success should be a Function"},"TypeError"),r.launch(t)},util.extend(require,{cache:function(e){var t=i.getContainer(null,i.amdAnonymousID?!0:!1);for(var n in e)require.named(n),i.cache[n]=e[n],i.container[n]=t;return this},named:function(e){var t,n,r=e;if(r&&r.constructor==Array)for(t=0;n=r[t++];)i.namedModules[n]=1;else if(typeof r=="object")for(n in r)i.namedModules[n]=1;else typeof r=="string"&&(i.namedModules[r]=1);return this},reflect:function(e,t){if(typeof e=="object")for(var n in e)i.maps[n]=e[n];else typeof e=="string"&&typeof t=="string"&&(i.maps[e]=t);return this},variable:function(e,t){e.indexOf(i.variablePrefix)!==0&&(e=i.variablePrefix+e);if(!t)return i.variableMap[e];i.variableMap[e]=t}}),util.extend($,{define:function(e,t,n){var r=util.argToArray(arguments,0),i=r.length,s=r[i-1];return typeof s=="function"&&(r[r.length-1]=function(){var e=util.argToArray(arguments,0);e.splice(0,0,aQuery);if(_config.amd.debug)return s.apply(this,e);try{return s.apply(this,e)}finally{}}),window.define&&window.define.apply(null,r),this},require:function(e,t,n){return window.require&&$.ready(function(){window.require(e,t,n)}),this}});for(var o in _config.amdVariables)require.variable(o,_config.amdVariables[o]);aQuery.define("base/ClassModule",function(e){var t=i;return e.ClassModule=i,t})}(),aQuery.define("base/config",function(e){return this.describe("config of amdquery"),e.config=_config,_config}),aQuery.define("base/queue",function(e){var t=Queue;return t}),aQuery.define("base/Promise",function(e){this.describe("Class Promise");var t=0,n=function(e){return e},r=function(e,t,n){if(!r.constructorOf(this))return new r(e,t,n);this.init(e,t,n)},i="todo",s="done",o="fail",u="progress";return r.prototype={constructor:r,_nextResolve:function(e,t){var n=this.state===s,r=this.next,i;if(n||t)i=this._checkWhensState(e),n=i.size===i[s]+i[o];return n&&(e=i.result,r?r.resolve(e):this._finally(e,s)),this},_checkWhensState:function(e){var t=0,n=this.whens.length,r={size:n,result:n?[e]:e},a;r[i]=0,r[u]=0,r[o]=0,r[s]=0;for(;t<n;t++)a=this.whens[t],r[a.state]++,r.result.push(a.result);return r},_nextReject:function(e,t){var n=this.next,r=this._checkWhensState(e),i=r.size===r[s]+r[o];return i&&(e=r.result,n&&!t?this.next.reject(e):this._finally(e,o)),this},_push:function(e){return this.whens.push(e),this},call:function(e,t){switch(e){case o:case u:case i:break;default:e=i}return this[e].call(this.context,t)},get:function(e){return this[e]},withContext:function(e){return this.context=e,this},_withoutPrev:function(e,t,n){if(r.constructorOf(e)){if(!e.prev)return e;t=e.fail,n=e.progress,e=e.todo}return r(e,t,n)},then:function(e,t,n){if(this.next)return this.next;var r=this._withoutPrev(e,t,n);this.context!==this&&r.withContext(this.context),r.prev=this,this.next=r;switch(this.state){case o:break;case s:this._nextResolve(this.result);break;default:}return r},init:function(e,r,s){return this.context=this,this.__promiseFlag=!0,this.state=i,this.result=null,this.whens=[],this.todo=e||n,this.fail=r||n,this.progress=s||n,this.prev=null,this.id=t++,this.next=null,this._done=null,this},done:function(e,t){var n=this.end();return n._done?n._done.done(e,t):n._done=r.constructorOf(e)?e:r(e,t),this.root()},_finally:function(e,t){var n=this.end();return n._done&&!n._done.isComplete()&&(n._done.withContext(this.context),t===s?n._done.resolve(e):t===o&&n._done.reject(e)),this},_clearProp:function(){return this.result=null,this.whens=[],this.todo=n,this.fail=n,this.progress=n,this.prev=null,this.next=null,this.state=i,this._done=null,this},destroy:function(){var e=this.whens,t,n=e.length,r;for(t=n-1;t>=0;t--)r=e[t],r.destroy(),r=e.pop();this.parent&&(this.parent.next=null),this.next&&this.next.destroy(),this._clearProp()},resolve:function(t){if(this.isComplete())return this;try{this.state=s,this.result=this.call(i,t)}catch(n){return e.logger(n),n.stack&&e.logger(n.stack),this.state=i,this.reject(t)}if(r.constructorOf(this.result)&&this.result!==this){var a=this.result._done||this.result;switch(a.state){case s:return this.result=a.result,this._nextResolve(this.result),this._resolveWhens(t);case r:return this.result=a.result,this.reject(this.result)}this.state=u;var f=this,l=function(e){f.state=s,f.result=e,f._nextResolve(e),f=c=l=h=null,a.next.destroy()},c=this.result.fail,h=this.result.progress;this.state=i,a.state===o?(f.reject(a.result),f=c=l=h=null):a.fail=function(e){c.call(a.context,e),f.reject(e),f=c=l=h=null,a.next.destroy()},a.then(l)}else this._nextResolve(this.result);return this._resolveWhens(t)},_resolveWhens:function(e){for(var t=0,n=this.whens.length,r;t<n;t++)r=this.whens[t],r.prev||r.state!==u&&r.resolve(e);return this},_reprocessWhens:function(e){for(var t=0,n=this.whens.length;t<n;t++)this.whens[t].reprocess(e);return this},reject:function(e){if(this.isComplete())return this;this.state=o,this.result=this.call(o,e);if(r.constructorOf(this.result)&&this.result!==this){var t=this.result;switch(t.state){case s:this.result=t.result,this._nextResolve(this.result,!0);break;case o:this.result=t.result,this._nextReject(this.result)}}else this._nextReject(this.result,!0);return this._resolveWhens(e)},reprocess:function(e){if(this.isComplete())return this;this.state=u;var t=this.call(u,e);if(r.constructorOf(t)&&t!==this){this.state=i;switch(t.state){case i:this.resolve(t.resolve(e).result);break;case s:this.resolve(t.result);break;case o:this.reject(t.result)}}return this._reprocessWhens(e)},when:function(e,t,n){var a=r.constructorOf(e)?e:r(e,t,n),f=this,l=function(e){return f._doNext(e),e};this._push(a);switch(a.state){case s:case o:return this._doNext(a.result);case u:return a.done(l,l),this;case i:return a.done(l,l),this.isComplete()&&!a.prev&&a.resolve(this.result),this}},multiWhen:function(){for(var e=0,t=arguments.length;e<t;e++)this.when(arguments[e]);return this},_doNext:function(e){var t=this._checkWhensState(e);return this.isComplete()&&t.size===t[s]+t[o]&&(t[o]||this.state===o?this._nextReject(this.result):this._nextResolve(this.result,!0)),this},root:function(){var e=this;while(e.prev)e=e.prev;return e},end:function(){var e=this;while(e.next)e=e.next;return e},isComplete:function(){return this.state===s||this.state===o}},r.constructorOf=function(e){return e instanceof r||(e?e.__promiseFlag===!0:!1)},r.group=function(e){var t=e instanceof Array?e:arguments,n=t[0],r=1,i=t.length;for(;r<i;r++)n.when(t[r]);return n},r}),aQuery.define("base/ready",["base/Promise"],function(e,t){this.describe("Life Cycle of AMDQuery");var n=function(e){setTimeout(function(){r.when(e)},0)},r,i=_config.amdquery.loadingImage,s=e.createEle("img"),o=e.createEle("div");return s.style.cssText="position:absolute;top:50%;left:50%",o.style.cssText="width:100%;height:100%;position:absolute;top:0;left:0;z-index:10001;background-color:white",o.appendChild(s),r=(new t(function(){if(_config.app.src){var e=_config.app.src;e=e.replace(/([\\\/])[^\\\/]*$/,"$1"),e=e.replace(/\/$/,""),require.variable("app",e)}})).then(function(){document.documentElement.style.cssText="left:100000px;position:absolute";var e=new t,n=function(t){document.body.appendChild(o),document.documentElement.style.cssText="left:0px",i&&s.setAttribute("src",i),s.style.marginTop=-s.offsetHeight+"px",s.style.marginLeft=-s.offsetWidth+"px",setTimeout(function(){e.resolve(t)},0),document.addEventListener?document.removeEventListener("DOMContentLoaded",n):document.attachEvent?document.detachEvent("onreadystatechange",n):document.onload=null,n=null};return document.addEventListener?document.addEventListener("DOMContentLoaded",n,!1):document.attachEvent?document.attachEvent("onreadystatechange",function(e){document.readyState==="complete"&&n(e)}):document.onload=n,e}).then(function(){var e=new t;if(_config.app.src)return require(_config.app.src,function(t){new t(e)}),e;if(_config.ui.initWidget)return require("module/Widget",function(t){t.initWidgets(document.body,function(){e.resolve()})}),e}).then(function(){document.body.removeChild(o),o=null,s=null}),r.root().resolve(),e.ready=n}),window.aQuery=$,window[_config.amdquery.define]?util.error(_config.amdquery.define+" is defined"):window[_config.amdquery.define]=$})(window),aQuery.define("base/typed",function(e){"use strict";this.describe("Support typeof function");var t={},n=t.hasOwnProperty,r=t.toString;e.each("Boolean Number String Function Array Date RegExp Object Error".split(" "),function(e,n){t["[object "+e+"]"]=e.toLowerCase()});var i={isElementCollection:function(e){return i.isType(e,"[object NodeList]")||i.isType(e,"[object HTMLCollection]")||i.isNumber(e.length)&&!i.isArray(e.length)&&(e.length>0?i.isElement(e[0]):!0)&&(i.isObject(e.item)||i.isString(e.item))},isEvent:function(e){return e&&!!(r.call(e).indexOf("Event")>-1||e.type&&e.srcElement&&e.cancelBubble!==undefined||e.type&&e.target&&e.bubbles!==undefined)},isArguments:function(e){return!!e&&"callee"in e&&this.isNumber(e.length)},isArray:function(e){return i.isType(e,"[object Array]")},isArraylike:function(e){var t=e.length,n=i.type(e);return i.isWindow(e)?!1:e.nodeType===1&&t?!0:n==="array"||n!=="function"&&(t===0||typeof t=="number"&&t>0&&t-1 in e)},isBoolean:function(e){return i.isType(e,"[object Boolean]")},isDate:function(e){return i.isType(e,"[object Date]")},isDocument:function(e){return!!r.call(e).match(/document/i)},isElement:function(e){if(!e||e===document)return!1;var t=(e.constructor&&e.constructor.toString())+Object.prototype.toString.call(e);return t.indexOf("HTML")>-1&&t.indexOf("Collection")==-1||e.nodeType===1?!0:!1},isEmpty:function(e){return e==null?!0:i.isArray(e)||i.isString(e)?e.length==0:i.isEmptyObject(e)},isEmptyObject:function(e){for(var t in e)return!1;return!0},isError:function(e){return i.isType(e,"[object Error]")},isFinite:function(e){return isFinite(e)&&!isNaN(parseFloat(e))},isFunction:function(e){return i.isType(e,"[object Function]")},isNativeJSON:function(e){return window.json&&i.isType(e,"object JSON")},isNaN:function(e){return i.isNumber(e)&&e!=+e},isNumber:function(e){return i.isType(e,"[object Number]")},isNumeric:function(e){return!isNaN(parseFloat(e))&&isFinite(e)},isNul:function(e){return e===undefined||e===null||i.isNaN(e)},isNode:function(e,t){return i.isElement(e)?e.nodeName&&e.nodeName.toUpperCase()===t.toUpperCase():!1},isObject:function(e){return e!==undefined?i.isType(e,"[object Object]"):!1},isPrototypeProperty:function(e,t){return"hasOwnProperty"in e&&!e.hasOwnProperty(t)&&t in e},isPlainObject:function(e){if(!e||!i.isObject(e)||e.nodeType||e.setInterval)return!1;if(e.constructor&&!n.call(e,"constructor")&&!n.call(e.constructor.prototype,"isPrototypeOf"))return!1;var t;for(t in e)break;return t===undefined||n.call(e,t)},isRegExp:function(e){return i.isType(e,"[object RegExp]")},isString:function(e){return i.isType(e,"[object String]")},isType:function(e,t){return r.call(e)==t},isXML:function(e){var t=(e?e.ownerDocument||e:0).documentElement;return t?t.nodeName!=="HTML":!1},isWindow:function(e){return e!=null&&e==e.window},is:function(e,t){return Object.is?Object.is(e,t):e===0&&t===0?1/e===1/t:e!==e?t!==t:e===t},isEqual:function(e,t){if(this.is(e,t))return!0;if(e instanceof Object&&t instanceof Object){if(e.constructor!==t.constructor)return!1;for(var n in e){if(!e.hasOwnProperty(n))continue;if(!t.hasOwnProperty(n))return!1;if(e[n]===t[n])continue;if(typeof e[n]!="object")return!1;if(!i.isEqual(e[n],t[n]))return!1}for(n in t)if(t.hasOwnProperty(n)&&!e.hasOwnProperty(n))return!1;return!0}return!1},is$:e.constructorOf,type:function(e){return e==null?String(e):typeof e=="object"||typeof e=="function"?t[r.call(e)]||"object":typeof e}};return i}),aQuery.define("base/extend",["base/typed"],function(e,t){"use strict";this.describe("Extend Util");var n={easyExtend:function(e,t){for(var n in t)e[n]=t[n];return this},extend:function(e){var r=arguments[0]||{},i=1,s=arguments.length,o=!1,u,a,f,l;t.isBoolean(r)&&(o=r,r=arguments[1]||{},i=2),!t.isObject(r)&&!t.isFunction(r)&&(r={}),s===i&&(r=this,--i);for(;i<s;i++)if((u=arguments[i])!=null)for(a in u)if("hasOwnProperty"in u?u.hasOwnProperty(a):!0){f=r[a],l=u[a];if(r===l)continue;if(o&&l&&(t.isPlainObject(l)||t.isArray(l))){var c=f&&(t.isPlainObject(f)||t.isArray(f))?f:t.isArray(l)?[]:{};r[a]=n.extend(o,c,l)}else l!==undefined&&(r[a]=l)}return r}};return n}),aQuery.define("base/array",["base/typed","base/extend"],function(e,t,n){"use strict";this.describe("Array Util");var r=Array.prototype.indexOf||function(e,t){var n=this.length;t=t||0,t<0&&(t+=n);for(;t<n;t++)if(t in this&&this[t]===e)return t;return-1},i=Array.prototype.lastIndexOf||function(e,t){var n=this.length-1;t=t||n,t<0&&(t+=n);for(;t>-1;t--)if(t in this&&this[t]===e)break;return t},s=Array.prototype.push,o={grep:function(e,t,n){var r,i=[],s=0,o=e.length;n=!!n;for(;s<o;s++)r=!!t(e[s],s),n!==r&&i.push(e[s]);return i},filterArray:function(e,t,n){var r=[];for(var i=0,s=e.length,o;i<s;i++)o=e[i],t.call(n||o,o,i,e)===!0&&r.push(o);return r},filterSame:function(e){if(e.length>1){for(var t=e.length,n=[e[0]],r=!0,i=1,s=0;i<t;i++){s=0;for(;s<n.length;s++)if(e[i]===n[s]){r=!1;break}r&&n.push(e[i]),r=!0}return n}return e},inArray:function(e,t,n){return r.call(e,t,n)},lastInArray:function(e,t,n){return i.call(e,t,n)},makeArray:function(e,n){var r=n||[];return e&&(t.isNul(e.length)||t.isString(e)||t.isFunction(e)||e.setInterval?s.call(r,e):r=e.toArray(e)),r},toArray:function(e,n,r){var i=0,s=[],o=e.length;if(!t.isNumber(o)||!t.isFunction(e))for(var u=e[0];i<o;u=e[++i])s.push(u);return s.slice(startIndex||0,num2||o)}};return o}),aQuery.define("main/object",["base/typed","base/array","base/extend"],function($,typed,array,utilExtend){"use strict";this.describe("Define Class");var pushSuperStack=function(e){var t;e.__superStack||(e.__superStack=[]),t=e.__superStack,t.length?t.push(t[t.length-1].prototype.__superConstructor):t.push(e.constructor.prototype.__superConstructor)},popSuperStack=function(e){var t=e.__superStack;t.length&&t.pop()},_getSuperConstructor=function(e){var t=e.__superStack,n;return t&&t.length?n=t[t.length-1]:n=e.constructor.prototype.__superConstructor,n},_superInit=function(){var e;return pushSuperStack(this),e=_getSuperConstructor(this),e.prototype.init?e.prototype.init.apply(this,arguments):e.apply(this,arguments),popSuperStack(this),this},_invoke=function(e,t,n){var r=this.prototype[e];return r?r.apply(t,typed.isArguments(n)?n:$.util.argToArray(arguments,2)):undefined},_getFunctionName=function(e){if(e.name!==undefined)return e.name;var t=e.toString().match(/^function\s*([^\s(]+)/);return t&&t[1]||""},inherit=function(e,t,n){object.inheritProtypeWithParasitic(e,t,n),e.prototype.__superConstructor=t,e.prototype._super=_superInit,t.invoke||(t.invoke=_invoke)},extend=function(e,t){object.inheritProtypeWithExtend(e,t)},defaultPurview="-pu -w -r",ObjectClassStaticMethods={inherit:function(e){return inherit(this,e),this},extend:function(e,t,n){var r=$.util.argToArray(arguments);return typed.isObject(e)&&r.splice(0,0,_getFunctionName(this)||e.name||"anonymous"),r.push(this),object.extend.apply(object,r)},joinPrototype:function(){for(var e=0,t=arguments.length,n;e<t;e++)n=arguments[e],typed.isPlainObject(n)&&utilExtend.extend(this.prototype,n);return this},constructorOf:function(e){var t=this,n=e instanceof this;if(n==0){t=e.constructor;while(!!t){t=t.prototype.__superConstructor;if(t===e){n=!0;break}}}return n},createGetterSetter:function(e){object.createPropertyGetterSetter(this,e)},mixin:function(e){var t={__handlers:{}};return utilExtend.extend(t,this.prototype),delete t.constructor,delete t.init,utilExtend.extend(e,t),this},fn:null},object={extend:function(name,prototype,statics,Super){var anonymous;switch(arguments.length){case 0:case 1:return null;case 3:typeof statics=="function"&&(Super=statics,statics=null)}switch(typeof name){case"function":anonymous=name;break;case"string":anonymous=eval(["(function ",name,"() {\n","    this.init.apply(this, arguments);\n","});\n"].join(""))||eval("("+name+")");break;default:anonymous=function(){this.init.apply(this,arguments)};var temp=prototype;prototype=name,statics=temp}return Super&&inherit(anonymous,Super),prototype=utilExtend.extend({},prototype),prototype.constructor=anonymous,utilExtend.easyExtend(anonymous.prototype,prototype),utilExtend.easyExtend(anonymous,ObjectClassStaticMethods),utilExtend.easyExtend(anonymous,statics),anonymous.fn=anonymous.prototype,anonymous},Collection:function(e,t,n,r){switch(arguments.length){case 0:case 1:return null;case 3:typeof n=="function"&&(r=n,n=null)}var i={init:function(){return this.models=[],this.__modelMap={},t.init?t.init.apply(this,arguments):this.add.apply(this,arguments),this},add:function(e){var t=$.util.argToArray(arguments),n=t.length,r=0;for(;r<n;r++)e=t[r],this.__modelMap[e.id]||(this.models.push(e),this.__modelMap[e.id||e.constructor.name+s++]=e);return this},pop:function(){return this.remove(this.models[this.models.length-1])},remove:function(e){var t=null,n;switch(typeof e){case"number":t=this.models[e];break;case"string":t=this.__modelMap[e];break;case"object":t=e}if(t){this.models.splice(array.inArray(this.models,t),1);for(n in this.__modelMap)this.__modelMap[n]==t&&delete this.__modelMap[n]}return t},get:function(t){switch(typeof t){case"number":e=this.models[t];break;case"string":e=this.__modelMap[t]}return e},clear:function(){return this.models=[],this.__modelMap={},this},each:function(e,t){for(var n=0,r=this.models,i;i=r[n++];)e.call(t||i,i,n);return this}},s=0,o=utilExtend.extend({},t,i),u=utilExtend.extend({},n),a=typeof e=="string"?e:e.name+"Collection";return object.extend(a,o,u,r)},getObjectMembersCount:function(e){var t=0;for(var n in e)typed.isPrototypeProperty(e,n)||t++;return t},getObjectPrototypeMembersCount:function(e){var t=0;for(var n in e)typed.isPrototypeProperty(e,n)&&t++;return t},inheritProtypeWithExtend:function(e,t){var n=e.prototype.constructor;return utilExtend.easyExtend(e.prototype,t.prototype),e.prototype.constructor=n||t.prototype.constructor,this},inheritProtypeWithParasitic:function(Sub,Super,name){if(!Super)return this;var originPrototype=Sub.prototype,name=Super.name||name,Parasitic=typeof name=="string"?eval("(function "+name+"() { });")||eval("("+name+")"):function(){};return Parasitic.prototype=Super.prototype,Sub.prototype=new Parasitic,utilExtend.easyExtend(Sub.prototype,originPrototype),Sub.prototype.constructor=Sub,this},inheritProtypeWithCombination:function(e,t){return e.prototype=new t,this},createPropertyGetterSetter:function(e,t){return typed.isPlainObject(t)?$.each(t,function(e,t){var n=defaultPurview,r=null,i,s;switch(typeof e){case"string":n=e;break;case"object":typed.isString(e.purview)&&(n=e.purview),typed.isFunction(e.validate)&&(r=e.validate),typed.isFunction(e.edit)&&(s=e.edit),i=e.defaultValue;break;case"function":r=e}this[t]=i;var o=/\-pa[\s]?/.test(n)?"_":"",u,a;n.match(/\-w([u|a])?[\s]?/)&&(a=RegExp.$1=="a"?"_":"",this[(a||o)+$.util.camelCase(t,"set")]=function(e){if(typed.isFunction(r)?r.call(this,e):!0)this[t]=e;return this}),n.match(/\-r([u|a])?[\s]?/)&&(u=RegExp.$1=="a"?"_":"",this[(u||o)+$.util.camelCase(t,"get")]=function(){return s?s.call(this,this[t]):this[t]})},e.prototype):this}};return object}),aQuery.define("main/CustomEvent",["base/extend","main/object"],function(e,t,n,r){"use strict";this.describe("A custom event");var i=n.extend("CustomEvent",{constructor:i,init:function(){return this.__handlers={},this},on:function(e,t){return this.addHandler(e,t)},once:function(e,t,n){var r=this,i=this._getOnceProxyName(e);return t[i]?this:(t[i]=function(){r.off(e,t),delete t[i],t.apply(this,arguments),t=null,n&&n(),n=null},this.on(e,t))},_getOnceProxyName:function(e){return"__"+e+"proxy"},addHandler:function(e,t){var n=e.split(" "),r=n.length-1;for(;r>=0;r--)this._addHandler(n[r],t);return this},_addHandler:function(e,t){var n=this.__handlers[e];return n||(this.__handlers[e]=n=[]),this.hasHandler(e,t,n)==-1&&n.push(t),this},clear:function(e){return this.clearHandlers(e)},clearHandlers:function(e){if(e){var t=e.split(" "),n=t.length-1,r;for(;n>=0;n--)r=t[n],delete this.__handlers[r]}else this.__handlers={};return this},getHandlers:function(e){return e?this.__handlers[e]||[]:this.__handlers},hasHandler:function(e,t,n){n=n||this.getHandlers(e);var r=0,i=-1,s;if(n instanceof Array&&n.length)for(s=n.length;r<s;r++)if(n[r]===t){i=r;break}return i},isEmpty:function(){for(var e in this.__handlers)return!1;return!0},trigger:function(e,t,n){if(typeof e=="object"&&e.__customEventFlag===!0)return this.trigger(e.type,e.target,e);var r=e.split(" "),i=0,s=r.length;for(;i<s;i++)this._trigger(r[i],t,n);return this},_trigger:function(t,n){var r=this.getHandlers(t),i=this._getOnceProxyName(t);if(r instanceof Array&&r.length)for(var s=0,o=r.length,u=e.util.argToArray(arguments,2),a;s<o;s++)a=r[s],a[i]&&(a=a[i]),a.apply(n,u);return this},off:function(e,t){return this.removeHandler(e,t)},removeHandler:function(e,t){var n=e.split(" "),r=n.length-1;for(;r>=0;r--)this._removeHandler(n[r],t);return this},clone:function(){var e=new i,t,n,r,s;for(t in this.getHandlers()){n=this.getHandlers(t),s=n.length;for(r=0;r<s;r++)e.on(t,n[r])}return e},_removeHandler:function(e,t){var n=this.getHandlers(e),r=this.hasHandler(e,t,n);return r>-1&&n.splice(r,1),n.length===0&&delete this.__handlers[e],this}},{createEvent:function(e,n,r){var i={};return r=r||{},t.extend(i,r),i.type=e,i.target=n,i.__customEventFlag=!0,i}});return i}),function(e,t){function st(e,t,n,i){var s,o,u,a,f,l,p,m,g,E;(t?t.ownerDocument||t:w)!==h&&c(t),t=t||h,n=n||[];if(!e||typeof e!="string")return n;if((a=t.nodeType)!==1&&a!==9)return[];if(d&&!i){if(s=Y.exec(e))if(u=s[1]){if(a===9){o=t.getElementById(u);if(!o||!o.parentNode)return n;if(o.id===u)return n.push(o),n}else if(t.ownerDocument&&(o=t.ownerDocument.getElementById(u))&&y(t,o)&&o.id===u)return n.push(o),n}else{if(s[2])return P.apply(n,t.getElementsByTagName(e)),n;if((u=s[3])&&r.getElementsByClassName&&t.getElementsByClassName)return P.apply(n,t.getElementsByClassName(u)),n}if(r.qsa&&(!v||!v.test(e))){m=p=b,g=t,E=a===9&&e;if(a===1&&t.nodeName.toLowerCase()!=="object"){l=vt(e),(p=t.getAttribute("id"))?m=p.replace(tt,"\\$&"):t.setAttribute("id",m),m="[id='"+m+"'] ",f=l.length;while(f--)l[f]=m+mt(l[f]);g=V.test(e)&&t.parentNode||t,E=l.join(",")}if(E)try{return P.apply(n,g.querySelectorAll(E)),n}catch(S){}finally{p||t.removeAttribute("id")}}}return Tt(e.replace(z,"$1"),t,n,i)}function ot(){function t(n,r){return e.push(n+=" ")>s.cacheLength&&delete t[e.shift()],t[n]=r}var e=[];return t}function ut(e){return e[b]=!0,e}function at(e){var t=h.createElement("div");try{return!!e(t)}catch(n){return!1}finally{t.parentNode&&t.parentNode.removeChild(t),t=null}}function ft(e,t){var n=e.split("|"),r=e.length;while(r--)s.attrHandle[n[r]]=t}function lt(e,t){var n=t&&e,r=n&&e.nodeType===1&&t.nodeType===1&&(~t.sourceIndex||A)-(~e.sourceIndex||A);if(r)return r;if(n)while(n=n.nextSibling)if(n===t)return-1;return e?1:-1}function ct(e){return function(t){var n=t.nodeName.toLowerCase();return n==="input"&&t.type===e}}function ht(e){return function(t){var n=t.nodeName.toLowerCase();return(n==="input"||n==="button")&&t.type===e}}function pt(e){return ut(function(t){return t=+t,ut(function(n,r){var i,s=e([],n.length,t),o=s.length;while(o--)n[i=s[o]]&&(n[i]=!(r[i]=n[i]))})})}function dt(){}function vt(e,t){var n,r,i,o,u,a,f,l=T[e+" "];if(l)return t?0:l.slice(0);u=e,a=[],f=s.preFilter;while(u){if(!n||(r=W.exec(u)))r&&(u=u.slice(r[0].length)||u),a.push(i=[]);n=!1;if(r=X.exec(u))n=r.shift(),i.push({value:n,type:r[0].replace(z," ")}),u=u.slice(n.length);for(o in s.filter)(r=Q[o].exec(u))&&(!f[o]||(r=f[o](r)))&&(n=r.shift(),i.push({value:n,type:o,matches:r}),u=u.slice(n.length));if(!n)break}return t?u.length:u?st.error(e):T(e,a).slice(0)}function mt(e){var t=0,n=e.length,r="";for(;t<n;t++)r+=e[t].value;return r}function gt(e,t,n){var r=t.dir,s=n&&r==="parentNode",o=S++;return t.first?function(t,n,i){while(t=t[r])if(t.nodeType===1||s)return e(t,n,i)}:function(t,n,u){var a,f,l,c=E+" "+o;if(u){while(t=t[r])if(t.nodeType===1||s)if(e(t,n,u))return!0}else while(t=t[r])if(t.nodeType===1||s){l=t[b]||(t[b]={});if((f=l[r])&&f[0]===c){if((a=f[1])===!0||a===i)return a===!0}else{f=l[r]=[c],f[1]=e(t,n,u)||i;if(f[1]===!0)return!0}}}}function yt(e){return e.length>1?function(t,n,r){var i=e.length;while(i--)if(!e[i](t,n,r))return!1;return!0}:e[0]}function bt(e,t,n,r,i){var s,o=[],u=0,a=e.length,f=t!=null;for(;u<a;u++)if(s=e[u])if(!n||n(s,r,i))o.push(s),f&&t.push(u);return o}function wt(e,t,n,r,i,s){return r&&!r[b]&&(r=wt(r)),i&&!i[b]&&(i=wt(i,s)),ut(function(s,o,u,a){var f,l,c,h=[],p=[],d=o.length,v=s||xt(t||"*",u.nodeType?[u]:u,[]),m=e&&(s||!t)?bt(v,h,e,u,a):v,g=n?i||(s?e:d||r)?[]:o:m;n&&n(m,g,u,a);if(r){f=bt(g,p),r(f,[],u,a),l=f.length;while(l--)if(c=f[l])g[p[l]]=!(m[p[l]]=c)}if(s){if(i||e){if(i){f=[],l=g.length;while(l--)(c=g[l])&&f.push(m[l]=c);i(null,g=[],f,a)}l=g.length;while(l--)(c=g[l])&&(f=i?B.call(s,c):h[l])>-1&&(s[f]=!(o[f]=c))}}else g=bt(g===o?g.splice(d,g.length):g),i?i(null,o,g,a):P.apply(o,g)})}function Et(e){var t,n,r,i=e.length,o=s.relative[e[0].type],u=o||s.relative[" "],a=o?1:0,l=gt(function(e){return e===t},u,!0),c=gt(function(e){return B.call(t,e)>-1},u,!0),h=[function(e,n,r){return!o&&(r||n!==f)||((t=n).nodeType?l(e,n,r):c(e,n,r))}];for(;a<i;a++)if(n=s.relative[e[a].type])h=[gt(yt(h),n)];else{n=s.filter[e[a].type].apply(null,e[a].matches);if(n[b]){r=++a;for(;r<i;r++)if(s.relative[e[r].type])break;return wt(a>1&&yt(h),a>1&&mt(e.slice(0,a-1).concat({value:e[a-2].type===" "?"*":""})).replace(z,"$1"),n,a<r&&Et(e.slice(a,r)),r<i&&Et(e=e.slice(r)),r<i&&mt(e))}h.push(n)}return yt(h)}function St(e,t){var n=0,r=t.length>0,o=e.length>0,u=function(u,a,l,c,p){var d,v,m,g=[],y=0,b="0",w=u&&[],S=p!=null,x=f,T=u||o&&s.find.TAG("*",p&&a.parentNode||a),N=E+=x==null?1:Math.random()||.1;S&&(f=a!==h&&a,i=n);for(;(d=T[b])!=null;b++){if(o&&d){v=0;while(m=e[v++])if(m(d,a,l)){c.push(d);break}S&&(E=N,i=++n)}r&&((d=!m&&d)&&y--,u&&w.push(d))}y+=b;if(r&&b!==y){v=0;while(m=t[v++])m(w,g,a,l);if(u){if(y>0)while(b--)!w[b]&&!g[b]&&(g[b]=_.call(c));g=bt(g)}P.apply(c,g),S&&!u&&g.length>0&&y+t.length>1&&st.uniqueSort(c)}return S&&(E=N,f=x),w};return r?ut(u):u}function xt(e,t,n){var r=0,i=t.length;for(;r<i;r++)st(e,t[r],n);return n}function Tt(e,t,n,i){var o,u,f,l,c,h=vt(e);if(!i&&h.length===1){u=h[0]=h[0].slice(0);if(u.length>2&&(f=u[0]).type==="ID"&&r.getById&&t.nodeType===9&&d&&s.relative[u[1].type]){t=(s.find.ID(f.matches[0].replace(nt,rt),t)||[])[0];if(!t)return n;e=e.slice(u.shift().value.length)}o=Q.needsContext.test(e)?0:u.length;while(o--){f=u[o];if(s.relative[l=f.type])break;if(c=s.find[l])if(i=c(f.matches[0].replace(nt,rt),V.test(u[0].type)&&t.parentNode||t)){u.splice(o,1),e=i.length&&mt(u);if(!e)return P.apply(n,i),n;break}}}return a(e,h)(i,t,!d,n,V.test(e)),n}var n,r,i,s,o,u,a,f,l,c,h,p,d,v,m,g,y,b="sizzle"+ -(new Date),w=e.document,E=0,S=0,x=ot(),T=ot(),N=ot(),C=!1,k=function(e,t){return e===t?(C=!0,0):0},L=typeof t,A=1<<31,O={}.hasOwnProperty,M=[],_=M.pop,D=M.push,P=M.push,H=M.slice,B=M.indexOf||function(e){var t=0,n=this.length;for(;t<n;t++)if(this[t]===e)return t;return-1},j="checked|selected|async|autofocus|autoplay|controls|defer|disabled|hidden|ismap|loop|multiple|open|readonly|required|scoped",F="[\\x20\\t\\r\\n\\f]",I="(?:\\\\.|[\\w-]|[^\\x00-\\xa0])+",q=I.replace("w","w#"),R="\\["+F+"*("+I+")"+F+"*(?:([*^$|!~]?=)"+F+"*(?:(['\"])((?:\\\\.|[^\\\\])*?)\\3|("+q+")|)|)"+F+"*\\]",U=":("+I+")(?:\\(((['\"])((?:\\\\.|[^\\\\])*?)\\3|((?:\\\\.|[^\\\\()[\\]]|"+R.replace(3,8)+")*)|.*)\\)|)",z=new RegExp("^"+F+"+|((?:^|[^\\\\])(?:\\\\.)*)"+F+"+$","g"),W=new RegExp("^"+F+"*,"+F+"*"),X=new RegExp("^"+F+"*([>+~]|"+F+")"+F+"*"),V=new RegExp(F+"*[+~]"),$=new RegExp("="+F+"*([^\\]'\"]*)"+F+"*\\]","g"),J=new RegExp(U),K=new RegExp("^"+q+"$"),Q={ID:new RegExp("^#("+I+")"),CLASS:new RegExp("^\\.("+I+")"),TAG:new RegExp("^("+I.replace("w","w*")+")"),ATTR:new RegExp("^"+R),PSEUDO:new RegExp("^"+U),CHILD:new RegExp("^:(only|first|last|nth|nth-last)-(child|of-type)(?:\\("+F+"*(even|odd|(([+-]|)(\\d*)n|)"+F+"*(?:([+-]|)"+F+"*(\\d+)|))"+F+"*\\)|)","i"),bool:new RegExp("^(?:"+j+")$","i"),needsContext:new RegExp("^"+F+"*[>+~]|:(even|odd|eq|gt|lt|nth|first|last)(?:\\("+F+"*((?:-\\d)?\\d*)"+F+"*\\)|)(?=[^-]|$)","i")},G=/^[^{]+\{\s*\[native \w/,Y=/^(?:#([\w-]+)|(\w+)|\.([\w-]+))$/,Z=/^(?:input|select|textarea|button)$/i,et=/^h\d$/i,tt=/'|\\/g,nt=new RegExp("\\\\([\\da-f]{1,6}"+F+"?|("+F+")|.)","ig"),rt=function(e,t,n){var r="0x"+t-65536;return r!==r||n?t:r<0?String.fromCharCode(r+65536):String.fromCharCode(r>>10|55296,r&1023|56320)};try{P.apply(M=H.call(w.childNodes),w.childNodes),M[w.childNodes.length].nodeType}catch(it){P={apply:M.length?function(e,t){D.apply(e,H.call(t))}:function(e,t){var n=e.length,r=0;while(e[n++]=t[r++]);e.length=n-1}}}u=st.isXML=function(e){var t=e&&(e.ownerDocument||e).documentElement;return t?t.nodeName!=="HTML":!1},r=st.support={},c=st.setDocument=function(e){var t=e?e.ownerDocument||e:w,n=t.defaultView;if(t===h||t.nodeType!==9||!t.documentElement)return h;h=t,p=t.documentElement,d=!u(t),n&&n.attachEvent&&n!==n.top&&n.attachEvent("onbeforeunload",function(){c()}),r.attributes=at(function(e){return e.className="i",!e.getAttribute("className")}),r.getElementsByTagName=at(function(e){return e.appendChild(t.createComment("")),!e.getElementsByTagName("*").length}),r.getElementsByClassName=at(function(e){return e.innerHTML="<div class='a'></div><div class='a i'></div>",e.firstChild.className="i",e.getElementsByClassName("i").length===2}),r.getById=at(function(e){return p.appendChild(e).id=b,!t.getElementsByName||!t.getElementsByName(b).length}),r.getById?(s.find.ID=function(e,t){if(typeof t.getElementById!==L&&d){var n=t.getElementById(e);return n&&n.parentNode?[n]:[]}},s.filter.ID=function(e){var t=e.replace(nt,rt);return function(e){return e.getAttribute("id")===t}}):(delete s.find.ID,s.filter.ID=function(e){var t=e.replace(nt,rt);return function(e){var n=typeof e.getAttributeNode!==L&&e.getAttributeNode("id");return n&&n.value===t}}),s.find.TAG=r.getElementsByTagName?function(e,t){if(typeof t.getElementsByTagName!==L)return t.getElementsByTagName(e)}:function(e,t){var n,r=[],i=0,s=t.getElementsByTagName(e);if(e==="*"){while(n=s[i++])n.nodeType===1&&r.push(n);return r}return s},s.find.CLASS=r.getElementsByClassName&&function(e,t){if(typeof t.getElementsByClassName!==L&&d)return t.getElementsByClassName(e)},m=[],v=[];if(r.qsa=G.test(t.querySelectorAll))at(function(e){e.innerHTML="<select><option selected=''></option></select>",e.querySelectorAll("[selected]").length||v.push("\\["+F+"*(?:value|"+j+")"),e.querySelectorAll(":checked").length||v.push(":checked")}),at(function(e){var n=t.createElement("input");n.setAttribute("type","hidden"),e.appendChild(n).setAttribute("t",""),e.querySelectorAll("[t^='']").length&&v.push("[*^$]="+F+"*(?:''|\"\")"),e.querySelectorAll(":enabled").length||v.push(":enabled",":disabled"),e.querySelectorAll("*,:x"),v.push(",.*:")});return(r.matchesSelector=G.test(g=p.webkitMatchesSelector||p.mozMatchesSelector||p.oMatchesSelector||p.msMatchesSelector))&&at(function(e){r.disconnectedMatch=g.call(e,"div"),g.call(e,"[s!='']:x"),m.push("!=",U)}),v=v.length&&new RegExp(v.join("|")),m=m.length&&new RegExp(m.join("|")),y=G.test(p.contains)||p.compareDocumentPosition?function(e,t){var n=e.nodeType===9?e.documentElement:e,r=t&&t.parentNode;return e===r||!!r&&r.nodeType===1&&!!(n.contains?n.contains(r):e.compareDocumentPosition&&e.compareDocumentPosition(r)&16)}:function(e,t){if(t)while(t=t.parentNode)if(t===e)return!0;return!1},k=p.compareDocumentPosition?function(e,n){if(e===n)return C=!0,0;var i=n.compareDocumentPosition&&e.compareDocumentPosition&&e.compareDocumentPosition(n);if(i)return i&1||!r.sortDetached&&n.compareDocumentPosition(e)===i?e===t||y(w,e)?-1:n===t||y(w,n)?1:l?B.call(l,e)-B.call(l,n):0:i&4?-1:1;return e.compareDocumentPosition?-1:1}:function(e,n){var r,i=0,s=e.parentNode,o=n.parentNode,u=[e],a=[n];if(e===n)return C=!0,0;if(!s||!o)return e===t?-1:n===t?1:s?-1:o?1:l?B.call(l,e)-B.call(l,n):0;if(s===o)return lt(e,n);r=e;while(r=r.parentNode)u.unshift(r);r=n;while(r=r.parentNode)a.unshift(r);while(u[i]===a[i])i++;return i?lt(u[i],a[i]):u[i]===w?-1:a[i]===w?1:0},t},st.matches=function(e,t){return st(e,null,null,t)},st.matchesSelector=function(e,t){(e.ownerDocument||e)!==h&&c(e),t=t.replace($,"='$1']");if(r.matchesSelector&&d&&(!m||!m.test(t))&&(!v||!v.test(t)))try{var n=g.call(e,t);if(n||r.disconnectedMatch||e.document&&e.document.nodeType!==11)return n}catch(i){}return st(t,h,null,[e]).length>0},st.contains=function(e,t){return(e.ownerDocument||e)!==h&&c(e),y(e,t)},st.attr=function(e,n){(e.ownerDocument||e)!==h&&c(e);var i=s.attrHandle[n.toLowerCase()],o=i&&O.call(s.attrHandle,n.toLowerCase())?i(e,n,!d):t;return o===t?r.attributes||!d?e.getAttribute(n):(o=e.getAttributeNode(n))&&o.specified?o.value:null:o},st.error=function(e){throw new Error("Syntax error, unrecognized expression: "+e)},st.uniqueSort=function(e){var t,n=[],i=0,s=0;C=!r.detectDuplicates,l=!r.sortStable&&e.slice(0),e.sort(k);if(C){while(t=e[s++])t===e[s]&&(i=n.push(s));while(i--)e.splice(n[i],1)}return e},o=st.getText=function(e){var t,n="",r=0,i=e.nodeType;if(!i)for(;t=e[r];r++)n+=o(t);else if(i===1||i===9||i===11){if(typeof e.textContent=="string")return e.textContent;for(e=e.firstChild;e;e=e.nextSibling)n+=o(e)}else if(i===3||i===4)return e.nodeValue;return n},s=st.selectors={cacheLength:50,createPseudo:ut,match:Q,attrHandle:{},find:{},relative:{">":{dir:"parentNode",first:!0}," ":{dir:"parentNode"},"+":{dir:"previousSibling",first:!0},"~":{dir:"previousSibling"}},preFilter:{ATTR:function(e){return e[1]=e[1].replace(nt,rt),e[3]=(e[4]||e[5]||"").replace(nt,rt),e[2]==="~="&&(e[3]=" "+e[3]+" "),e.slice(0,4)},CHILD:function(e){return e[1]=e[1].toLowerCase(),e[1].slice(0,3)==="nth"?(e[3]||st.error(e[0]),e[4]=+(e[4]?e[5]+(e[6]||1):2*(e[3]==="even"||e[3]==="odd")),e[5]=+(e[7]+e[8]||e[3]==="odd")):e[3]&&st.error(e[0]),e},PSEUDO:function(e){var n,r=!e[5]&&e[2];return Q.CHILD.test(e[0])?null:(e[3]&&e[4]!==t?e[2]=e[4]:r&&J.test(r)&&(n=vt(r,!0))&&(n=r.indexOf(")",r.length-n)-r.length)&&(e[0]=e[0].slice(0,n),e[2]=r.slice(0,n)),e.slice(0,3))}},filter:{TAG:function(e){var t=e.replace(nt,rt).toLowerCase();return e==="*"?function(){return!0}:function(e){return e.nodeName&&e.nodeName.toLowerCase()===t}},CLASS:function(e){var t=x[e+" "];return t||(t=new RegExp("(^|"+F+")"+e+"("+F+"|$)"))&&x(e,function(e){return t.test(typeof e.className=="string"&&e.className||typeof e.getAttribute!==L&&e.getAttribute("class")||"")})},ATTR:function(e,t,n){return function(r){var i=st.attr(r,e);return i==null?t==="!=":t?(i+="",t==="="?i===n:t==="!="?i!==n:t==="^="?n&&i.indexOf(n)===0:t==="*="?n&&i.indexOf(n)>-1:t==="$="?n&&i.slice(-n.length)===n:t==="~="?(" "+i+" ").indexOf(n)>-1:t==="|="?i===n||i.slice(0,n.length+1)===n+"-":!1):!0}},CHILD:function(e,t,n,r,i){var s=e.slice(0,3)!=="nth",o=e.slice(-4)!=="last",u=t==="of-type";return r===1&&i===0?function(e){return!!e.parentNode}:function(t,n,a){var f,l,c,h,p,d,v=s!==o?"nextSibling":"previousSibling",m=t.parentNode,g=u&&t.nodeName.toLowerCase(),y=!a&&!u;if(m){if(s){while(v){c=t;while(c=c[v])if(u?c.nodeName.toLowerCase()===g:c.nodeType===1)return!1;d=v=e==="only"&&!d&&"nextSibling"}return!0}d=[o?m.firstChild:m.lastChild];if(o&&y){l=m[b]||(m[b]={}),f=l[e]||[],p=f[0]===E&&f[1],h=f[0]===E&&f[2],c=p&&m.childNodes[p];while(c=++p&&c&&c[v]||(h=p=0)||d.pop())if(c.nodeType===1&&++h&&c===t){l[e]=[E,p,h];break}}else if(y&&(f=(t[b]||(t[b]={}))[e])&&f[0]===E)h=f[1];else while(c=++p&&c&&c[v]||(h=p=0)||d.pop())if((u?c.nodeName.toLowerCase()===g:c.nodeType===1)&&++h){y&&((c[b]||(c[b]={}))[e]=[E,h]);if(c===t)break}return h-=i,h===r||h%r===0&&h/r>=0}}},PSEUDO:function(e,t){var n,r=s.pseudos[e]||s.setFilters[e.toLowerCase()]||st.error("unsupported pseudo: "+e);return r[b]?r(t):r.length>1?(n=[e,e,"",t],s.setFilters.hasOwnProperty(e.toLowerCase())?ut(function(e,n){var i,s=r(e,t),o=s.length;while(o--)i=B.call(e,s[o]),e[i]=!(n[i]=s[o])}):function(e){return r(e,0,n)}):r}},pseudos:{not:ut(function(e){var t=[],n=[],r=a(e.replace(z,"$1"));return r[b]?ut(function(e,t,n,i){var s,o=r(e,null,i,[]),u=e.length;while(u--)if(s=o[u])e[u]=!(t[u]=s)}):function(e,i,s){return t[0]=e,r(t,null,s,n),!n.pop()}}),has:ut(function(e){return function(t){return st(e,t).length>0}}),contains:ut(function(e){return function(t){return(t.textContent||t.innerText||o(t)).indexOf(e)>-1}}),lang:ut(function(e){return K.test(e||"")||st.error("unsupported lang: "+e),e=e.replace(nt,rt).toLowerCase(),function(t){var n;do if(n=d?t.lang:t.getAttribute("xml:lang")||t.getAttribute("lang"))return n=n.toLowerCase(),n===e||n.indexOf(e+"-")===0;while((t=t.parentNode)&&t.nodeType===1);return!1}}),target:function(t){var n=e.location&&e.location.hash;return n&&n.slice(1)===t.id},root:function(e){return e===p},focus:function(e){return e===h.activeElement&&(!h.hasFocus||h.hasFocus())&&!!(e.type||e.href||~e.tabIndex)},enabled:function(e){return e.disabled===!1},disabled:function(e){return e.disabled===!0},checked:function(e){var t=e.nodeName.toLowerCase();return t==="input"&&!!e.checked||t==="option"&&!!e.selected},selected:function(e){return e.parentNode&&e.parentNode.selectedIndex,e.selected===!0},empty:function(e){for(e=e.firstChild;e;e=e.nextSibling)if(e.nodeName>"@"||e.nodeType===3||e.nodeType===4)return!1;return!0},parent:function(e){return!s.pseudos.empty(e)},header:function(e){return et.test(e.nodeName)},input:function(e){return Z.test(e.nodeName)},button:function(e){var t=e.nodeName.toLowerCase();return t==="input"&&e.type==="button"||t==="button"},text:function(e){var t;return e.nodeName.toLowerCase()==="input"&&e.type==="text"&&((t=e.getAttribute("type"))==null||t.toLowerCase()===e.type)},first:pt(function(){return[0]}),last:pt(function(e,t){return[t-1]}),eq:pt(function(e,t,n){return[n<0?n+t:n]}),even:pt(function(e,t){var n=0;for(;n<t;n+=2)e.push(n);return e}),odd:pt(function(e,t){var n=1;for(;n<t;n+=2)e.push(n);return e}),lt:pt(function(e,t,n){var r=n<0?n+t:n;for(;--r>=0;)e.push(r);return e}),gt:pt(function(e,t,n){var r=n<0?n+t:n;for(;++r<t;)e.push(r);return e})}},s.pseudos.nth=s.pseudos.eq;for(n in{radio:!0,checkbox:!0,file:!0,password:!0,image:!0})s.pseudos[n]=ct(n);for(n in{submit:!0,reset:!0})s.pseudos[n]=ht(n);dt.prototype=s.filters=s.pseudos,s.setFilters=new dt,a=st.compile=function(e,t){var n,r=[],i=[],s=N[e+" "];if(!s){t||(t=vt(e)),n=t.length;while(n--)s=Et(t[n]),s[b]?r.push(s):i.push(s);s=N(e,St(i,r))}return s},r.sortStable=b.split("").sort(k).join("")===b,r.detectDuplicates=C,c(),r.sortDetached=at(function(e){return e.compareDocumentPosition(h.createElement("div"))&1}),at(function(e){return e.innerHTML="<a href='#'></a>",e.firstChild.getAttribute("href")==="#"})||ft("type|href|height|width",function(e,t,n){if(!n)return e.getAttribute(t,t.toLowerCase()==="type"?1:2)}),(!r.attributes||!at(function(e){return e.innerHTML="<input/>",e.firstChild.setAttribute("value",""),e.firstChild.getAttribute("value")===""}))&&ft("value",function(e,t,n){if(!n&&e.nodeName.toLowerCase()==="input")return e.defaultValue}),at(function(e){return e.getAttribute("disabled")==null})||ft(j,function(e,t,n){var r;if(!n)return(r=e.getAttributeNode(t))&&r.specified?r.value:e[t]===!0?t.toLowerCase():null}),typeof define=="function"&&define.amd?define("lib/sizzle",function(){return st}):e.Sizzle=st}(window),aQuery.define("main/query",["lib/sizzle","base/extend","base/typed","base/array"],function(e,t,n,r,i,s){"use strict";function p(t,n,s){n=n||0;if(r.isFunction(n))return i.grep(t,function(e,t){var r=!!n.call(e,t,e);return r===s});if(n.nodeType)return i.grep(t,function(e){return e===n===s});if(r.isString(n)){var o=i.grep(t,function(e){return e.nodeType===1});if(l.test(n))return e.filter(n,o,!s);n=e.filter(n,o)}return i.grep(t,function(e){return i.inArray(e,n)>=0===s})}function v(e,t){do e=e[t];while(e&&e.nodeType!==1);return e}this.describe("Depend Sizzle1.10.3"),e.module["lib/js/sizzle"]="Sizzle1.10.3";var o=[],u=o.concat,a=/Until$/,f=/^(?:parents|prev(?:Until|All))/,l=/^.[^:#\[\.,]*$/,c=t.selectors.match.needsContext,h={children:!0,contents:!0,next:!0,prev:!0},d={expr:t.selectors,unique:t.uniqueSort,text:t.getText,contains:t.contains,dir:function(t,n,r){var i=[],o=t[n];while(o&&o.nodeType!==9&&(r===s||o.nodeType!==1||!e(o).is(r)))o.nodeType===1&&i.push(o),o=o[n];return i},posterity:function(t){return e.getElesByTag("*",t)},elementCollectionToArray:function(t,n){var i=[];if(r.isElementCollection(t)){var n=n===s?!0:n;e.each(t,function(e){n===!1?i.push(e):e.nodeType!=3&&e.nodeType!=8&&i.push(e)},this)}return i},find:t,filter:function(t,n,r){return r&&(t=":not("+t+")"),n.length===1?e.find.matchesSelector(n[0],t)?[n[0]]:[]:e.find.matches(t,n)},getEle:function(t,n){var s=[],o;return r.isString(t)?(t=e.util.trim(t),o=n||document,s=e.find(t,o.documentElement||n)):r.isElement(t)||t&&t.nodeType===3?s=[t]:r.isArray(t)?(e.each(t,function(e){(r.isElement(e)||e&&e.nodeType===3)&&s.push(e)},this),s=i.filterSame(s)):t instanceof e?s=t.eles:r.isElementCollection(t)?s=e.elementCollectionToArray(t,!0):t===document?s=[t.documentElement]:t===window?s=[window]:r.isDocument(t)&&(s=[t.documentElement]),s},getElesByClass:function(t,n){return e.expr.find.CLASS(t,n||document)},getEleById:function(t,n){return e.expr.find.ID(t,n||document)[0]},getElesByTag:function(t,n){return e.expr.find.TAG(t,n||document)},getSelfIndex:function(e){var t=-1,n=e.parentNode.firstChild;while(n){if(r.isElement(n)&&t++!=s&&n===e)break;n=n.nextSibling}return t},iterationPosterity:function(t,n){return i.grep(e.posterity(t),function(e){return n(e)})},map:function(e,t,n){var i,s=0,o=e.length,a=r.isArraylike(e),f=[];if(a)for(;s<o;s++)i=t(e[s],s,n),i!=null&&(f[f.length]=i);else for(s in e)i=t(e[s],s,n),i!=null&&(f[f.length]=i);return u.apply([],f)},sibling:function(e,t){var n=[];for(;e;e=e.nextSibling)e.nodeType===1&&e!==t&&n.push(e);return n}};return e.extend(d),e.expr[":"]=e.expr.pseudos,e.fn.extend({posterity:function(t){var n=e.posterity(this.eles);return r.isString(t)&&(n=e.find(t,n)),e(n)},eq:function(t){var n=this.length,r=+t+(t<0?n:0);return r>=0&&r<n?e(this[r]):e([])},filter:function(t){return e(p(this,t,!1))},find:function(n){var r,i,s,o=this.length;if(typeof n!="string")return s=this,e(e(n).filter(function(){for(r=0;r<o;r++)if(t.contains(s[r],this))return!0}));i=[];for(r=0;r<o;r++)e.find(n,this[r],i);return i=e(o>1?e.unique(i):i),i.selector=(this.selector?this.selector+" ":"")+n,i},index:function(t){return t?r.isString(t)?i.inArray(e(t),this[0]):i.inArray(this,r.is$(t)?t[0]:t):this[0]&&this[0].parentNode?this.first().prevAll().length:-1},is:function(t){return!!t&&(r.isString(t)?c.test(t)?e.find(t,this.context).index(this[0])>=0:e.filter(t,this.eles).length>0:this.filter(t).length>0)},map:function(t){return e(e.map(this,function(e,n){return t.call(e,n,e)}))},not:function(t){return e(p(this,t,!1))}}),e.each({parent:function(e){var t=e.parentNode;return t&&t.nodeType!==11?t:null},parents:function(t){return e.dir(t,"parentNode")},parentsUntil:function(t,n,r){return e.dir(t,"parentNode",r)},next:function(e){return v(e,"nextSibling")},prev:function(e){return v(e,"previousSibling")},nextAll:function(t){return e.dir(t,"nextSibling")},prevAll:function(t){return e.dir(t,"previousSibling")},nextUntil:function(t,n,r){return e.dir(t,"nextSibling",r)},prevUntil:function(t,n,r){return e.dir(t,"previousSibling",r)},siblings:function(t){return e.sibling((t.parentNode||{}).firstChild,t)},children:function(t){return e.sibling(t.firstChild)},contents:function(t){return r.isNode(t,"iframe")?t.contentDocument||t.contentWindow.document:e.merge([],t.childNodes)}},function(t,n){e.fn[n]=function(r,i){var s=e.map(this,t,r);return a.test(n)||(i=r),i&&typeof i=="string"&&(s=e.filter(i,s)),s=this.length>1&&!h[n]?e.unique(s):s,this.length>1&&f.test(n)&&(s=s.reverse()),e(s)}}),e.interfaces.achieve("constructorQuery",function(e,t,n){return d.getEle(t,n)}),d}),aQuery.define("base/support",["base/extend","base/ready"],function(e,t,n){"use strict";this.describe("Consult from jquery-1.9.1");var r,i,s,o,u,a,f,l,c,h,p=document.createElement("div");p.setAttribute("className","t"),p.innerHTML="  <link/><table></table><a href='/a'>a</a><input type='checkbox'/>",i=p.getElementsByTagName("*"),s=p.getElementsByTagName("a")[0];if(!i||!s||!i.length)return{};u=document.createElement("select"),f=u.appendChild(document.createElement("option")),o=p.getElementsByTagName("input")[0],s.style.cssText="top:1px;float:left;opacity:.5";var r={canvas:typeof CanvasRenderingContext2D!="undefined",scriptEval:!1,getSetAttribute:p.className!=="t",leadingWhitespace:p.firstChild.nodeType===3,tbody:!p.getElementsByTagName("tbody").length,htmlSerialize:!!p.getElementsByTagName("link").length,style:/top/.test(s.getAttribute("style")),hrefNormalized:s.getAttribute("href")==="/a",opacity:/^0.5/.test(s.style.opacity),cssFloat:!!s.style.cssFloat,checkOn:!!o.value,optSelected:f.selected,enctype:!!document.createElement("form").enctype,html5Clone:document.createElement("nav").cloneNode(!0).outerHTML!=="<:nav></:nav>",boxModel:document.compatMode==="CSS1Compat",deleteExpando:!0,noCloneEvent:!0,inlineBlockNeedsLayout:!1,shrinkWrapBlocks:!1,reliableMarginRight:!0,boxSizingReliable:!0,pixelPosition:!1};o.checked=!0,r.noCloneChecked=o.cloneNode(!0).checked,u.disabled=!0,r.optDisabled=!f.disabled;try{delete p.test}catch(d){r.deleteExpando=!1}o=document.createElement("input"),o.setAttribute("value",""),r.input=o.getAttribute("value")==="",o.value="t",o.setAttribute("type","radio"),r.radioValue=o.value==="t",o.setAttribute("checked","t"),o.setAttribute("name","t"),a=document.createDocumentFragment(),a.appendChild(o),r.appendChecked=o.checked,r.checkClone=a.cloneNode(!0).cloneNode(!0).lastChild.checked,p.attachEvent&&(p.attachEvent("onclick",function(){r.noCloneEvent=!1}),p.cloneNode(!0).click());for(h in{submit:!0,change:!0,focusin:!0})p.setAttribute(l="on"+h,"t"),r[h+"Bubbles"]=l in window||p.attributes[l].expando===!1;p.style.backgroundClip="content-box",p.cloneNode(!0).style.backgroundClip="",r.clearCloneStyle=p.style.backgroundClip==="content-box",n(function(){var e="padding:0;margin:0;border:0;display:block;box-sizing:content-box;-moz-box-sizing:content-box;-webkit-box-sizing:content-box;",t=document.getElementsByTagName("body")[0],n,i,s;if(!t)return;n=document.createElement("div"),n.style.cssText="border:0;width:0;height:0;position:absolute;top:0;left:-9999px;margin-top:1px",t.appendChild(n).appendChild(p),p.innerHTML="<table><tr><td></td><td>t</td></tr></table>",s=p.getElementsByTagName("td"),s[0].style.cssText="padding:0;margin:0;border:0;display:none",c=s[0].offsetHeight===0,s[0].style.display="",s[1].style.display="none",r.reliableHiddenOffsets=c&&s[0].offsetHeight===0,p.innerHTML="",p.style.cssText="box-sizing:border-box;-moz-box-sizing:border-box;-webkit-box-sizing:border-box;padding:1px;border:1px;display:block;width:4px;margin-top:1%;position:absolute;top:1%;",r.boxSizing=p.offsetWidth===4,r.doesNotIncludeMarginInBodyOffset=t.offsetTop!==1,window.getComputedStyle&&(r.pixelPosition=(window.getComputedStyle(p,null)||{}).top!=="1%",r.boxSizingReliable=(window.getComputedStyle(p,null)||{width:"4px"}).width==="4px",i=p.appendChild(document.createElement("div")),i.style.cssText=p.style.cssText=e,i.style.marginRight=i.style.width="0",p.style.width="1px",r.reliableMarginRight=!parseFloat((window.getComputedStyle(i,null)||{}).marginRight)),typeof p.style.zoom!="undefined"&&(p.innerHTML="",p.style.cssText=e+"width:1px;padding:1px;display:inline;zoom:1",r.inlineBlockNeedsLayout=p.offsetWidth===3,p.style.display="block",p.innerHTML="<div></div>",p.firstChild.style.width="5px",r.shrinkWrapBlocks=p.offsetWidth!==3,r.inlineBlockNeedsLayout&&(t.style.zoom=1)),t.removeChild(n),n=p=s=i=null}),i=u=a=f=s=o=null;var v=document.documentElement,m=document.createElement("script"),g="_"+e.now();m.type="text/javascript";try{m.appendChild(document.createTextNode("window."+g+"=1;"))}catch(d){}return v.insertBefore(m,v.firstChild),window[g]&&(r.scriptEval=!0,delete window[g]),v.removeChild(m),v=m=null,r}),aQuery.define("main/attr",["base/typed","base/extend","base/support"],function(e,t,n,r,i){"use strict";var s={name:!0,id:!0,coords:!0},o={tabindex:"tabIndex",readonly:"readOnly","for":"htmlFor","class":"className",maxlength:"maxLength",cellspacing:"cellSpacing",cellpadding:"cellPadding",rowspan:"rowSpan",colspan:"colSpan",usemap:"useMap",frameborder:"frameBorder",contenteditable:"contentEditable"},u=/^(?:autofocus|autoplay|async|checked|controls|defer|disabled|hidden|loop|multiple|open|readonly|required|scoped|selected)$/i,a={getAttr:function(e,t){var n;return r.getSetAttribute?(n=e.getAttributeNode(t))?n.nodeValue:i:(n=e.getAttributeNode(t),n&&(s[t]?n.nodeValue!=="":n.specified)?n.nodeValue:i)},getVal:function(n){var r=n.type.toUpperCase(),i;if(t.isNode(n,"select")){i=n.value;if(t.isNul(i)||n.multiple==1)i=[],e(n).posterity(":selected").each(function(e){i.push(e.innerHTML)}),i=i.join("|");return i}return!t.isNode(n,"select")||r!="CHECKBOX"&&r!="RADIO"?n.value.toString():n.checked.toString()},removeAttr:function(e,t){var n,i,s,f,l,c=0;if(t&&e.nodeType===1){i=t.toLowerCase().split(/\s+/),f=i.length;for(;c<f;c++)s=i[c],s&&(n=o[s]||s,l=u.test(s),l||a.setAttr(e,s,""),e.removeAttribute(r.getSetAttribute?s:n),l&&n in e&&(e[n]=!1))}return this},setAttr:function(e,t,n){if(n==null)return a.removeAttr(e,t);if(!r.getSetAttribute){var i=e.getAttributeNode(t);i||(i=document.createAttribute(t),e.setAttributeNode(i)),i.nodeValue=n+""}else e.setAttribute(t,n);return this},setVal:function(n,r){var i=n.type.toUpperCase();if(t.isNode(n,"select")){if(t.isString(r)||t.isNumber(r))r=[r];e(n).find("option").each(function(e){e.selected=!1}).each(function(t,n){e.each(r,function(e){if(n===e||t.innerHTML===e)t.selected=!0},this)})}else!t.isNode(n,"input")||i!="CHECKBOX"&&i!="RADIO"?n.value=r.toString():r==="checked"||r==="true"||r===!0?n.checked=!0:n.value=r.toString();return this}};return e.fn.extend({attr:function(e,n){if(t.isObject(e))for(var r in e)this.each(function(t){a.setAttr(t,r,e[r])});else if(t.isString(e)){if(n==i)return a.getAttr(this[0],e);this.each(function(t){a.setAttr(t,e,n)})}return this},removeAttr:function(e){return this.each(function(t){a.removeAttr(t,e)})},val:function(e){return e?this.each(function(t){a.setVal(t,e)}):a.getVal(this[0])}}),a}),aQuery.define("app/Model",["main/attr","main/object","main/CustomEvent"],function(e,t,n,r,i){"use strict";this.describe("Super Model Class");var s=r.extend({init:function(e){this._super(),this.element=e,this.id=t.getAttr(e,"id")||null,this.src=t.getAttr(e,"src"),s.collection.add(this)},destroy:function(){s.collection.remove(this)}},{}),o=n.Collection(s,{});return s.collection=new o,n.createPropertyGetterSetter(s,{element:"-pu -r",id:"-pu -r",src:"-pu -r"}),s}),aQuery.define("base/client",["base/extend"],function(e,t){this.describe("Cline of Browser");var n={browser:{opera:!1,chrome:!1,safari:!1,kong:!1,firefox:!1,ie:!1,ie678:!1},engine:{opera:!1,webkit:!1,khtml:!1,gecko:!1,ie:!1,ie678:!1},system:{win:null,mac:null,linux:null,iphone:null,ipod:null,ipad:null,pad:null,nokian:null,winMobile:null,androidMobile:null,ios:null,wii:null,ps:null},language:""},r=RegExp,i=navigator.userAgent,s=navigator.platform||"",o=n.browser,u=n.engine,a=n.system;n.language=(navigator.browserLanguage||navigator.language).toLowerCase(),a.win=s.indexOf("Win")==0;if(a.win&&/Win(?:dows)? ([^do]{2})\s?(\d+\.\d+)?/.test(i))if(r.$1=="NT")switch(r.$2){case"5.0":a.win="2000";break;case"5.1":a.win="XP";break;case"6.0":a.win="Vista";break;default:a.win="NT"}else r.$1?a.win="ME":a.win=r.$1;a.mac=s.indexOf("Mac")==0,a.linux=s.indexOf("Linux")==0,a.iphone=i.indexOf("iPhone")>-1,a.ipod=i.indexOf("iPod")>-1,a.ipad=i.indexOf("iPad")>-1,a.pad=i.indexOf("pad")>-1,a.nokian=i.indexOf("NokiaN")>-1,a.winMobile=a.win=="CE",a.androidMobile=/Android/.test(i),a.ios=!1,a.wii=i.indexOf("Wii")>-1,a.ps=/playstation/i.test(i),a.x11=s=="X11"||s.indexOf("Linux")==0,a.appleMobile=a.iphone||a.ipad||a.ipod,a.mobile=a.appleMobile||a.androidMobile||/AppleWebKit.*Mobile./.test(i)||a.winMobile,/OS [X ]*(\d*).(\d*)/.test(i)&&(a.ios=parseFloat(r.$1+"."+r.$2));if(window.opera)u.opera=o.opera=parseFloat(window.opera.version());else if(/AppleWebKit\/(\S+)/.test(i)){u.webkit=parseFloat(r.$1);if(/Chrome\/(\S+)/.test(i))o.chrome=parseFloat(r.$1);else if(/Version\/(\S+)/.test(i))o.safari=parseFloat(r.$1);else{var f=1,l=u.webkit;a.mac?l<100?f=1:l==100?f=1.1:l<=125?f=1.2:l<313?f=1.3:l<420?f=2:l<529?f=3:l<533.18?f=4:l<536.25?f=5:f=6:a.win?l==5?f=5:l<529?f=3:l<531.3?f=4:f=5:a.appleMobile&&(l<526?f=3:l<531.3?f=4:l<536.25?f=5:f=6),o.safari=f}}else/KHTML\/(\S+)/.test(i)||/Konquersor\/([^;]+)/.test(i)?u.khtml=o.kong=parseFloat(r.$1):/rv:([^\)]+)\) Gecko\/\d{8}/.test(i)?(u.gecko=parseFloat(r.$1),/Firefox\/(\S+)/.test(i)&&(o.firefox=parseFloat(r.$1))):/MSIE([^;]+)/.test(i)&&(u.ie=o.ie=parseFloat(r.$1));return n}),aQuery.define("main/data",["base/extend","base/typed","base/support"],function(e,t,n,r,i){"use strict";function s(e){var t;for(t in e){if(t==="data"&&n.isEmptyObject(e[t]))continue;if(t!=="toJSON")return!1}return!0}var o="aQuery"+e.now(),u=0,a={},f={},l={cache:[],data:function(e,r,s){if(!e||e.nodeName&&l.noData[e.nodeName.toLowerCase()])return this;e=e==window?a:e;var c=e[o],h=l.cache,p;return!r&&!c?this:(c||(c=++u),n.isPlainObject(r)?(e[o]=c,p=h[c]=t.extend(!0,{},r)):h[c]?p=h[c]:s===i?p=f:p=h[c]={},s!==i&&(e[o]=c,p[r]=s),n.isString(r)?p[r]:p)},_getTarget:function(e){return!e||e.nodeName&&l.noData[e.nodeName.toLowerCase()]?null:e==window?a:e},get:function(e,t){e=l._getTarget(e);if(!e)return i;var n=e[o],r=l.cache,s;return n&&r[n]?t?r[n][t]:r[n]:i},set:function(e,r,s){e=l._getTarget(e);if(!e)return this;var a=e[o],c=l.cache,h;return!r&&!a?this:(a||(a=++u),n.isPlainObject(r)?(e[o]=a,h=c[a]=t.extend(!0,{},r)):c[a]?h=c[a]:s===i?h=f:h=c[a]={},s!==i&&(e[o]=a,h[r]=s),this)},expando:o,noData:{embed:!0,object:!0,applet:!0},removeData:function(e,t){if(!e||e.nodeName&&l.noData[e.nodeName.toLowerCase()])return this;e=e==window?a:e;var i=e[o],s=l.cache,u=s[i];return t?u&&(delete u[t],n.isEmptyObject(u)&&l.removeData(e)):(r.deleteExpando?delete e[o]:e.removeAttribute?e.removeAttribute(o):e[o]=null,delete s[i]),this},hasData:function(e){return e=e.nodeType?l.cache[e[l.expando]]:e[l.expando],!!e&&!s(e)}};return e.fn.extend({data:function(e,t){return e===i&&this.length?l.get(this[0]):n.isObject(e)?this.each(function(t){l.get(t,e)}):t===i?l.get(this[0],e):this.each(function(n){l.set(n,e,t)})},removeData:function(e){return this.each(function(t){l.removeData(t,e)})},hasData:function(){return this[0]&&l.hasData(this[0])}}),l}),aQuery.define("main/event",["base/config","base/typed","base/extend","base/client","base/array","main/query","main/CustomEvent","main/data"],function(e,t,n,r,i,s,o,u,a,f){"use strict";var l="contextmenu click dblclick mousedown mouseup mousemove mouseover mouseout mouseenter mouseleave mousewheel DOMMouseScroll".split(" "),c="load unload error".split(" "),h="blur focus focusin focusout".split(" "),p="keydown keypress keyup".split(" "),d="resize scroll change select submit DomNodeInserted DomNodeRemoved".split(" "),v="touchstart touchmove touchend touchcancel gesturestart gesturechange gestureend orientationchange",m={},g={type:function(t){var n;switch(t){case"focus":i.browser.ie&&(t+="in");break;case"blur":i.browser.ie&&(t="focusout");break;case"touchwheel":t="mousewheel",i.browser.firefox&&(t="DOMMouseScroll");break;case"mousewheel":i.browser.firefox&&(t="DOMMouseScroll")}if(n=e.interfaces.trigger("eventHooks",t))t=n;return t},compatibleEvent:function(e){var t=S.document;e.getCharCode=function(){t.getCharCode(this)},e.preventDefault||(e.preventDefault=function(){this.returnValue=!1}),e.stopPropagation||(e.stopPropagation=function(){this.cancelBubble=!0}),e.getButton=function(){t.getButton(this)}},proxy:function(r){if(!r.__proxy){var i;r.__proxy=function(s){var o=S.document.getEvent(s),u=this;if(n.isEvent(o)){u=S.document.getTarget(s);if(i=e.interfaces.trigger("proxy",o,u))o=i.event,u=i.target;t.module.compatibleEvent&&g.compatibleEvent(o)}r.call(u,o||{})},r.__proxy.count=1}else r.__proxy.count++;return r.__proxy},destroyProxy:function(e){e.__proxy&&--e.__proxy.count===0&&delete e.__proxy}},y="__handlersKey",b="__toggleKey",w=0,E,S={addHandler:function(e,t,r){if(n.isElement(e)||n.isWindow(e)){var i,s,o,u=t.split(" "),a=u.length-1;i=S._initHandler(e);for(;a>=0;a--)o=u[a],i.hasHandler(o,r)==-1&&m[o]&&(o=g.type(o),s=g.proxy(r,this),S.document._addHandler(e,o,s));t&&r&&i.addHandler(t,r)}return this},once:function(e,t,r){if(n.isElement(e)||n.isWindow(e)){var i=S._initHandler(e),s=t.split(" "),o=s.length-1,u;for(;o>=0;o--)u=s[o],i.hasHandler(u,r)==-1&&this._once(e,u,r)}return this},_once:function(e,t,n){var r=S._initHandler(e),i=function(){if(m[t]){var s=g.proxy(n,S),o=g.type(t);s.apply(this,arguments),g.destroyProxy(n),S.document.removeHandler(e,o,i),r.removeHandler(t,n),S._destroyHandler(e),i=null}};if(m[t]){var s=g.type(t);S.document.addHandler(e,s,i),r.addHandler(t,n)}else r.once(t,n,function(){S._destroyHandler(e)})},removeHandler:function(e,t,r){if(n.isElement(e)||n.isWindow(e)){var i=a.get(e,y),s=r.__proxy||r,o=t.split(" "),u=o.length-1,f;for(;u>=0;u--)f=o[u],m[f]&&(f=g.type(f),g.destroyProxy(r),S.document._removeHandler(e,f,s));i&&t&&r&&(i.removeHandler(t,r),S._destroyHandler(e))}return this},clearHandlers:function(e,t){if(n.isElement(e)||n.isWindow(e)){var r=a.get(e,y);if(!r)return this;var i=r.getHandlers(),s={},o=0,u=0,f,l,c;if(t){var h=t.split(" "),p=h.length-1;for(;p>=0;p--)l=h[p],l in i&&(s[l]=1)}else s=i;for(f in s){l=r.getHandlers(f);for(o=0,u=l.length;o<u;o++)c=l[o],m[f]&&S.removeHandler(e,f,c)}r.clearHandlers(t),S._destroyHandler(e)}return this},cloneHandlers:function(e,t){var n=a.get(t,y);if(n){var r=n.getHandlers(),i=0,s=0,o,u,f;for(o in r){u=n.getHandlers(o);for(i=0,s=u.length;i<s;i++)f=u[i],S.addHandler(e,o,f)}}return this},hasHandler:function(e,t,r){if(n.isElement(e)||n.isWindow(e)){var i=a.get(e,y);if(i)return i.hasHandler(t,r)}return-1},getHandlers:function(e,t){if(n.isElement(e)||n.isWindow(e)){var r=a.get(e,y);if(r){var i=r.getHandlers(t);return i.length?i:null}}return null},document:{addHandler:function(e,t,n){var r=t.split(" "),i=r.length-1;for(;i>=0;i--)this._addHandler(e,r[i],n)},_addHandler:function(e,t,n){e.addEventListener?e.addEventListener(t,n,!1):e.attachEvent?e.attachEvent("on"+t,n):(e["on"+t]=n,e=null)},once:function(e,t,n){var r=this,i=function(){r._removeHandler(e,t,i),n.apply(this,arguments)};return this._addHandler(e,t,i)},removeHandler:function(e,t,n){var r=t.split(" "),i=r.length-1;for(;i>=0;i--)this._removeHandler(e,r[i],n)},_removeHandler:function(e,t,n){e.removeEventListener?e.removeEventListener(t,n,!1):e.detachEvent?e.detachEvent("on"+t,n):e["on"+t]=null},createEvent:function(e){var t;return document.createEvent?t=document.createEvent(e):document.createEventObject&&(t=document.createEventObject()),t},dispatchEvent:function(e,t,n){e.dispatchEvent?e.dispatchEvent(t):e.fireEvent&&e.fireEvent("on"+n,t,!1)},getCharCode:function(e){return(e.keyCode?e.keyCode:e.which||e.charCode)||0},getEvent:function(e){return e||window.event},getTarget:function(e){return e.srcElement||e.target},imitation:{_keySettings:{bubbles:!0,cancelable:!0,view:document.defaultView,detail:0,ctrlKey:!1,altKey:!1,shiftKey:!1,metaKey:!1,keyCode:0,charCode:0},eventList:m,_editKeyCharCode:function(e){var t=S.document.getCharCode(e);delete e.charCode,delete e.keyCode,delete e.which,i.engine.webkit?e.charCode=t:i.engine.ie?e.charCode=t:e.keyCode=e.which=t},key:function(e,t,n){var s=S.document,o=s.createEvent,u=r.extend({},s.imitation._keySettings,n),a=u,f,l,c;s.imitation._editKeyCharCode(u);if(i.browser.firefox)f=o("KeyEvents"),f.initKeyEvent(t,a.bubbles,a.cancelable,a.view,a.ctrlKey,a.altKey,a.shiftKey,a.metaKey,a.keyCode,a.charCode);else if(i.browser.ie678){f=o();for(l in u)f[l]=u[l]}else{c="Events",i.browser.safari&&i.browser.safari<3&&(c="UIEvents"),f=o(c),f.initEvent(t,u.bubbles,u.cancelable),delete u.bubbles,delete u.cancelable;for(l in u)f[l]=u[l]}s.dispatchEvent(e,f,t)},_mouseSettings:{bubbles:!0,cancelable:!0,view:document.defaultView,detail:0,screenX:0,screenY:0,clientX:0,clientY:0,ctrlKey:!1,altKey:!1,metaKey:!1,shiftKey:!1,button:0,relatedTarget:null},mouse:function(e,t,n){var s=S.document,o=s.createEvent,u=r.extend({},s.imitation._mouseSettings,n),a,f=u;if(i.browser.safari&&i.browser.safari<3){a=o("UIEvents"),a.initEvent(t,u.bubbles,u.cancelable),delete u.bubbles,delete u.cancelable;for(f in u)a[f]=u[f]}else if(i.browser.ie678){a=o();for(f in u)a[f]=u[f]}else a=o("MouseEvents"),a.initMouseEvent(t,f.bubbles,f.cancelable,f.view,f.detail,f.screenX,f.screenY,f.clientX,f.clientY,f.ctrlKey,f.altKey,f.metaKey,f.shiftKey,f.button,f.relatedTarget);s.dispatchEvent(e,a,t)},_htmlSettings:{bubbles:!0,cancelable:!0},html:function(e,t,n){var s=S.document,o=s.createEvent,u=r.extend({},s.imitation._htmlSettings,n),a,f=u;if(i.browser.ie678){a=o();for(f in u)a[f]=u[f]}else{a=o("HTMLEvents"),a.initEvent(t,u.bubbles,u.cancelable),delete u.bubbles,delete u.cancelable;for(f in u)a[f]=u[f]}s.dispatchEvent(e,a,t)}},preventDefault:function(e){e.preventDefault?e.preventDefault():e.returnValue=!1},stopPropagation:function(e){e.stopPropagation?e.stopPropagation():e.cancelBubble=!0},getButton:function(e){if(document.implementation.hasFeature("MouseEvents","2.0"))return e.button;switch(e.button){case 0:case 1:case 3:case 5:case 7:return 0;case 2:case 6:return 2;case 4:return 1}},on:function(e,t,n){return this.addHandler(e,t,n)},off:function(e,t,n){return this.removeHandler(e,t,n)}},error:function(){return S.document.addHandler(window,"error",function(t,n,r){var i=t.message||"no message",s=t.filename||t.sourceURL||t.stacktrace||n;r=t.lineno||t.lineNumber||t.number||t.lineNumber||t.line||r,e.logger("line",r,"message",i,"at",s)}),this},_initHandler:function(e){var t=a.get(e,y);return t||(t=new u,a.set(e,y,t)),t},_destroyHandler:function(e){var t=a.get(e,y);return t&&t.isEmpty()&&(a.removeData(e,y),a.hasData(e)||a.removeData(e)),t},toggle:function(t,n){var r=e.util.argToArray(arguments,1),i=0,s;if(r.length>1){if(s=a.get(t,b))r=s.arg.concat(r),i=s.index;a.set(t,b,{index:i,arg:r}),S.addHandler(t,"click",this._toggle)}else a.removeData(t,b),S.removeHandler(t,"click",this._toggle);return this},_toggle:function(e){var t=S.document.getTarget(e),n=a.get(t,b),r=n.arg,i=r.length,s=n.index%i;r[s].call(t,e),a.set(t,b,{index:s+1,arg:r})},trigger:function(t,r,i,s){if(n.isElement(t)||n.isWindow(t)){var o,u;if(n.isObject(r)){var u=r;r=u.type,i=u.target,s=u}(o=m[r])?(r=g.type(r),n.isFunction(o)?o(t,r,s):e.logger("trigger","triggering"+r+" is not supported")):(o=a.get(t,y))&&o.trigger.apply(o,u?[u]:[r,i].concat(e.util.argToArray(arguments,3)))}return this}};r.easyExtend(S,{on:S.addHandler,off:S.removeHandler,clear:S.clearHandlers});var x=new u;e.extend({addHandler:function(e,t){return x.addHandler(e,t),this},removeHandler:function(e,t){x.removeHandler(e,t)},clearHandlers:function(e){return x.clearHandlers(e),this},hasHandler:function(e,t){return x.hasHandler(e,t)},trigger:function(){return x.trigger.apply(x,arguments),this},once:function(e,t){return x.once(e,t),this},bus:x,ajaxStart:function(t){return e.addHandler("ajaxStart",t)},ajaxStop:function(t){return e.addHandler("ajaxStop",t)},getJSStart:function(t){return e.addHandler("jsonpStart",t)},jsonpStop:function(t){return e.addHandler("jsonpStop",t)}}),e.extend({on:e.addHandler,off:e.removeHandler,clear:e.clearHandlers}),e.fn.extend({addHandler:function(e,t){return!n.isString(e)||!n.isFunction(t)&&t!==null?this:this.each(function(n){S.addHandler(n,e,t)})},once:function(e,t){return!n.isString(e)||!n.isFunction(t)&&t!==null?this:this.each(function(n){S.once(n,e,t)})},clearHandlers:function(e){return this.each(function(t){S.clearHandlers(t,e)})},hasHandler:function(e,t){return S.hasHandler(this[0],e,t)},delegate:function(e,t,n){return this.each(function(r){S.addHandler(r,t,function(t){var i=o.find(e,r),u=S.document.getTarget(t),a=s.inArray(i||[],u);a>-1&&n.call(u,t)})})},removeHandler:function(e,t){return!n.isString(e)||!n.isFunction(t)?this:this.each(function(n){S.removeHandler(n,e,t)})},_initHandler:function(){return this.each(function(e){S._initHandler(e)})},toggle:function(t){var r=n.isArray(t)?t:e.util.argToArray(arguments,0),i,s=0,o;for(;o=this.eles[s++];)i=r.concat(),i.splice(0,0,o),S.toggle.apply(S,i);return this},trigger:function(t,n){var r=e.util.argToArray(arguments);return this.each(function(e){S.trigger.apply(null,[e].concat(r))})},blur:function(e){return this.addHandler("blur",e)},focus:function(e){return this.addHandler("focus",e)},focusin:function(e){return this.addHandler("focusin",e)},focusout:function(e){return this.addHandler("focusout",e)},load:function(e){return this.addHandler("load",e)},resize:function(e){return this.addHandler("resize",e)},scroll:function(e){return this.addHandler("scroll",e)},unload:function(e){return this.addHandler("unload",e)},click:function(e){return this.addHandler("click",e)},dblclick:function(e){return this.addHandler("dblclick",e)},mousedown:function(e){return this.addHandler("dblclick",e)},mouseup:function(e){return this.addHandler("mouseup",e)},mousemove:function(e){return this.addHandler("mousemove",e)},mouseover:function(e){return this.addHandler("mouseover",e)},mouseout:function(e){return this.addHandler("mouseout",e)},mouseenter:function(e){return this.addHandler("mouseover",function(t){e.apply(this,arguments),S.document.stopPropagation(t)})},mouseleave:function(e){return this.blur("mouseout",function(t){e.apply(this,arguments),S.document.stopPropagation(t)})},mousewheel:function(e){return this.addHandler("mousewheel",function(t){t=S.document.getEvent(t);var n=0;t.wheelDelta&&(n=t.wheelDelta/120),t.detail&&(n=-t.detail/3),n=Math.round(n),n&&e.call(this,n),S.document.stopPropagation(t)})},touchwheel:function(e){return this.addHandler("mousewheel",function(t){t=S.document.getEvent(t);var n=0,r="y";t.wheelDelta?(n=t.wheelDelta,t.wheelDeltaX&&(r="x"),t.wheelDeltaY&&(r="y")):t.detail&&(n=-t.detail*40),t.axis&&(r=t.axis==1?"x":"y"),t.delta=n,t.direction=r,S.document.stopPropagation(t),S.document.preventDefault(t),e.call(this,t)})},change:function(e){return this.addHandler("mouseout",e)},select:function(e){return this.addHandler("mouseout",e)},submit:function(e){return this.addHandler("mouseout",e)},keydown:function(e){return this.addHandler("keydown",function(t){i.browser.firefox&&t.keyCode||(t.keyCode=t.which),t.charCode===f&&(t.charCode=t.keyCode),e.call(this,t)})},keypress:function(e){return this.addHandler("keypress",function(t){i.browser.firefox&&t.keyCode||(t.keyCode=t.which),t.charCode===f&&(t.charCode=t.keyCode),e.call(this,t,String.fromCharCode(t.charCode))})},keyup:function(e){return this.addHandler("mouseout",e)},error:function(e){return this.addHandler("error",e)}}),e.fn.extend({on:e.fn.addHandler,off:e.fn.removeHandler,clear:e.fn.clearHandlers});for(w=0,E=l.length;w<E;w++)m[l[w]]=S.document.imitation.mouse;for(w=0,E=c.length;w<E;w++)m[c[w]]=1;for(w=0,E=p.length;w<E;w++)m[p[w]]=S.document.imitation.key;for(w=0,E=h.length;w<E;w++)m[h[w]]=S.document.imitation.html;for(w=0,E=d.length;w<E;w++)m[d[w]]=1;for(w=0,E=v.length;w<E;w++)m[v[w]]=1;return S}),aQuery.define("main/parse",function(e){"use strict";function t(){if(typeof t.activeXString!="string"){var e=0,n=["Microsoft.XMLDOM","MSXML2.DOMDocument.6.0","MSXML2.DOMDocument.5.0","MSXML2.DOMDocument.4.0","MSXML2.DOMDocument.3.0","MSXML2.DOMDocument"],r=n.length,i;for(;e<r;e++)try{return i=new ActiveXObject(n[e]),t.activeXString=n[e],i}catch(s){}}return new ActiveXObject(t.activeXString)}var n={JSON:function(e){if(typeof e!="string"||!e)return null;if(/^[\],:{}\s]*$/.test(e.replace(/\\(?:["\\\/bfnrt]|u[0-9a-fA-F]{4})/g,"@").replace(/"[^"\\\n\r]*"|true|false|null|-?\d+(?:\.\d*)?(?:[eE][+\-]?\d+)?/g,"]").replace(/(?:^|:|,)(?:\s*\[)+/g,"")))return window.JSON&&window.JSON.parse?window.JSON.parse(e):(new Function("return "+e))();throw new Error("Invalid JSON: "+e,"EvalError")},QueryString:function(t,n,r){var i=t||(location.search.length>0?location.search.substring(1):""),s={};return i&&e.each(i.split(n||"&"),function(e){e=e.split(r||"="),e[1]!==undefined&&(s[decodeURIComponent(e[0])]=decodeURIComponent(e[1]))}),s},ObjetToString:function(e,t,n){t=t||"&",n=n||"=";var r,i,s=[];for(r in e)i=e[r],s.push(r+n+i);return s.join(t)},XML:function(e){var n;if(typeof DOMParser!="undefined")n=function(e){var t=(new DOMParser).parseFromString(e,"text/xml"),n=t.getElementsByTagName("parsererror");if(n.length)throw new Error("parseXML: "+n[0].textContent+" SyntaxError");return t};else if(document.implementation.hasFeature("LS","3.0"))n=function(e){var t=document.implementation,n=t.createLSParser(t.MODE_SYNCHRONOUS,null),r=t.createLSInput();return r.stringData=e,n.parse(r)};else{if(typeof ActiveXObject=="undefined")throw"No XML parser available","Error";n=function(e){var n=t();e.async="false",n.loadXML(e);if(n.parseError!=0)throw new Error("parseXML: "+n.parseError.reason+" SyntaxError");return n}}return n}()};return n}),aQuery.define("main/communicate",["base/Promise","base/typed","base/extend","main/event","main/parse"],function(e,t,n,r,i,s,o){"use strict";var u={ajax:function(n){var i,o,a,f,l,c;if(n){i=u.getXhrObject();if(i){a=r.extend({},u.ajaxSetting,n),l=a.type.toUpperCase(),a.isRandom==1&&l=="GET"&&(a.data.random=e.now()),f=r.extend({},a),a.data=u.getURLParam(a.data),a.url=a.url.replace(/\?$/,"");switch(l){case"GET":a.data&&(a.url+="?"+a.data);break;case"POST":}a.username?i.open(l,a.url,a.async,a.username,a.password):i.open(l,a.url,a.async);try{for(var h in a.header)i.setRequestHeader(h,a.header[h]);i.setRequestHeader("Accept",a.dataType&&a.accepts[a.dataType]?a.accepts[a.dataType]+", */*":a.accepts._default)}catch(p){}(a.data||n)&&i.setRequestHeader("Content-Type",a.contentType),c=t(function(t){var n;clearTimeout(o),f.type="ajaxStop",e.trigger(f.type,t,f);switch(a.dataType){case"json":n=s.JSON(t.responseText);break;case"xml":n=t.responseXML;if(!n)try{n=s.XML(t.responseText)}catch(r){}break;default:case"text":n=t.responseText}return a.complete&&a.complete.call(a.context||t,n),a=null,n},function(n){return clearTimeout(o),n&&n.abort(),f.type="ajaxStart",e.trigger(f.type,n,f),a.fail.call(a.context||n,n),a=null,t().reject(n)},function(e){if(e.readyState==4)return e.status>=200&&e.status<300||e.status==304?t().resolve(e):t().reject(e)}),i.onreadystatechange=function(){c.reprocess(i)},a.timeout&&(o=setTimeout(function(){c.reject(i)},a.timeout)),f.type="ajaxStart",e.trigger(f.type,i,f),i.send(l=="GET"?"NULL":a.data||"NULL"),c.reprocess({})}}return c},ajaxs:function(n){var r=[];return e.each(n,function(e,t){r.push(u.ajax(e))}),t.group(r)},ajaxSetting:{url:location.href,dataType:"text",type:"GET",contentType:"application/x-www-form-urlencoded; charset=UTF-8",context:null,async:!0,timeout:7e3,fail:function(){e.logger("ajax fail")},header:null,isRandom:!1,accepts:{xml:"application/xml, text/xml",html:"text/html",json:"application/json, text/javascript",text:"text/plain",_default:"*/*"}},jsonp:function(i){function d(){clearTimeout(c),window[h]&&(delete window[h],h=null),f.type="jsonpStop",e.trigger(f.type,s,f),n.isNode(s.nodeName,"script")&&a.isDelete==1&&o.removeChild(this),s.removeAttribute("src"),o=s=s.onload=s.onreadystatechange=s.onerror=null}var s=document.createElement("script"),o=document.getElementsByTagName("HEAD").item(0),a=r.extend(!0,{},u.jsonpSetting,i),f=r.extend(f,a),l="",c,h="",p;return a.JSONP&&(h="aQuery"+e.now()+parseInt(Math.random()*10),window[h]=function(e){p.reprocess(e)},a.data[a.JSONP]=h),a.isRandom==1&&(a.data.random=e.now()),l=u.getURLParam(a.data),a.url=a.url.replace(/\?$/,""),a.url+=l==""?l:"?"+l,p=t(function(e){return n.isFunction(a.complete)&&a.complete.call(a.context||s,e),d(),e},function(){return n.isFunction(a.fail)&&a.fail.call(a.context||s,a),d(),t().reject(a)},function(e){e&&t().resolve(e)}),s.onerror=function(){p.reject()},a.timeout&&(c=setTimeout(s.onerror,a.timeout)),s.setAttribute("src",a.url),a.charset&&s.setAttribute("charset",a.charset),s.setAttribute("type","text/javascript"),s.setAttribute("language","javascript"),f.type="jsonpStart",e.trigger(f.type,s,f),o.insertBefore(s,o.firstChild),p.reprocess()},jsonpSetting:{charset:"GBK",fail:function(){e.logger("aQuery.jsonp",(this.src||"(empty)")+" of javascript getting error")},isDelete:!0,isRandom:!1,JSONP:"callback",timeout:7e3,url:"",data:{}},jsonps:function(n){var r=[];return e.each(n,function(e,t){r.push(u.jsonp(e))}),t.group(r)},getURLParam:function(t){var r=[];return n.isObject(t)?(e.each(t,function(e,t){e=n.isFunction(e)?e():e,!n.isNul(e)&&r.push(encodeURIComponent(t)+"="+encodeURIComponent(e))}),t=r.join("&")):n.isArray(t)?(e.each(t,function(e){!n.isNul(e.value)&&r.push(encodeURIComponent(e.name)+"="+encodeURIComponent(e.value))}),t=r.join("&")):n.isString(t)||(t=""),t},getXhrObject:function(){var t=null;if(window.ActiveXObject)e.each(["Microsoft.XMLHttp","MSXML2.XMLHttp","MSXML2.XMLHttp.6.0","MSXML2.XMLHttp.5.0","MSXML2.XMLHttp.4.0","MSXML2.XMLHttp.3.0"],function(e){try{return t=new ActiveXObject(e),t}catch(n){}},this);else try{t=new XMLHttpRequest}catch(n){}return t||e.logger("getXhrObject","broswer no support AJAX"),t}};return u}),aQuery.define("main/dom",["base/typed","base/extend","base/array","base/support","main/data","main/event","main/query","main/communicate"],function($,typed,utilExtend,utilArray,support,utilData,event,query,communicate,undefined){"use strict";function createSafeFragment(e){var t=nodeNames.split("|"),n=e.createDocumentFragment();if(n.createElement)while(t.length)n.createElement(t.pop());return n}function getAll(e,t){var n,r,i=0,s=typeof e.getElementsByTagName!="undefined"?e.getElementsByTagName(t||"*"):typeof e.querySelectorAll!="undefined"?e.querySelectorAll(t||"*"):undefined;if(!s)for(s=[],n=e.childNodes||e;(r=n[i])!=null;i++)!t||typed.isNode(r,t)?s.push(r):$.merge(s,getAll(r,t));return t===undefined||t&&typed.isNode(e,t)?$.merge([e],s):s}function fixDefaultChecked(e){manipulation_rcheckableType.test(e.type)&&(e.defaultChecked=e.checked)}function setGlobalEval(e,t){var n,r=0;for(;(n=e[r])!=null;r++)utilData.set(n,"globalEval",!t||utilData.get(t[r],"globalEval"))}function findOrAppend(e,t){return e.getElementsByTagName(t)[0]||e.appendChild(e.ownerDocument.createElement(t))}function disableScript(e){var t=e.getAttributeNode("type");return e.type=(t&&t.specified)+"/"+e.type,e}function restoreScript(e){var t=rscriptTypeMasked.exec(e.type);return t?e.type=t[1]:e.removeAttribute("type"),e}function fixCloneNodeIssues(e,t){var n,r,i;if(t.nodeType!==1)return;n=t.nodeName.toLowerCase(),support.noCloneEvent||event.clearHandlers(t);if(n==="script"&&t.text!==e.text)disableScript(t).text=e.text,restoreScript(t);else if(n==="object")t.parentNode&&(t.outerHTML=e.outerHTML),support.html5Clone&&e.innerHTML&&!$.util.trim(t.innerHTML)&&(t.innerHTML=e.innerHTML);else if(n==="input"&&manipulation_rcheckableType.test(e.type))t.defaultChecked=t.checked=e.checked,t.value!==e.value&&(t.value=e.value);else if(n==="option")t.defaultSelected=t.selected=e.defaultSelected;else if(n==="input"||n==="textarea")t.defaultValue=e.defaultValue}function cloneCopyEvent(e,t){if(t.nodeType!==1||!utilData.hasData(e))return;var n=utilData.get(e),r={};utilExtend.extend(!0,r,n),utilData.set(t,r),event.cloneHandlers(t,e)}this.describe("refer JQuery1.9.1");var nodeNames="abbr|article|aside|audio|bdi|canvas|data|datalist|details|figcaption|figure|footer|header|hgroup|mark|meter|nav|output|progress|section|summary|time|video",rsingleTag=/^<(\w+)\s*\/?>(?:<\/\1>|)$/,rinlineaQuery=/ aQuery\d+="(?:null|\d+)"/g,rnoshimcache=new RegExp("<(?:"+nodeNames+")[\\s/>]","i"),rleadingWhitespace=/^\s+/,rxhtmlTag=/<(?!area|br|col|embed|hr|img|input|link|meta|param)(([\w:]+)[^>]*)\/>/gi,rtagName=/<([\w:]+)/,rtbody=/<tbody/i,rhtml=/<|&#?\w+;/,rnoInnerhtml=/<(?:script|style|link)/i,manipulation_rcheckableType=/^(?:checkbox|radio)$/i,rchecked=/checked\s*(?:[^=]|=\s*.checked.)/i,rscriptType=/^$|\/(?:java|ecma)script/i,rscriptTypeMasked=/^true\/(.*)/,rcleanScript=/^\s*<!(?:\[CDATA\[|--)|(?:\]\]|--)>\s*$/g,wrapMap={option:[1,"<select multiple='multiple'>","</select>"],legend:[1,"<fieldset>","</fieldset>"],area:[1,"<map>","</map>"],param:[1,"<object>","</object>"],thead:[1,"<table>","</table>"],tr:[2,"<table><tbody>","</tbody></table>"],col:[2,"<table><tbody></tbody><colgroup>","</colgroup></table>"],td:[3,"<table><tbody><tr>","</tr></tbody></table>"],_default:support.htmlSerialize?[0,"",""]:[1,"X<div>","</div>"]},safeFragment=createSafeFragment(document),fragmentDiv=safeFragment.appendChild(document.createElement("div")),dom={buildFragment:function(e,t,n,r){var i,s,o,u,a,f,l,c=e.length,h=createSafeFragment(t),p=[],d=0;for(;d<c;d++){s=e[d];if(s||s===0)if(typed.type(s)==="object")$.merge(p,s.nodeType?[s]:s);else if(!rhtml.test(s))p.push(t.createTextNode(s));else{u=u||h.appendChild(t.createElement("div")),a=(rtagName.exec(s)||["",""])[1].toLowerCase(),l=wrapMap[a]||wrapMap._default,u.innerHTML=l[1]+s.replace(rxhtmlTag,"<$1></$2>")+l[2],i=l[0];while(i--)u=u.lastChild;!support.leadingWhitespace&&rleadingWhitespace.test(s)&&p.push(t.createTextNode(rleadingWhitespace.exec(s)[0]));if(!support.tbody){s=a==="table"&&!rtbody.test(s)?u.firstChild:l[1]==="<table>"&&!rtbody.test(s)?u:0,i=s&&s.childNodes.length;while(i--)typed.isNode(f=s.childNodes[i],"tbody")&&!f.childNodes.length&&s.removeChild(f)}$.merge(p,u.childNodes),u.textContent="";while(u.firstChild)u.removeChild(u.firstChild);u=h.lastChild}}u&&h.removeChild(u),support.appendChecked||utilArray.grep(getAll(p,"input"),fixDefaultChecked),d=0;while(s=p[d++]){if(r&&utilArray.inArray(s,r)!==-1)continue;o=query.contains(s.ownerDocument,s),u=getAll(h.appendChild(s),"script"),o&&setGlobalEval(u);if(n){i=0;while(s=u[i++])rscriptType.test(s.type||"")&&n.push(s)}}return u=null,h},clone:function(e,t,n){var r,i,s,o,u,a=query.contains(e.ownerDocument,e);support.html5Clone||typed.isXML(e)||!rnoshimcache.test("<"+e.nodeName+">")?s=e.cloneNode(!0):(fragmentDiv.innerHTML=e.outerHTML,fragmentDiv.removeChild(s=fragmentDiv.firstChild));if((!support.noCloneEvent||!support.noCloneChecked)&&(e.nodeType===1||e.nodeType===11)&&!typed.isXML(e)){r=getAll(s),u=getAll(e);for(o=0;(i=u[o])!=null;++o)r[o]&&fixCloneNodeIssues(i,r[o])}if(t)if(n){u=u||getAll(e),r=r||getAll(s);for(o=0;(i=u[o])!=null;o++)cloneCopyEvent(i,r[o])}else cloneCopyEvent(e,s);return r=getAll(s,"script"),r.length>0&&setGlobalEval(r,!a&&getAll(e,"script")),r=u=i=null,s},parseHTML:function(e,t,n){if(!e||typeof e!="string")return null;typeof t=="boolean"&&(n=t,t=!1),t=t||document;var r=rsingleTag.exec(e),i=!n&&[];return r?[t.createElement(r[1])]:(r=dom.buildFragment([e],t,i),i&&$(i).remove(),$.merge([],r.childNodes))},contains:query.contains,cleanData:function(e){var t;return typed.isElement(e)?t=getAll(e):typed.isArray(e)&&(t=e),$.each(t,function(e){event.clearHandlers(e),utilData.removeData(e)}),this},getLastChild:function(e){var t=e.lastChild;while(t&&!typed.isElement(t))t=t.previousSibling;return t},getRealChild:function(e,t){var n=-1,r=null,i=e.firstChild;while(i){if(typed.isElement(i)&&++n==t){r=i;break}i=i.nextSibling}return r},remove:function(e,t,n){if(!t||query.filter(t,[e]).length>0)!n&&e.nodeType===1&&dom.cleanData(e),e.parentNode&&(n&&query.contains(e.ownerDocument,e)&&setGlobalEval(getAll(e,"script")),e.parentNode.removeChild(e));return this},removeChild:function(e,t,n){return query.contains(e,t)&&dom.remove(t,!1,n),this},removeChildren:function(e,t){for(var n=e.childNodes.length-1;n>=0;n--)dom.removeChild(e,e.childNodes[n],t);return this}};return $.fn.extend({clone:function(e,t){return e=e==null?!1:e,t=t==null?e:t,this.map(function(){return dom.clone(this,e,t)})},append:function(){return this.domManip(arguments,!0,function(e){(this.nodeType===1||this.nodeType===11||this.nodeType===9)&&this.appendChild(e)})},prepend:function(){return this.domManip(arguments,!0,function(e){(this.nodeType===1||this.nodeType===11||this.nodeType===9)&&this.insertBefore(e,this.firstChild)})},html:function(e){var t=this[0]||{},n=0,r=this.length;if(e===undefined)return t.nodeType===1?t.innerHTML.replace(rinlineaQuery,""):undefined;if(typed.isFunction(e)){var t;for(;n<length;n++)t=this[n],e.call(t,n,$(t).html())}else{if(typeof e=="string"&&!rnoInnerhtml.test(e)&&(support.htmlSerialize||!rnoshimcache.test(e))&&(support.leadingWhitespace||!rleadingWhitespace.test(e))&&!wrapMap[(rtagName.exec(e)||["",""])[1].toLowerCase()]){e=e.replace(rxhtmlTag,"<$1></$2>");try{for(;n<r;n++)t=this[n]||{},t.nodeType===1&&(dom.cleanData(getAll(t,!1)),t.innerHTML=e);t=0}catch(i){}}t&&this.empty().append(e)}return this},after:function(e){return this.domManip(arguments,!1,function(e){this.parentNode&&this.parentNode.insertBefore(e,this.nextSibling)})},before:function(e){return this.domManip(arguments,!1,function(e){this.parentNode&&this.parentNode.insertBefore(e,this)})},insertText:function(e){if(typed.isString(e)&&e.length>0){var t;this.each(function(n){t=document.createTextNode(e),n.appendChild(t)})}return this},remove:function(e,t){var n,r=0;for(;(n=this[r])!=null;r++)dom.remove(n,e,t);return this},detach:function(e){return this.remove(e,!0)},empty:function(){var e,t=0;for(;(e=this[t])!=null;t++){e.nodeType===1&&dom.cleanData(getAll(e,!1));while(e.firstChild)e.removeChild(e.firstChild);e.options&&typed.isNode(e,"select")&&(e.options.length=0)}return this},domManip:function(args,table,callback){args=[].concat.apply([],args);var first,node,hasScripts,scripts,doc,fragment,i=0,l=this.length,set=this,iNoClone=l-1,value=args[0],isFunction=typed.isFunction(value);if(isFunction||!(l<=1||typeof value!="string"||support.checkClone||!rchecked.test(value)))return this.each(function(e,t){var n=set.eq(t);isFunction&&(args[0]=value.call(this,t,table?n.html():undefined)),n.domManip(args,table,callback)});if(l){fragment=dom.buildFragment(args,this[0].ownerDocument,!1,this),first=fragment.firstChild,fragment.childNodes.length===1&&(fragment=first);if(first){table=table&&typed.isNode(first,"tr"),scripts=query.map(getAll(fragment,"script"),disableScript),hasScripts=scripts.length;for(;i<l;i++)node=fragment,i!==iNoClone&&(node=dom.clone(node,!0,!0),hasScripts&&$.merge(scripts,getAll(node,"script"))),callback.call(table&&typed.isNode(this[i],"table")?findOrAppend(this[i],"tbody"):this[i],node,i);if(hasScripts){doc=scripts[scripts.length-1].ownerDocument,query.map(scripts,restoreScript);for(i=0;i<hasScripts;i++)node=scripts[i],rscriptType.test(node.type||"")&&!utilData.get(node,"globalEval")&&query.contains(doc,node)&&(node.src?communicate.ajax({url:node.src,type:"GET",dataType:"text",async:!1,complete:function(script){eval(script)}}):$.util.globalEval((node.text||node.textContent||node.innerHTML||"").replace(rcleanScript,"")))}fragment=first=null}}return this},replaceWith:function(e){var t=typed.isFunction(e);return!t&&typeof e!="string"&&(e=$(e).not(this).detach()),this.domManip([e],!0,function(e){var t=this.nextSibling,n=this.parentNode;n&&($(this).remove(),n.insertBefore(e,t))})},wrapAll:function(e){if(typed.isFunction(e))return this.each(function(t,n){$(t).wrapAll(e.call(t,n))});if(this[0]){var t=$(e,this[0].ownerDocument).eq(0).clone(!0);this[0].parentNode&&t.insertBefore(this[0]),t.map(function(){var e=this;while(e.firstChild&&e.firstChild.nodeType===1)e=e.firstChild;return e}).append(this)}return this},wrapInner:function(e){return typed.isFunction(e)?this.each(function(t,n){$(t).wrapInner(e.call(this,n))}):this.each(function(t){var n=$(t),r=n.contents();r.length?r.wrapAll(e):n.append(e)})},wrap:function(e){var t=typed.isFunction(e);return this.each(function(n,r){$(n).wrapAll(t?e.call(n,r):e)})},unwrap:function(){return this.parent().each(function(e){typed.isNode(e,"body")||$(e).replaceWith(e.childNodes)}),this}}),$.each({appendTo:"append",prependTo:"prepend",insertBefore:"before",insertAfter:"after",replaceAll:"replaceWith"},function(e,t){$.fn[t]=function(t){var n,r=0,i=[],s=$(t),o=s.length-1;for(;r<=o;r++)n=r===o?this:this.clone(!0),$(s[r])[e](n),i.push.apply(i,n.get());return $(i)}}),$.interfaces.achieve("constructorDom",function(e,t,n,r,i){if(typeof n=="string"&&rsingleTag.test(n))return dom.parseHTML(n,r||document,!1);i&&(typed.isElement(i)||typed.is$(i))&&t.appendTo(i)}),dom}),aQuery.define("module/src",["base/typed","base/extend","base/client","main/event"],function(e,t,n,r,i,s){"use strict";var o=Object.prototype.hasOwnProperty,u={href:function(e,t){var r=n.extend({},u.hrefSetting,t);return u.src(e,r,"href")},hrefSetting:{href:""},link:function(e){var t=document.createElement("link"),r=document.getElementsByTagName("HEAD").item(0),i=n.extend({},u.linkSetting,e);return t.rel=i.rel,t.type=i.type,u.href(t,i),r.appendChild(t),this},linkSetting:{rel:"stylesheet",href:"",type:"text/css"},src:function(r,i){var u=arguments[2]||"src";if(!t.isElement(r)||!o.call(r,u)&&r[u]===s)return this;var a=r.onload,f=r.onerror;r.setAttribute(u,"");var l=n.extend({},e.srcSetting,i),c;return r.onload=function(e){clearTimeout(c),l.complete&&l.complete.call(l.context||this,this),r.onload=a,r.onerror=f,r=c=l=null,a&&a.call(this,e)},r.onerror=function(e){clearTimeout(c),l.fail&&l.fail.call(l.context||this,this),r.onload=a,r.onerror=f,r=l=c=null,f&&f.call(this,e)},l.timeout&&(c=setTimeout(function(){l.fail&&l.fail.call(l.context||this,this),r.onload=a,r.onerror=f,r=l=c=null},l.timeout)),t.isNode(r,"iframe")&&!l.history&&r.contentWindow?r.contentWindow.location.replace(l[u]):r.setAttribute(u,l[u]),this},srcSetting:{fail:function(t){e.logger("aQuery.src",(this.src||"(empty)")+"of "+this.tagName+" getting error:"+t.toString())},timeout:!1,src:"",history:!0}};return e.fn.extend({href:function(t){return this.each(function(n){e.href(n,t)})},src:function(t){return this.each(function(n){e.src(n,t)})}}),e.extend(u),u}),aQuery.define("module/utilEval",["base/typed","base/support"],function($,typed,support){return{evalBasicDataType:function(str){return typed.isString(str)&&/(^(-?\d+)(\.\d+)?$)|true|false|undefined|null|NaN|Infinite/.test(str)?eval(str):str},functionEval:function(e,t){return(new Function("return "+e)).call(t)},scriptEval:function(e,t){if(e&&/\S/.test(e)){var n=document.getElementsByTagName("head")[0]||document.documentElement,r=document.createElement("script");r.type="text/javascript",support.scriptEval?r.appendChild(document.createTextNode(e)):r.text=e,n.insertBefore(r,n.firstChild),t||n.removeChild(r)}return this}}}),aQuery.define("module/Widget",["base/config","base/typed","base/extend","base/array","main/data","main/query","main/CustomEvent","main/event","main/attr","main/object","module/src","module/utilEval"],function(e,t,n,r,i,s,o,u,a,f,l,c,h,p){"use strict";function v(t){var n=[],r={};return t=e(t),t.each(function(e){var t=m.getAttrWidgets(e),i=t.length,s,o,u,a=0;for(;a<i;a++)s=t[a],s&&(o=s.replace(".","/"),r[s]||(n.push(o),r[s]=!0))}),n}function m(e,t){this.init(e.target)}var d="amdquery";m.AllowPublic=1,m.AllowReturn=2,m.initFirst=2,m.detectEventName="widget.detect";var g=function(e,t){for(var r in t)t[r]===0||t[r]===!1?e[r]=0:!n.isBoolean(e[r])&&!n.isNumber(e[r])&&(e[r]=t[r])},y=function(e,t,i){var s=t.prototype[e],o=t.prototype.__superConstructor,u=o.prototype[e],a={},f;r.easyExtend(a,u),n.isNul(s)||(i?f=g:f=r.easyExtend,f(a,s)),t.prototype[e]=a},b=function(e){var t=e.prototype,n={},i={},s=t.options||{},o;r.easyExtend(n,t.getter),r.easyExtend(i,t.setter);for(o in s)n[o]===p&&(n[o]=1),i[o]===p&&(i[o]=1);t.getter=n,t.setter=i},w=function(e,t,r){return n.isObject(r)?m.extend(e,t,r,this.ctor):m.extend(e,t,this.ctor)},E=function(){return this.ctor.invoke.apply(this.ctor,arguments)};return l.extend(m,{addTag:function(){var e=this.toString(),t=this.widgetNameSpace+"-"+this.widgetName,r=this.target.attr(t),i=d+"-widget",s=this.target.attr(i);if(n.isNul(s))this.target.attr(i,e);else{var o=new RegExp("(\\W|^)"+e+"(\\W|$)"),u=s.match(o),a=s.length?";":"";if(!u||!u[0])s=s.replace(/\W$/,"")+a+e+";",this.target.attr(i,s)}return r||this.target.attr(t,""),this},removeTag:function(){var e=this.toString(),t=this.widgetNameSpace+"-"+this.widgetName,r=this.target.attr(t),i=d+"-widget",s=this.target.attr(i);if(n.isNul(s)){var o=new RegExp("(\\W|^)"+e+"(\\W|$)","g");s=s.replace(o,";").replace(/^\W/,""),this.target.attr(i,s)}return r===""&&this.target.removeAttr(t),this},checkAttr:function(){var t,r,s,o,u={},a=0,f=0,l=0,c,d=this.widgetName,v=this.customEventName;for(a=0,l=v.length;a<l;a++){o=v[a],t=this.widgetNameSpace+"-"+d+"-"+o,r=this.target.attr(t);if(r!==p){c=r.split(";");for(f=c.length-1;f>=0;f--)s=c[f].split(":"),u[o]=h.functionEval(s[0],s[1]||window)}}r=this.target.attr(this.widgetNameSpace+"-"+d)||this.target.attr(this.widgetName);if(n.isString(r)){r=r.split(/;|,/);for(a=0,l=r.length;a<l;a++){o=r[a].split(":");if(o.length>2){var m=o;o=[],o[0]=m.shift(),o[1]=m.join(":")}o.length==2&&(t=o[0],/^#((?:[\w\u00c0-\uFFFF-]|\\.)+)/.test(o[1])?u[t]=e(o[1])[0]:this.options[t]!==p?u[t]=h.evalBasicDataType(o[1]):i.inArray(this.customEventName,t)>-1&&(u[t]=h.functionEval(o[1],e)))}}return u},_doAfterInit:function(){},create:function(){},detect:function(){return this},layout:function(){return this},resize:function(){return this},container:null,constructor:m,destroy:function(){this.disable(),this.removeTag();var t=0,n;for(t=this.customEventName.length-1;t>=0;t--)this.target.clearHandlers(this.widgetEventPrefix+"."+this.customEventName[t]);this.container&&this.options.removeContainer&&e(this.container).remove();for(t in this)n=t,!l.isPrototypeProperty(this,n)&&(this[n]=null)&&delete this[n];return this},able:function(){return this.options.disabled?this.disable():this.enable(),this},disable:function(){return this.options.disabled=!0,this},enable:function(){return this.options.disabled=!1,this},init:function(e,t){var i=this.constructor.prototype;this.options={},r.easyExtend(this.options,i.options),t._initHandler(),this.target=t,this.addTag(),e=n.isPlainObject(e)?e:{};var s={};return r.extend(s,this.checkAttr(),e),this.option(s),this},instanceofWidget:function(e){var t=e;return n.isString(e)&&(t=m.get(e)),n.isFunction(t)?t.constructorOf?t.constructorOf(this):this instanceof t:!1},equals:function(e){return this.constructorOf(e)?this.getElement()===e.getElement()&&this[this.widgetName]("getSelf")===e[this.widgetName]("getSelf"):!1},option:function(e,t){if(n.isObject(e))for(var r in e)this.setOption(r,e[r]);else{if(t===p)return this.getOption(e);n.isString(e)&&this.setOption(e,t)}},customEventName:[],options:{disabled:0},getter:{disabled:1},setter:{disabled:0},publics:{disable:m.AllowPublic,enable:m.AllowPublic,toString:m.AllowReturn,getSelf:m.AllowReturn,instanceofWidget:m.AllowReturn,equals:m.AllowReturn,beSetter:m.AllowReturn,beGetter:m.AllowReturn,render:m.AllowPublic,detect:m.AllowPublic,resize:m.AllowPublic,layout:m.AllowPublic},getEventName:function(e){return this.widgetEventPrefix+"."+e},render:function(){},_initHandler:function(){},_isEventName:function(e){return i.inArray(this.customEventName,e)>-1},setOption:function(e,t){if(this.beSetter(e)&&this.options[e]!==p)this.doSpecialSetter(e,t);else if(this._isEventName(e)){var r=this.getEventName(e);n.isFunction(t)?this.target.on(r,t):t===null&&this.target.clearHandlers(r)}},getOption:function(e){if(this.beGetter(e))return this.doSpecialGetter(e);throw this.options[e]!==p?"widget:"+this.toString()+" can not get option "+e+"; please check getter":"widget:"+this.toString()+" option "+e+" is undefined; please check options"},doSpecialGetter:function(t){var r=this[e.util.camelCase(t,"_get")];return n.isFunction(r)?r.call(this):this.options[t]},doSpecialSetter:function(t,r){var i="__"+t+"OptionInitFirstFlag";if(this.setter[t]===m.initFirst){if(this[i])return;this[i]=!0}var s=this[e.util.camelCase(t,"_set")];n.isFunction(s)?s.call(this,r):this.options[t]=r},beGetter:function(e){return!!this.getter[e]},beSetter:function(e){return!!this.setter[e]},toString:function(){return"ui.widget"},getSelf:function(){return this},widgetEventPrefix:"",widgetName:"Widget",widgetNameSpace:"ui",initIgnore:!1,initIndex:0},{extend:function(t,i,o,u){if(!n.isString(t))return null;t=t.split(".");var a=t[0];t=t[1];if(!a||!t)return;m[a]||(m[a]={}),n.isFunction(arguments[arguments.length-1])?u=arguments[arguments.length-1]:u=m,n.isObject(o)||(o={});var f=l.extend(t,i,u);f.prototype.widgetName=t,f.prototype.widgetNameSpace=a,m[a][t]=f,b(f),y("publics",f,i,!0),y("options",f),y("getter",f,!0),y("setter",f,!0);var c=a+"."+t+e.now(),h=function(t,r,i){var o=this,u=arguments;return this.each(function(a){var l=s.get(a,c);if(l===p||l===null)t!=="destroy"&&(l=new f(t,e(a)),s.set(a,c,l),l._doAfterInit());else if(t==="destroy")l[t].call(l),s.removeData(a,c);else if(n.isObject(t))l.option(t),l.render();else if(n.isString(t))if(t==="option"){if(i===p)return o=l.option(r,i),!1;l.option(r,i),l.render()}else if(!!l.publics[t]){var h=l[t].apply(l,e.util.argToArray(u,1));if(l.publics[t]==m.AllowReturn)return o=h,!1}}),o};h.ctor=f,h.extend=w,h.invoke=E,r.easyExtend(h,o);var d=function(){this.each(function(e){var t=s.get(e,c);t&&(t.destroy.call(t),s.removeData(e,c))})};e.fn[t]||(e.fn[t]=h,e.fn[e.util.camelCase(t,"destroy")]=d);var v=e.util.camelCase(t,a);return e.fn[v]=h,e.fn[e.util.camelCase(v,"destroy")]=d,h},hasWidget:function(e){return!!this.getAttrWidgets(e).length},is:function(t,r){var i=e(r);if(!i.length)return!1;var s=i.attr(d+"-widget");return!n.isNul(i.attr(t.replace(".","-")))&&!n.isNul(s)&&s.indexOf(t)>-1},get:function(e){var t=e.split("."),n=t[0];return t=t[1],m[n][t]},findWidgets:function(e){return o.find("*["+d+"-widget]",e.parentNode||e)},getAttrWidgets:function(e){var t=f.getAttr(e,d+"-widget"),r=n.isString(t)&&t!==""?t.split(/;|,/):[],i=[],s="",o;for(o=r.length-1;o>=0;o--)s=r[o],s&&(s.indexOf(".")<0?i.push("ui."+s):i.push(s));return i},fetchCSS:function(n){t.ui.autoFetchCss&&t.app.development&&c.link({href:e.getPath(n,".css")})},_renderWidget:function(t,n){var r=m.getAttrWidgets(t),i,s,o,u,a=[];for(i=r.length-1;i>=0;i--){s=r[i],u=m.get(s);if(u&&u.prototype.initIgnore===!0)continue;a.push({widgetName:s,index:u&&u.prototype.initIndex||0})}var f;n==="destroy"?f=function(e,t){return t.index-e.index}:f=function(e,t){return e.index-t.index},a.sort(f);for(i=a.length-1;i>=0;i--)s=a[i].widgetName.split("."),o=e.util.camelCase(s[1],s[0]),e.fn[o]&&e(t)[o](n||"");return this},triggerDetectToParent:function(n){var r=m.detectEventName;n&&e(n).parents().each(function(n){m.hasWidget(n)&&(t.ui.debug&&e.logger("triggerDetectToParent",n),e(n).trigger(u.createEvent(r,n)))})},initWidgets:function(e,t){var r=m.findWidgets(e),i=v(r);return i.length?require(i,function(){for(var i=0,s=r.length;i<s;i++)m._renderWidget(r[i]);m.triggerDetectToParent(e),n.isFunction(t)&&t()}):n.isFunction(t)&&t(),this},destroyWidgets:function(e,t){var r=m.findWidgets(e).reverse(),i=v(r);return i.length?require(i,function(){for(var i=0,s=r.length;i<s;i++)m._renderWidget(r[i],"destroy");m.triggerDetectToParent(e),n.isFunction(t)&&t()}):n.isFunction(t)&&t(),this}}),e.fn.extend({isWidget:function(e){return m.is(e,this[0])},findWidgets:function(t,n){var r=[],i=0,s=[],u,a;this.each(function(e){r=r.concat(m.findWidgets(e))}),r=o.filter(n||"*",r),a=r.length;for(;i<a;i++)u=r[i],m.is(t,u)&&s.push(u);return e(s)}}),m}),aQuery.define("app/View",["base/config","base/ClassModule","base/Promise","base/typed","main/communicate","main/query","main/object","main/attr","main/CustomEvent","main/dom","module/Widget","module/src"],function(e,t,n,r,i,s,o,u,a,f,l,c,h,p){"use strict";function d(e){var t=e.lastIndexOf("views/");if(t>-1)return e.substring(0,t)+e.substring(t,e.length).replace(/views\//,"xml/");throw new Error("View need htmlSrc or path need contains views/'")}this.describe("Super View Class");var v=f.extend("View",{init:function(n,r){this._super(),this.topElement=this.initTopElement(r).cloneNode(!0),t.app.debug&&e.logger("this.topElement",this.topElement),a.setAttr(this.topElement,"html-src",this.htmlSrc),v.collection.add(this),i.isNode(n,"controller")?this.replaceTo(n):this.appendTo(n)},initTopElement:function(e){return e=e||d(this.constructor._AMD.id),v.getXML(e)},destroy:function(){v.collection.remove(this),self.remove(),this.topElement=null},appendTo:function(n){return n.appendChild(this.topElement),this.initWidget(),t.app.debug&&e.logger("View",this.constructor._AMD.id+" appendTo"),this},replaceTo:function(n){var r=n.parentNode;r.replaceChild(this.topElement,n);try{for(var s=r.childNodes.length-1,o;s>=0;s--)o=r.childNodes[s],i.isNode(o,"/controllers")&&r.removeChild(o)}catch(u){}return this.initWidget(),t.app.debug&&e.logger("View",this.constructor._AMD.id+" replaceTo"),this},remove:function(){return this.topElement&&this.topElement.parentNode&&(c.destroyWidgets(this.topElement.parentNode),e(this.topElement).remove()),this},initWidget:function(){this.topElement&&this.topElement.parentNode&&c.initWidgets(this.topElement)},_getModelsElement:function(){return o.find(">Model",this.topElement)},getModelsSrc:function(){return this._getModelsElement().map(function(e){var t=a.getAttr(e,"src");if(!t)throw new Error("require model:src must exist");return t})},_getControllerElement:function(){return o.find(">Controller",this.topElement)},htmlSrc:"",_timeout:5e3,_error:function(){throw"get "+this.htmlSrc+" error"}},{getStyle:function(e){t.app.autoFetchCss&&t.app.development&&h.link({href:n.getPath(e,".css")})}}),m=u.Collection(v,{});v.collection=new m,u.createPropertyGetterSetter(v,{id:"-pu -r -w"});if(!t.app.development){var g=null;v.getXML=function(r){var i="",s,o;return g||(g=e("#"+t.app.viewContentID),g.remove()),!n.contains(r)&&/xml\/(.*)/.test(r)&&g&&g.length&&(i=RegExp.$1,o=g.find("div["+t.app.viewContentID+"="+i+"]"),s=o.children()[0],define(r,s),o.remove(),o=null,g.children().length||(g=null)),require(r).first}}else v.getXML=function(t){t=n.variable(t);var r=e.getPath(t,".xml");if(!n.contains(t)){var i=this;s.ajax({url:r,async:!1,dataType:"string",complete:function(e){define(t,l.parseHTML(e))},timeout:v.timeout,fail:v.error})}return require(t).first};return v}),aQuery.define("app/Controller",["base/config","base/ClassModule","base/typed","base/Promise","main/query","main/attr","main/object","main/CustomEvent","app/View","app/Model"],function(e,t,n,r,i,s,o,u,a,f,l,c){"use strict";this.describe("Super Controller Class");var h=a.extend("Controller",{init:function(n,r){this._super(),this._controllers=[],this.view=n;var i=h.loadController(this.view.topElement);this._controllers=i;if(i.length)for(var s=i.length-1,o;s>=0;s--)o=i[s],o.getId()&&(this[o.getId()]=o);h.collection.add(this),t.app.debug&&e.logger("Controller",this.constructor._AMD.id+" load")},loadController:function(){return[]},addModels:function(t){r.isArray(t)||(t=e.util.argToArray(arguments)),this.models=this.models.concat(t)},destroy:function(){for(var e=this._controllers.length-1;e>=0;e--)this._controllers[e].destroy();h.collection.removeController(this),this.view.destroy()},activate:function(){return this.trigger(a.createEvent("activated",this)),this},deactivate:function(){return this.trigger(a.createEvent("deactivate",this)),this}},{getView:function(){},loadController:function(t){var i=r.isNode(t,"controller")?e(t):r.isNode(t,"body")?[s.find("controller",t)[0]]:s.find("controller",t),u=[],a=[];if(i.length&&i[0]){var f,l,c=0,h=i.length,p=null,d=null;for(;c<h;c++){f=i[c],f.style.display="block",l=o.getAttr(f,"src"),l=e.util.removeSuffix(l),p=n.getModule(l);if(!p||!p.isReady())throw new Error("If you Write '<Controller/>' in xml and auto init, you must define them in dependencies of controller file");u=new p.first(f),a.push(u),u.setId(o.getAttr(f,"id"))}}return a}}),p=u.Collection(h,{});return h.collection=new p,u.createPropertyGetterSetter(h,{id:"-pu -r -w"}),h}),aQuery.define("ecma5/array",["base/array"],function(e,t){"use strict";this.describe("ECMA Array");var n={every:function(e,t){var n=this,r=!0;return this.forEach(function(n,i){if(e.call(t,n,i,this)!==!0)return r=!1,!1},n),r},forEach:function(e,t){for(var n=0,r=this.length;n<r;n++)if(n in this&&e.call(t,this[n],n,this)===!1)break;return this},filter:function(e,n){return t.filterArray(this,e,n)},indexOf:function(e,n){return t.inArray(this,e,n)},lastIndexOf:function(e,n){return t.lastInArray(this,e,n)},map:function(e,t){var n=this,r=n.length,i=new Array(r);for(var s=0;s<r;s++)s in n&&(i[s]=e.call(t,n[s],s,n));return i},reduce:function(e,t){var n=this,r=n.length,i=0,s;if(t)s=t;else do{if(i in n){s=n[i++];break}if(++i>=r)throw new Error("array contains no values, no initial value to return")}while(!0);for(;i<r;i++)i in n&&(s=e.call(null,s,n[i],i,n));return s},reduceRight:function(e,t){var n=this,r=n.length,i=r-1,s;if(t)s=t;else do{if(i in n){s=n[i--];break}if(--i<0)throw new Error("array contains no values, no initial value to return")}while(!0);while(i>=0)i in n&&(s=e.call(null,s,n[i],i,n)),i--;return s},some:function(e,t){var n=!1;return this.forEach(function(r,i){if(e.call(t,r,i,this)===!0)return n=!0,!1},this),n}};for(var r in n)Array.prototype[r]||(Array.prototype[r]=n[r]);return n}),aQuery.define("module/location",["base/extend","main/parse"],function(e,t,n){function u(e,t,n){var r,i,o=[];for(r in e){if(r===s)continue;i=e[r],o.push(r+n+i)}return o.join(t)}this.describe("Location to Hash");var r="&",i="=",s="#",o=window.location,a={getHash:function(e){return this.toHash(),this.hash[e]},setHash:function(e,t){this.hash[e]=t+"";var n=e===s?t:u(this.hash,r,i);return o.hash=n,this.hash[s]=n,this},removeHash:function(e){if(this.hash[e]!==undefined){delete this.hash[e];var t=u(this.hash,r,i);o.hash=t,this.hash[s]=t}return this},clearHash:function(){return window.location.hash="",this.hash={"#":""},this},toHash:function(){var e=o.hash.replace(s,"");return this.hash=n.QueryString(e,r,i),this.hash[s]=e,this},hash:{},changeLocation:function(e){o=e}};return a.toHash(),a}),aQuery.define("app/Application",["base/config","base/ClassModule","base/Promise","base/typed","base/extend","main/CustomEvent","main/object","main/query","main/attr","app/Model","app/View","app/Controller","ecma5/array","module/location"],function(e,t,n,r,i,s,o,u,a,f,l,c,h,p,d,v){"use strict";this.describe("Super Application Class");var m=o.extend("Application",{init:function(n){this._super(),e.application=this,this.global={},s.easyExtend(this.global,this.constructor.global||{}),this._routerMap={},this.promise=(new r(function(){var e=new r;return this.beforeLoad(e),this.trigger(o.createEvent("beforeLoad",this)),e})).withContext(this).then(function(){var e=this.parseRouter();return e||document.body}).then(function(e){this.index=h.loadController(e)[0]}).then(function(){this.launch(this.index),t.app.debug&&e.logger("app",this.constructor._AMD.id+" load"),this.trigger(o.createEvent("ready",this)),n&&n.resolve()}),this.promise.root().resolve()},getAppRelativePath:function(e){return e?(e=e.indexOf("/")===0?"":"/"+e,n.variable("app")+e):""},beforeLoad:function(e){e.resolve()},addRouter:function(e,t){return this._routerMap[e]=t,this},parseRouter:function(){var t=d.getHash("appRouter");if(t){var n=this._routerMap[t];if(n){var r=e(document.body);r.children("controller").remove();var i=e(e.createEle("controller")).attr("src",n);return r.append(i),i[0]}}},launch:function(){},ready:function(e){return this.promise.and(e),this}},{});return m}),aQuery.define("base/constant",function(e){"use strict";var t={SSL_SECURE_URL:"about:blank",BLANK_IMAGE_URL:"data:image/gif;base64,R0lGODlhAQABAID/AMDAwAAAACH5BAEAAAAALAAAAAABAAEAAAICRAEAOw=="};return t}),aQuery.define("module/Thread",["main/CustomEvent","base/extend","main/object"],function(e,t,n,r){"use strict";var i=window.requestAnimationFrame||window.webkitRequestAnimationFrame||window.mozRequestAnimationFrame||window.oRequestAnimationFrame||window.msRequestAnimationFrame||function(e){return setTimeout(e,13)},s=window.cancelAnimationFrame||window.webkitCancelRequestAnimationFrame||window.mozCancelRequestAnimationFrame||window.oCancelRequestAnimationFrame||window.msCancelRequestAnimationFrame||clearTimeout,o=t.extend("Thread",{init:function(t,r){return this._super(),n.extend(this,o._defaultSetting,t),this.context=t.context||this,this.id=this.id||e.now(),this.args=e.util.argToArray(arguments,1),this.setFps().setDuration(this.duration)},create:function(){return this},render:function(){return this},start:function(){if(this.runFlag==0){o.count+=1,this.runFlag=!0;var n=this;this.delay>0&&(n.status="delay",n.trigger(t.createEvent("delay",n))),setTimeout(function(){n.status="start",n.trigger(t.createEvent("start",n)),n.begin=e.now(),n._interval.call(n)},this.delay)}return this},_interval:function(){var t=this,n=function(){if(t.runFlag===!1||t.tick>=t.duration&&!t.forever)return n=null,t.stop();if(t.sleepFlag){t.sleep();return}t.status="run",t.tick=e.now()-t.begin-t.pauseTime,t.forever?t._run.call(t,t.tick,t.fps):t._run.call(t,t.tick,t.duration);var r=t.power;t.timerId=r(n,t.fps)};n()},_run:function(e,t){this._executor(e,t)},resume:function(){if(this.isSleep()){var n=e.now();this.pauseTime+=n-(this.sleepBeginTime||0),this.sleepStopTime=n,this.status="run",this.sleepFlag=!1,this.trigger(t.createEvent("resume",self)),this._interval()}return this},stop:function(){if(this.runFlag==1){this.tick=this.sleepTime=this.pauseTime=0,this.sleepBeginTime=null,this.sleepId=null,this.begin=null,this.status="stop",o.count-=1,this.runFlag=!1;var e=this.clear;e(this.timerId),this.trigger(t.createEvent("stop",self))}return this},_executor:function(e,t){this.run.apply(this.context,[e,t].concat(this.args))===!1&&this.stop()},isRun:function(){return this.runFlag},isSleep:function(){return this.status=="sleep"},getDely:function(){return this.dely},setDely:function(e){return this.delay=e||this.delay||0,this},setDuration:function(e){var t=this.getStatus();return this.stop(),e==undefined||e==NaN||typeof e=="number"&&e>0?this.forever=!1:(this.duration=NaN,this.forever=!0),t=="run"&&this.start(),this},getDuration:function(){return this.duration},setFps:function(){var e=this.getStatus();return this.stop(),this.interval==null&&this.isAnimFrame==1?(this.power=i,this.clear=s,this.fps=o.fps):(this.power=setTimeout,this.clear=clearTimeout,this.fps=this.interval||1e3/this.fps||o.fps),this.fps=Math.round(this.fps),e=="run"&&this.start(),this},getFps:function(){return this.fps},getPercent:function(){var e=parseInt(this.tick/this.duration*100)/100;return e!=NaN?Math.min(1,e):e},getStatus:function(){return this.status},getTick:function(){return this.tick},getPauseTime:function(){return this.pauseTime},setSleepTime:function(e){return e&&(this.sleepTime=e,this.sleepFlag=!0),this},getSleepTime:function(e){return this.sleepTime},sleep:function(n){var r=this.getStatus();if(n)return this.setSleepTime(n);if(this.sleepTime==0)return this;this.status="sleep",this.trigger(t.createEvent("sleepBegin",i));var i=this;return clearTimeout(this.sleepId),this.sleepBeginTime=e.now(),i.sleepId=setTimeout(function(){i.sleepId&&i.resume()},i.sleepTime),this}},{cancelRequestAnimFrame:s,count:0,fps:13,requestAnimFrame:i,_defaultSetting:{runFlag:!1,forever:!1,sleepFlag:!1,power:setTimeout,clear:clearTimeout,status:"stop",args:[],tick:0,sleepTime:0,pauseTime:0,sleepId:null,begin:null,timerId:null,run:function(){},interval:null,isAnimFrame:!0,duration:NaN,id:""}});return r.createPropertyGetterSetter(o,{args:"-pu -r -w",timeId:"-pa -r",sleepId:"-pa -r",interval:"-pu -r",isAnimFrame:"-pu -r",id:"-pu -r"}),o}),define("module/history",["base/constant","base/client","base/support","base/typed","base/extend","main/query","main/dom","main/CustomEvent","main/parse","module/Thread"],function(e,t,n,r,i,s,o,u,a,f){"use strict";var l=t.browser.ie,c=l===7||!n.boxModel&&l===8,h={init:function(){this.ready=!1,this.currentToken=null,this.useTopWindow=!0,this.hiddenField=o.parseHTML('<form id="history-form" style="display:none!important;" ><input type="hidden" id="x-history-field" /><iframe id="x-history-frame"></iframe></form>')[0],document.body.appendChild(this.hiddenField),c&&(this.iframe=o.parseHTML('<iframe role="presentation" src="'+e.SSL_SECURE_URL+'"  >'+"</iframe>")[0],document.body.appendChild(this.iframe)),this.startUp()},startUp:function(){var e;return this.currentToken=this.hiddenField.value||this.getHash(),c?this.checkIFrame():(e=this.getHash(),(new f({interval:50,run:function(){var t=this.getHash();if(t!==e){var n=e;e=t,this.handleStateChange(t,n),this.doSave()}},context:this})).start(),this.handleReady(this.getHash())),this},checkIFrame:function(){var e=this.iframe.contentWindow,t,n,r,i;if(!e||!e.document){var s=this;setTimeout(function(){s.checkIFrame()},10);return}t=e.document,n=t.getElementById("state"),r=n?n.token:null,i=this.getHash(),(new f({run:function(){var t=e.document,n=t.getElementById("state"),s=n?n.token:null,o=this.getHash();if(s!==r){var u=r;r=s,this.handleStateChange(s,u),this.setHash(s),i=s,this.doSave()}else o!==i&&(i=o,this.updateIFrame(o))},interval:50,context:this})).start(),this.handleReady(this.getHash())},updateIFrame:function(e){var t='<html><body><div id="state" role="presentation">'+e+"</div></body></html>",n;try{n=this.iframe.contentWindow.document,n.open(),n.write(t);var r=n.getElementById("state");return r.token=e,n.close(),!0}catch(i){return!1}},doSave:function(){this.hiddenField.value=this.currentToken},handleStateChange:function(e,t){this.currentToken=e;var n=a.QueryString(e),r=a.QueryString(t);this.doTrigger("change",e,t)},handleReady:function(e){this.ready=!0,this.trigger(u.createEvent("ready",this,{token:e}))},doTrigger:function(e,t,n){var r=a.QueryString(t),i=a.QueryString(n),s,o;for(s in r)if(i[s]===undefined||i[s]!==r[s])o=s+"."+e,this.trigger(u.createEvent(o,this,{token:r[s]}));for(s in i)r[s]===undefined&&(o=s+"."+e,this.trigger(u.createEvent(o,this,{token:""})));this.trigger(u.createEvent(e,this,{token:t}))},getHash:function(){var e=this.useTopWindow?window.top:window,t=e.location.href,n=t.indexOf("#");return n>=0?t.substr(n+1):null},setHash:function(e){var t=this.useTopWindow?window.top:window;try{t.location.hash=e}catch(n){}},add:function(e,t){return t!==!1&&this.getToken()===e?!0:c?this.updateIFrame(e):(this.setHash(e),!0)},addByKeyValue:function(e,t,n){var s=a.QueryString(this.getToken());return r.isObject(e)?i.easyExtend(s,e):s[e]=t,this.add(a.ObjetToString(s),n)},back:function(){window.history.go(-1)},forward:function(){window.history.go(1)},getToken:function(){return this.ready?this.currentToken:this.getHash()},getTokenByKey:function(e){return a.QueryString(this.ready?this.currentToken:this.getHash())[e]||""}};return u.mixin(h),h}),aQuery.define("main/class",["base/extend","base/support"],function(e,t,n,r){"use strict";function i(e,t,n){return t&&(e.className=e.className.replace(t,n)),this}var s;return n.classList?s={addClass:function(e,t){return t!=""&&e.classList.add(t),this},containsClass:function(e,t){return e.classList.contains(t)},removeClass:function(e,t){return t!=""&&e.classList.remove(t),this},toggleClass:function(e,t){return t!=""&&e.classList.toggle(t),this},replaceClass:i,classLength:function(e){return e.classList.length},getClassByIndex:function(e,t){return e.classList.item(t)}}:s={addClass:function(e,t){if(!s.containsClass(e,t)){var n=" ";e.className.length==0&&(n=""),e.className+=n+t}return this},containsClass:function(e,t){var n=new RegExp("(\\s|^)"+t+"(\\s|$)"),r=e.className.match(n);return!!r&&!!r[0]},removeClass:function(e,t){if(s.containsClass(e,t)){var n=new RegExp("(\\s|^)"+t+"(\\s|$)");e.className=e.className.replace(n," ")}return this},toggleClass:function(e,t){return s.containsClass(e,t)?s.removeClass(e,t):s.addClass(e,t),this},replaceClass:i,classLength:function(t){var n=e.util.trim(t.className).split(" "),r=n.length;return r?r===1&&n[0]===""?0:r:0},getClassByIndex:function(t,n){return e.util.trim(t.className).split(" ")[n]||null}},e.fn.extend({addClass:function(e){return this.each(function(t){s.addClass(t,e)},this)},containsClass:function(e){return s.containsClass(this[0],e)},removeClass:function(e){return this.each(function(t){s.removeClass(t,e)})},toggleClass:function(e){return this.each(function(t){s.toggleClass(t,e)})},replaceClass:function(e,t){return this.each(function(n){s.replaceClass(n,e,t)})},classLength:function(){return s.classLength(this[0])},getClassByIndex:function(e){return s.getClassByIndex(this[0],e)}}),s}),aQuery.define("main/css",["base/typed","base/extend","base/array","base/support","base/client","main/data","main/query"],function(e,t,n,r,i,s,o,u,a){"use strict";this.describe("consult JQuery1.9.1");var f=/^-?(?:\d*\.)?\d+(?!px)[^\d\s]+$/i,l=/^margin/,c=/^(top|right|bottom|left)$/,h=new RegExp("^([+-])=("+e.core_pnum+")","i"),p={columnCount:!0,fillOpacity:!0,fontWeight:!0,lineHeight:!0,opacity:!0,orphans:!0,widows:!0,zIndex:!0,zoom:!0},d,v,m={"float":i.cssFloat?"cssFloat":"styleFloat"};window.getComputedStyle?(d=function(e){return window.getComputedStyle(e,null)},v=function(e,t,n){var r,i,s,o=n||d(e),c=o?o.getPropertyValue(t)||o[t]:a,h=e.style;return o&&(c===""&&!u.contains(e.ownerDocument.documentElement,e)&&(c=g.style(e,t)),f.test(c)&&l.test(t)&&(r=h.width,i=h.minWidth,s=h.maxWidth,h.minWidth=h.maxWidth=h.width=c,c=o.width,h.width=r,h.minWidth=i,h.maxWidth=s)),c}):document.documentElement.currentStyle&&(d=function(e){return e.currentStyle},v=function(e,t,n){var r,i,s,o=n||d(e),u=o?o[t]:a,l=e.style;return u==null&&l&&l[t]&&(u=l[t]),f.test(u)&&!c.test(t)&&(r=l.left,i=e.runtimeStyle,s=i&&i.left,s&&(i.left=e.currentStyle.left),l.left=t==="fontSize"?"1em":u,u=l.pixelLeft+"px",l.left=r,s&&(i.left=s)),u===""?"auto":u});var g={css:function(n,r,s,o,u){if(!n||n.nodeType===3||n.nodeType===8||!n.style)return;o=o||n.style;var f=e.util.camelCase(r),l=y[r]||{};r=g.cssProps[f]||(g.cssProps[f]=g.vendorPropName(o,f));if(s==a){var c=l.get?l.get(n,r):v(n,r,o);if(u===""||u){var d=parseFloat(c);return u===!0||t.isNumbereric(d)?d||0:c}return c}var m=typeof s,b;m==="string"&&(b=h.exec(s))&&(s=(b[1]+1)*b[2]+parseFloat(g.css(n,r)),m="number");if(s==null||m==="number"&&isNaN(s))return;m==="number"&&!p[f]&&(s+="px"),!i.clearCloneStyle&&s===""&&r.indexOf("background")===0&&(o[r]="inherit");if(!l||!("set"in l)||(s=l.set(n,r,s))!==a)try{o[r]=s}catch(w){}return this},curCss:v,cssProps:m,style:function(t,n,r){return g.getStyles(t)[e.util.camelCase(n,r)]},getStyles:d,contains:u.contains,getOpacity:function(e){var t;if(i.opacity)t=g.getStyles(e).opacity,t==""||t==a?t=1:t=parseFloat(t);else{var n=g.getStyles(e).filter;t=1,n&&(t=n.match(/\d+/)[0]/100)}return t},hide:function(e,t){return t?e.style.visibility="hidden":(e.style.dispaly&&o.set(e,"_visible_display",e.style.dispaly),e.style.display="none"),this},isVisible:function(e){var t=g.getStyles(e);return t.display=="none"?!1:t.visibility=="hidden"?!1:!0},setOpacity:function(t,n){return n=e.between(0,1,n),i.opacity?t.style.opacity=n:t.style.filter="Alpha(opacity="+n*100+")",this},show:function(t){var n=t.style,r="none",i="hidden",s,u;return g.curCss(t,"display")==r&&(u=o.get(t,"_visible_display"),u||(s=e.createEle(t.tagName),t.parentNode&&document.body.appendChild(s),u=g.curCss(s,"display")||"",document.body.removeChild(s),s=null),n.display=u),g.curCss(t,"visibility")==i&&(n.visibility="visible"),this},swap:function(e,t,r,i){var s,o,u={},a=e.style;for(o in t)u[o]=a[o],a[o]=t[o];return s=r.apply(e,i||[]),n.easyExtend(a,u),s}};e.fn.extend({css:function(e,n){if(t.isObject(e))for(var r in e)this.each(function(t){g.css(t,r,e[r])});else if(t.isString(e)){if(n===a)return g.css(this[0],e);this.each(function(t){g.css(t,e,n)})}return this},curCss:function(e){return g.curCss(this[0],e)},style:function(e,t){return g.style(this[0],e,t)},getStyles:function(){return g.getStyles(this[0])},toggleVisible:function(e){return this.isVisible()?this.hide(e):this.show(),this},hide:function(e){return this.each(function(t){g.hide(t,e)})},isVisible:function(){return g.isVisible(this[0])},opacity:function(e){return t.isNumber(e)?this.each(function(t){g.setOpacity(t,e)}):g.getOpacity(this[0])},show:function(){return this.each(function(e){g.show(e)})}});var y={opacity:{get:g.getOpacity,set:function(e,t,n){g.setOpacity(e,n)}}};return i.reliableMarginRight||(y.marginRight={get:function(e){return g.swap(e,{display:"inline-block"},v,[e,"marginRight"])}}),g.cssHooks=y,g.vendorPropName=function(e,t){return t},e.interfaces.achieve("constructorCSS",function(e,t,n,r){n&&t.css(n)}),g}),aQuery.define("main/position",["base/typed","base/extend","base/support","base/client","main/css"],function(e,t,n,r,i,s,o){"use strict";function d(e,t,n){var i=!0,a=t==="width"?e.offsetWidth:e.offsetHeight,f=h(e),l=r.boxSizing&&s.css(e,"boxSizing",o,f,!1)==="border-box";if(a<=0||a==null){a=p(e,t,f);if(a<0||a==null)a=e.style[t];if(u.test(a))return a;i=l&&(r.boxSizingReliable||a===e.style[t]),a=parseFloat(a)||0}return a+m(e,t,n||(l?"border":"content"),i,f)+"px"}function v(e,t,n){var r=a.exec(t);return r?Math.max(0,r[1]-(n||0))+(r[2]||"px"):t}function m(e,t,n,r,i){var u=n===(r?"border":"content")?4:t==="width"?1:0,a=0;for(;u<4;u+=2)n==="margin"&&(a+=s.css(e,n+f[u],o,i,!0)),r?(n==="content"&&(a-=s.css(e,"padding"+f[u],o,i,!0)),n!=="margin"&&(a-=s.css(e,"border"+f[u]+"Width",o,i,!0))):(a+=s.css(e,"padding"+f[u],o,i,!0),n!=="padding"&&(a+=s.css(e,"border"+f[u]+"Width",o,i,!0)));return a}function g(e,t,n){return n=n||"content",e.offsetWidth===0&&l.test(s.css(e,"display"))?s.swap(e,c,function(){return d(e,t,n)}):d(e,t,n)}function y(e,t,n,i){i=i||"content";var u=h(e);return v(e,n,i?m(e,t,i,r.boxSizing&&s.css(e,"boxSizing",o,u,!1)==="border-box",u):0)}this.describe("consult JQuery1.9.1");var u=/^-?(?:\d*\.)?\d+(?!px)[^\d\s]+$/i,a=new RegExp("^("+e.core_pnum+")(.*)$","i"),f=["Top","Right","Bottom","Left"],l=/^(none|table(?!-c[ea]).+)/,c={position:"absolute",visibility:"hidden",display:"block"},h=s.getStyles,p=s.curCss,b={getPageSize:function(){var e=window.innerHeight,n=window.innerWidth;return t.isNumber(n)||(document.compatMode=="CSS1Compat"?(e=document.documentElement.clientHeight,n=document.documentElement.clientWidth):(e=document.body.clientHeight,n=document.body.clientWidth)),{width:n,height:e}},getHeight:function(e){return b.getWidth(e,"height")},getWidth:function(e){var n=arguments[1]?"height":"width",r=n=="width"?"Width":"Height";if(t.isWindow(e))return e.document.documentElement["client"+r];if(e.nodeType===9){var i=e.documentElement;return Math.max(e.body["scroll"+r],i["scroll"+r],e.body["offset"+r],i["offset"+r],i["client"+r])}return s.css(e,n)},getTop:function(e){var t=e.offsetTop||0,n=e.offsetParent;while(n!=null)t+=n.offsetTop,n=n.offsetParent;return t},getLeft:function(e){var t=e.offsetLeft||0,n=e.offsetParent;while(n!=null)t+=n.offsetLeft,n=n.offsetParent;return t},getOffsetL:function(e){return e.offsetLeft},getOffsetT:function(e){return e.offsetTop},getInnerH:function(e){return parseFloat(g(e,"height","padding"))},getInnerW:function(e){return parseFloat(g(e,"width","padding"))},getOuterH:function(e,t){return parseFloat(g(e,"height",t===!0?"margin":"border"))},getOuterW:function(e,t){return parseFloat(g(e,"width",t===!0?"margin":"border"))},setHeight:function(e,t){return b.setWidth(e,t,"height")},setWidth:function(e,t){var n=arguments[2]?"height":"width";return s.css(e,n,t),this},setInnerH:function(e,t){return e.style.height=y(e,"height",t,"padding"),this},setInnerW:function(e,t){return e.style.width=y(e,"width",t,"padding"),this},setOffsetL:function(e,t){switch(typeof t){case"number":t+="px",e.style.left=t;break;case"string":e.style.left=t}return this},setOffsetT:function(e,t){switch(typeof t){case"number":t+="px",e.style.top=t;break;case"string":e.style.top=t}return this},setOuterH:function(e,t,n){return e.style.height=y(e,"height",t,n===!0?"margin":"border"),this},setOuterW:function(e,t,n){return e.style.width=y(e,"width",t,n===!0?"margin":"border"),this}};return e.fn.extend({width:function(e){return t.isNul(e)?parseFloat(b.getWidth(this[0])):this.each(function(t){b.setWidth(t,e)})},height:function(e){return t.isNul(e)?parseFloat(b.getHeight(this[0])):this.each(function(t){b.setHeight(t,e)})},getLeft:function(){return b.getLeft(this[0])},getTop:function(){return b.getTop(this[0])},offsetLeft:function(e){return t.isNul(e)?b.getOffsetL(this[0]):this.each(function(t){b.setOffsetL(t,e)})},offsetTop:function(e){return t.isNul(e)?b.getOffsetT(this[0]):this.each(function(t){b.setOffsetT(t,e)})},innerHeight:function(e){return t.isNul(e)?b.getInnerH(this[0]):this.each(function(t){b.setInnerH(t,e)})},innerWidth:function(e){return t.isNul(e)?b.getInnerW(this[0]):this.each(function(t){b.setInnerW(t,e)})},outerHeight:function(e,n){return arguments.length==1&&t.isBoolean(e)&&(n=e,e=null),t.isNul(e)?b.getOuterH(this[0],n):this.each(function(t){b.setOuterH(t,e,n)})},outerWidth:function(e,n){return arguments.length==1&&t.isBoolean(e)&&(n=e,e=null),t.isNul(e)?b.getOuterW(this[0],n):this.each(function(t){b.setOuterW(t,e,n)})},scrollHeight:function(){var e=this.height();return s.swap(this[0],{overflow:"scroll"},function(){return Math.max(e,this.scrollHeight||0)})},scrollWidth:function(){var e=this.width();return s.swap(this[0],{overflow:"scroll"},function(){return Math.max(e,this.scrollWidth||0)})}}),n.extend(!0,s.cssHooks,{width:{get:g,set:y},height:{get:g,set:y}}),b}),aQuery.define("html5/css3",["base/support","base/extend","base/typed","base/client","base/array","main/css"],function(e,t,n,r,i,s,o,u){"use strict";this.describe("HTML5 CSS3");var a="",f="",l=!1,c=!1,h=!1,p=!1,d=document.documentElement.style,v=function(){var e="";return i.engine.ie?e="ms":i.engine.webkit||i.system.mobile?e="webkit":i.engine.gecko?e="Moz":i.engine.opera&&(e="O"),e}(),m=function(t,n){var r=n;n=e.util.camelCase(r);if(n in t)return n;n=e.util.camelCase(r,v);if(n in t)return n},g=function(t){return e.util.camelCase(t)in d||e.util.camelCase(t,v)in d},y={linearGradient:{styleKey:null},repeatingLinearGradient:{styleKey:null},radialGradient:{grammar:null,styleKey:null},repeatingRadialGradient:{grammar:null,styleKey:null}},b=function(){function t(t,n,r,i){if(!e[t])try{d.background=n+r+i,e[t]=d.background.indexOf("gradient")>-1,y[t].styleKey=n+r}catch(s){}finally{d.background=""}}function s(t,n,r,i,s,o,u){if(!e[t])try{var a=[n+r];i==="at"?a.push(o,i,s+",",u):a.push(s+",",o+",",u),d.background=a.join(" "),e[t]=d.background.indexOf("gradient")>-1,y[t].grammar=i,y[t].styleKey=n+r}catch(f){}finally{d.background=""}}var e={};e.css3=l=g("boxShadow"),a=m(d,"transform"),e.transform=c=!!a,c&&(h=g("transformStyle")),e.transform3d=h,e.animation=g("animationName"),f=m(d,"transition"),e.transition=p=!!f;var n="linear-gradient(to ",r="left, white, black)",i="-"+v.toLowerCase()+"-";t("linearGradient","",n,r),t("linearGradient",i,n,r),t("repeatingLinearGradient","","repeating-"+n,r),t("repeatingLinearGradient",i,"repeating-"+n,r),n="linear-gradient(",t("linearGradient","",n,r),t("linearGradient",i,n,r),t("repeatingLinearGradient","","repeating-"+n,r),t("repeatingLinearGradient",i,"repeating-"+n,r);var o="radial-gradient(",u="white, black )",b="at",w="50% 50%",E="farthest-side circle",S="-"+v.toLowerCase()+"-";return s("radialGradient","",o,b,w,E,u),s("radialGradient",S,o,b,w,E,u),s("repeatingRadialGradient","","repeating-"+o,b,w,E,u),s("repeatingRadialGradient",S,"repeating-"+o,b,w,E,u),s("radialGradient","",o,"",w,E,u),s("radialGradient",S,o,"",w,E,u),s("repeatingRadialGradient","","repeating-"+o,"",w,E,u),s("repeatingRadialGradient",S,"repeating-"+o,"",w,E,u),e}(),w=function(e){return e!=""&&e!=="none"&&e!=null},E={top:"50% 100%, 50% 0%",bottom:"50% 0%, 50% 100%",left:"100% 50%, 0% 50%","top left":"100% 100%, 0% 0%","top right":"0% 0%, 100% 100%","bottom right":"0% 0%, 100% 100%","bottom left":"100% 0%, 0% 100%"};if(c)var S={translate3d:/translate3d\([^\)]+\)/,translate:/translate\([^\)]+\)/,rotate:/rotate\([^\)]+\)/,rotateX:/rotateX\([^\)]+\)/,rotateY:/rotateY\([^\)]+\)/,rotateZ:/rotateZ\([^\)]+\)/,scale:/scale\([^\)]+\)/,scaleX:/scaleX\([^\)]+\)/,scaleY:/scaleY\([^\)]+\)/,skew:/skew\([^\)]+\)/},x={translateX:1,translateY:2,translateZ:3,scaleX:1,scaleY:1},T=function(e){var t=e.sx!=u?e.sx:e.scaleX||1,n=e.sy!=u?e.sy:e.scaleY||1;return["scale(",Math.max(0,t),",",Math.max(0,n),") "]},N=function(e){return["translate3d(",e.tx!=u?e.tx+"px":e.translateX||0,", ",e.ty!=u?e.ty+"px":e.translateY||0,", ",e.tz!=u?e.tz+"px":e.translateZ||0,") "]},C=function(e){return["rotateX(",e.rx!=u?e.rx+"deg":e.rotateX||0,") ","rotateY(",e.ry!=u?e.ry+"deg":e.rotateY||0,") ","rotateZ(",e.rz!=u?e.rz+"deg":e.rotateZ||0,") "]},k=/[^\d\w\.\-\+]+/,L=function(e,t){var n=[],r=e.match(S[t]);return r&&(n=r[0].replace(")","").split(k)),n},A=function(t){var n=[];return t=t.split(") "),e.each(t,function(e){n.push(e.replace(")","").split(k))}),n};if(p)var O=function(e,t){var n={},r,i=e.match(t+".*,");return i&&(r=i[0].replace(",","").split(" "),n.name=r[0],n.duration=r[1],n["function"]=r[2],n.delay&&(n.delay=r[3])),n},M=function(t){var n=[],r;return e.each(t.split(/,\s?/),function(e){r=e.split(" "),r={name:r[0],duration:r[1],"function":r[2]},r.delay&&(r.delay=r[3]),n[r.name]=r,n.push(r)}),n};var _=function(t){function n(e,t){t.defaultColor&&(e.style.background=t.defaultColor)}return b[t]?function(i,s){n(i,s);var o=[];return o.push(y[t].styleKey),s.orientation&&o.push(s.orientation,","),e.each(s.colorStops,function(e,t){o.push(e.color),r.isNumber(e.stop)?o.push(" "+e.stop*100,"%"):r.isString(e.stop)&&o.push(" "+e.stop),s.colorStops.length-1!==t&&o.push(",")}),o.push(")"),i.style.backgroundImage=o.join(""),this}:i.browser.chrome>10||i.browser.safari>=5.1||i.system.mobile?function(t,i){n(t,i);var s=[],o=i.orientation,a=i.colorStops.length;return s.push("-webkit-gradient","(linear, "),o!=u&&s.push(o,", "),s.push("from(",i.colorStops[0].color,")"),e.each(i.colorStops,function(e,t){s.push(",","color-stop","("),r.isNumber(e.stop)?s.push(e.stop,", "):r.isString(e.stop)&&/%$/.test(e.stop)?s.push(e.stop,", "):s.push((1/(a+1)*(t+1)).toFixed(2),", "),s.push(e.color),s.push(")")}),s.push(", to(",i.colorStops[a-1].color,")"),s.push(")"),t.style,backgroundImage=s.join(""),this}:i.browser.ie==9?function(e,t){n(e,t);var r=[];return r.push("progid:DXImageTransform.Microsoft.gradient","("),r.push("startColorstr=","'",t.colorStops[0].color,"'"),r.push(",","endColorstr=","'",t.colorStops[t.colorStops.length-1].color,"'"),r.push(")"),e.style.filter=r.join(""),this}:function(e,t){return n(e,t),this}},D=function(t){function n(e,t){t.defaultColor&&(e.style.background=t.defaultColor)}return b[t]?function(i,s){n(i,s);var o=[];o.push(y[t].styleKey);var a=!1;return y[t].grammar?(s.size!=u&&(o.push(s.size," "),a=!0),s.shape!=u&&(o.push(s.shape," "),a=!0),(s.size||s.shape)&&s.position!=u&&o.push(y[t].grammar," "),s.position!=u&&(o.push(s.position),a=!0),a&&o.push(", ")):(s.position!=u&&o.push(s.position,", "),s.size!=u&&(o.push(s.size," "),a=!0),s.shape!=u&&(o.push(s.shape),a=!0),a&&o.push(", ")),e.each(s.colorStops,function(e,t){o.push(e.color),r.isNumber(e.stop)?o.push(" "+e.stop*100,"%"):r.isString(e.stop)&&o.push(" "+e.stop),s.colorStops.length-1!==t&&o.push(",")}),o.push(")"),i.style.backgroundImage=o.join(""),this}:i.browser.chrome>10||i.browser.safari>=5.1||i.system.mobile?function(t,i){n(t,i);var s=[];return s.push("-webkit-gradient","(radial,"),s.push(i.position,", ","0, "),s.push(i.position,", ",Math.max(t.offsetWidth,t.offsetHeight),", "),s.push("from(",i.colorStops[0].color,")"),e.each(i.colorStops,function(e,t){s.push(",","color-stop","("),r.isNumber(e.stop)?s.push(e.stop*100,"%",", "):r.isString(e.stop)&&/%$/.test(e.stop)?s.push(e.stop,", "):s.push((1/(i.colorStops.length+1)*(t+1)*100).toFixed(2),"%, "),s.push(e.color),s.push(")")}),s.push(", to(",i.colorStops[i.colorStops.length-1].color,")"),s.push(")"),t.style.backgroundImage=s.join(""),this}:i.browser.ie==9?function(e,t){n(e,t);var r=[];return r.push("progid:DXImageTransform.Microsoft.gradient","("),r.push("startColorstr=","'",t.colorStops[0].color,"'"),r.push(",","endColorstr=","'",t.colorStops[t.colorStops.length-1].color,"'"),r.push(")"),e.style.filter=r.join(""),this}:function(e,t){return n(e,t),this}},P={hooks:y,transformCssName:a,transitionCssName:f,getTransformStyleNameUnCamelCase:function(){var t=e.util.unCamelCase(a);return a?t.indexOf("-")>-1?"-"+t:t:a},getTransitionStyleNameUnCamelCase:function(){var t=e.util.unCamelCase(f);return f?t.indexOf("-")>-1?"-"+t:t:f},addTransition:function(t,n){return e.setTransition(t,n,o.css(t,f))},bindTransition:function(t,n){var i=e(t);return r.isArray(n)||(n=[n]),e.each(n,function(n){e.each(n.events,function(t,r){i.addHandler(r,function(){o.css(this,e.util.camelCase(n.name),t)})});if(n.toggle){var r=[t];e.each(n.toggle,function(t,i){r.push(function(){o.css(this,e.util.camelCase(n.name,n.head),t)})}),e.toggle.apply(this,r)}}),e.setTransition(t,n,o.css(t,f))},css3:function(t,n,r){if(l){n=e.util.camelCase(n);var i=y[n];if(i){if(i.set&&r!==u)i.set(t,r);else if(i.get&&r===u)return i.get(t)}else{n=this.vendorPropName(t,n);if(r===u)return o.css(t,n);o.css(t,n,r)}}return this},css3Head:v,css3Style:function(e,t){return o.style(e,t,v)},getCss3Support:function(e){return g(e)},getTransform:function(e,t){var n=[];if(c){var i=o.css(e,a),s,u=-1;w(i)&&(r.isString(t)?(s=L(i,t),n.push(s)):n=A(i))}return n},getTransform3d:function(e,t){var n={};if(h){n={rotateX:0,rotateY:0,rotateZ:0,translateX:0,translateY:0,translateZ:0,scaleX:1,scaleY:1};var r=o.css(e,a),i,s;if(w(r)){i=L(r,"rotateX"),i.length&&(n.rotateX=i[1]),i=L(r,"rotateY"),i.length&&(n.rotateY=i[1]),i=L(r,"rotateZ"),i.length&&(n.rotateZ=i[1]),i=L(r,"scale"),i.length&&(n.scaleX=i[1])&&(n.scaleY=i[2]),i=L(r,"translate3d"),i.length&&(n.translateX=i[1],n.translateY=i[2],n.translateZ=i[3]);if(t===!0)for(s in n)n[s]=parseFloat(n[s])}}return n},getTransform3dByName:function(e,t,n){var r=null,i;if(h){var s=o.css(e,a);if(w(s))switch(t){case"translateX":case"translateY":case"translateZ":r=L(s,"translate3d"),i=x[t];break;case"rotateX":case"rotateY":case"rotateZ":r=L(s,t),i=1;break;case"scaleX":case"scaleY":r=L(s,"scale"),i=x[t]}}return r&&r.length?n===!0?parseFloat(r[i]):r[i]:null},getTransformOrigin:function(e){var t={};if(c){var n=e.style[a+"Origin"];n&&(n=n.split(" "),t.x=n[0],t.y=n[1])}return t},getTransition:function(e,t){var n=[];if(c){var i=o.css(e,f),s,u=-1;w(i)&&(r.isString(t)?(s=O(i,t),n.push(s),n[t]=s):n=M(i))}return n},initTransform3d:function(e,t,n){if(h){var r=e.style;r[m(r,"TransformStyle")]="preserve-3d",r[m(r,"Perspective")]=t||300,r[m(r,"PerspectiveOrigin")]=n||"50% 50%"}return this},linearGradient:_("linearGradient"),repeatingLinearGradient:_("repeatingLinearGradient"),radialGradient:D("radialGradient"),removeTransition:function(t,n){var i,a=o.css(t,f),l,c=arguments[2]||"";return n==u?a="":r.isString(n)?i=[n]:s.inArray(n)?i=n:r.isObject(n)&&(i=n.name&&[n.name]),e.each(i,function(e){l=a.match((e||e.name)+".+?(\\D,|[^,]$)"),l&&(c&&l[1]&&l[1].indexOf(",")>-1&&(c+=","),a=a.replace(l[0],c))}),o.css(t,f,a)},replaceTransition:function(t,n,r){return e.removeTransition(t,n,r)},setRotate3d:function(t,r){if(!r||!h)return this;var i=e.getTransform3d(t),s={rotateX:i.rotateX,rotateY:i.rotateY,rotateZ:i.rotateZ};n.easyExtend(r,s),t.style[a]=C(r).join("")},setScale:function(t,r){if(!r||!h)return this;var i=e.getTransform3d(t),s={scaleX:i.scaleX,scaleY:i.scaleY};return n.easyExtend(r,s),o.css(t,a,T(r).join("")),this},setTransform:function(t,n){if(c&&r.isArray(n)){var i=[];e.each(n,function(e,t){S[e[0]]&&i.push(e[0],"(",e.slice(1,e.length).join(","),") ")},this),o.css(t,a,i.join(""))}return this},setTransform3d:function(t,r){return!r||!h?this:(r=n.extend(e.getTransform3d(t),r),o.css(t,a,N(r).concat(C(r)).concat(T(r)).join("")),this)},setTransformByCurrent:function(t,n){if(c&&n){var i=e.getTransform(t),s=[],o=n.length,u=i.length,a=0,f=null,l=null,h=null,p=o-1,d=u-1,v=0;for(;p>-1;p--){f=n[p];if(S[f[0]]){for(;d>-1;d--){l=i[d];if(f[0]==l[0]){v=1,a=f.length;for(;v<a;v++)h=f[v],r.isEmpty(h)||(l[v]=h);break}}v==0&&s.push(f),v=0}else n.splice(p,1)}i=i.concat(s),e.setTransform(t,i)}return this},setTransformOrigin:function(e,t){return c&&t&&o.css(e,a+"Origin",[t.x||"left"," ",t.y||"top"].join("")),this},setTransition:function(t,n){if(p){var i="",s=arguments[2]?arguments[2]:"";if(r.isString(n))i=n;else if(r.isObject(n))n.name&&(i=[e.util.unCamelCase(value.name,value.head),n.duration||"1s",n["function"]||"linear",n.delay||""].join(" "));else if(r.isArray(n)){var u=[];e.each(n,function(t){r.isString(t)?u.push(t):r.isObject(t)&&t.name&&u.push([e.util.unCamelCase(t.name,t.head),t.duration||"1s",t["function"]||"linear",t.delay||""].join(" "))}),i=u.join(",")}s.replace(/\s/g,"").indexOf(i.replace(/\s/g,""))<0&&o.css(t,f,(s?s+",":"")+i)}return this},setTranslate3d:function(t,r){if(!r||!h)return this;var i=e.getTransform3d(t),s={translateX:i.translateX,translateY:i.translateY,translateZ:i.translateZ};return n.easyExtend(r,s),o.css(t,a,N(r).join("")),this},vendorPropName:function(e,t){return m(e.style,t)||t}};return n.easyExtend(t,b),e.extend(P),e.fn.extend({addTransition:function(t){return this.each(function(n){e.addTransition(n,t)})},bindTransition:function(t){return this.each(function(n){e.bindTransition(n,t)})},css3:function(t,n){if(!l)return this;var i=t,s;if(r.isObject(i))for(var o in i)this.each(function(t){e.css3(t,o,i[o])});else if(r.isString(i)){if(n===u)return e.css3(this[0],i);this.each(function(t){e.css3(t,i,n)})}return this},css3Style:function(e){return o.style(this[0],e,v)},initTransform3d:function(t,n){return this.each(function(r){e.initTransform3d(r,t,n)})},linearGradient:function(t){return this.each(function(n){e.linearGradient(n,t)})},radialGradient:function(t){return this.each(function(n){e.radialGradient(n,t)})},removeTransition:function(t){return this.each(function(n){e.removeTransition(n,t)})},replaceTransition:function(t,n){return this.each(function(r){e.replaceTransition(r,t,n)})},setRotate3d:function(t){this.each(function(n){e.setRotate3d(n,t)})},setScale:function(t){return this.each(function(n){e.setScale(n,t)})},setTransformByCurrent:function(t){return this.each(function(n){e.setTransformByCurrent(n,t)})},setTransition:function(t){return this.each(function(n){e.setTransition(n,t)})},setTranslate3d:function(t){return this.each(function(n){e.setTranslate3d(n,t)})},transform:function(t){return r.isArray(t)?this.each(function(n){e.setTransform(n,t)}):e.getTransform(this[0],t)},transform3d:function(t,n){if(!h)return this;switch(typeof t){case"boolean":return n=t,e.getTransform3d(this[0],n);case"undefined":return e.getTransform3d(this[0],n);case"string":return e.getTransform3dByName(this[0],t,n);case"object":return this.each(function(n){e.setTransform3d(n,t)})}},transformOrigin:function(t){return t?this.each(function(n){e.setTransformOrigin(n,t)}):e.getTransformOrigin(this[0])},transition:function(t){if(t==u||r.isString(t)&&t.indexOf(" ")<0)return e.getTransition(this[0],t);if(r.isArray(t)||r.isObject(t)||r.isString(t))return this.bindTransition(t)}}),y.linearGradient.set=P.linearGradient,y.repeatingLinearGradient.set=P.repeatingLinearGradient,y.radialGradient.set=P.radialGradient,y.repeatingRadialGradient.set=P.repeatingRadialGradient,y.transform={set:P.setTransform,get:P.getTransform},y.transform3d={set:P.setTransform3d,get:P.getTransform3d},y.transformOrigin={set:P.setTransformOrigin,get:P.getTransformOrigin},P}),aQuery.define("ui/flex",["base/client","base/typed","base/support","module/Widget","main/query","main/class","main/CustomEvent","main/event","main/css","main/position","main/dom","main/attr","html5/css3"],function(e,t,n,r,i,s,o,u,a,f,l,c,h,p){"use strict";function d(e,t,n){var r=null,i=null;return function(){var s=this,o=arguments,u=function(){r=null,n||(i=e.apply(s,o))},a=n&&!r;return clearTimeout(r),r=setTimeout(u,t),a&&(i=e.apply(s,o)),i}}i.fetchCSS("ui/css/flex");var v=document.documentElement.style,m,g="",y="";"flex"in v?(g="flex",y="flexDirection"):e.css3Head+"Flex"in v&&(g=e.css3Head+"Flex",y=e.css3Head+"FlexDirection"),r.box=!!g;if(r.box){var b=v[g],w=v[y];m={container:null,_initHandler:function(){var e=this;return this.flexEvent=d(function(){e.resize()},50),this},enable:function(){return a.document.addHandler(window,"resize",this.flexEvent),this.options.disabled=!1,this},disable:function(){return a.document.removeHandler(window,"resize",this.flexEvent),this.options.disabled=!0,this},render:function(e,t){n.isNul(e)||this.setWidth(e),n.isNul(t)||this.setHeight(t);var r=this.options;r.flex!==b&&this.target.css(g,r.flex+""),r.flexDirection!==w&&this.target.css(y,r.flexDirection+"");var i=this.getEventName("resize");return this.target.trigger(u.createEvent(i,this.target[0],{width:this.target.width(),height:this.target.height()})),this},resize:function(e,t){this.render(e,t)},findParent:function(){var e=this.target.parent("[ui-flex]");return e.length&&e[0]===this.target[0].parentNode?e:null},noticeParent:function(){},setWidth:function(e){this.target.width(e)},setHeight:function(e){this.target.height(e)},_setFlex:function(e){this.options.flex=e},init:function(e,r){this._super(e,r),this.target.addClass("aquery-flex");if(!this.findParent()||n.isNode(this.target[0],"iframe")&&t.browser.ie>=10)this.options.fillParentWidth&&this.target.css("width","100%"),this.options.fillParentHeight&&this.target.css("height","100%");return this._initHandler().enable().render(),this},customEventName:[],options:{flex:b,flexDirection:w,fillParentWidth:!0,fillParentHeight:!0},getter:{},setter:{},publics:{setWidth:i.AllowPublic,setHeight:i.AllowPublic,resize:i.AllowPublic,noticeParent:i.AllowPublic},target:null,toString:function(){return"ui.flex"},widgetEventPrefix:"flex",destroy:function(){return this.target.css(g,b),this.target.css(y,w),i.invoke("destroy",this),this},initIndex:1e3}}else m={container:null,_initHandler:function(){var e=this;return this.flexEvent=function(t){switch(t.type){case i.changeEventName:e.detect()}},this.resizeEvent=d(function(){e.fillParent(),e.render()},50),this},enable:function(){return this.findParent()||(a.document.addHandler(window,"resize",this.resizeEvent),this.target.on(i.detectEventName,this.flexEvent)),this.options.disabled=!1,this},disable:function(){return this.findParent()||(a.document.removeHandler(window,"resize",this.resizeEvent),this.target.off(i.detectEventName,this.flexEvent)),this.options.disabled=!0,this},render:function(e,t){n.isNul(e)||this.target.width(e),n.isNul(t)||this.target.height(t),this.width=this.target.width(),this.height=this.target.height(),this.toDirection(this.options.flexDirection);var r=this.getEventName("resize");return this.target.trigger(u.createEvent(r,this.target[0],{width:this.width,height:this.height})),this._lock===!1&&this.noticeParent(),this},detect:function(){this.toDirection(this.options.flexDirection)},resize:function(e,t){this.render(e,t)},setWidth:function(e){this.render(e,null)},setHeight:function(e){this.render(null,e)},_setFlexDirection:function(e){var t=this.options;switch(e){case"row":t.flexDirection=e;break;case"column":t.flexDirection=e}},_setFlex:function(e){n.isNumber(e)&&e>=0&&this.options.flex!==e&&(this.options.flex=e)},filterFlex:function(){var t=this.target.children(),n=this.options,r,i=[],s,o=0,u=null,a,f,l=this.width,c=this.height;return t.each(function(t){r=e(t),a=r.isWidget("ui.flex"),s=0,r.isFlex=a,a&&(s=r.uiFlex("option","flex")),f=s>0,r.hasFlex=f,a&&f?(o+=s,u=r):n.flexDirection==="row"?l-=r.outerWidth():n.flexDirection==="column"&&(c-=r.outerHeight()),i.push(r)}),l=Math.max(l,0),c=Math.max(c,0),u&&(u.isLastItem=!0),{flexTarget:i,totalFlex:o,traceWidth:l,traceHeight:c}},toDirection:function(e){var t=this.filterFlex(),n=t.flexTarget,r=t.totalFlex,i=t.traceWidth,s=t.traceHeight,o,u=0,a=n.length,f=0,l=0,c=null,h=null,p,d=!1,v=!1;for(;u<a;u++){o=n[u],o.css("display","block");switch(e){case"row":o.css("float","left");break;case"column":o.css("clear","both")}o.isFlex&&(c=null,h=null,v=o.uiFlex("option","fillParentHeight"),d=o.uiFlex("option","fillParentWidth"),p=o.uiFlex("option","flex"),p>0?e==="row"?(i>0&&(c=Math.round(p/r*i),o.isLastItem?c=i-f:f+=c),v&&(h=s)):e==="column"&&(s>0&&(h=Math.round(p/r*s),o.isLastItem?h=s-l:l+=h),d&&(c=i)):(d&&(c=i),v&&(h=s)),o.uiFlex("lock"),o.uiFlex("resize",c,h),o.uiFlex("unlock"))}return this},noticeParent:function(){var e=this.findParent();e&&e.uiFlex("resize")},_doAfterInit:function(){this.options.initWithParent||this.noticeParent()},findParent:function(){var e=this.target.parent("*[amdquery-widget*='ui.flex']");return e.length&&e[0]===this.target[0].parentNode?e:null},lock:function(){this._lock=!0},unlock:function(){this._lock=!1},fillParent:function(){this.options.fillParentWidth&&this.target.width(this.target.parent().width()),this.options.fillParentHeight&&this.target.height(this.target.parent().height())},init:function(t,n){this._super(t,n);var r=this;this._lock=!1,this.width=0,this.height=0,this.traceWidth=0,this.traceHeight=0,this._initHandler().enable();var i;return this.target.children().each(function(t){i=e(t),i.isWidget("ui.flex")&&i.uiFlex({initWithParent:!0})}),r.findParent()||(r.fillParent(),r.render()),this},customEventName:["resize"],options:{flex:0,flexDirection:"row",fillParentWidth:!0,fillParentHeight:!0,initWithParent:!1},getter:{initWithParent:!1},setter:{},publics:{setWidth:i.AllowPublic,setHeight:i.AllowPublic,resize:i.AllowPublic,lock:i.AllowPublic,unlock:i.AllowPublic},target:null,toString:function(){return"ui.flex"},widgetEventPrefix:"flex",initIndex:1e3};var E=i.extend("ui.flex",m,{flexName:g});return E}),aQuery.define("@app/views/index",["app/View","ui/flex"],function(e,t){"use strict";var n="@app/xml/index",r=t.extend({init:function(e){this._super(e,n)}},{});return r}),aQuery.define("animation/FX",["base/typed","base/array","main/css","main/object"],function(e,t,n,r,i,s){"use strict";var o=/^([+-]=)?([\d+-.]+)(.*)$/,u=i.extend("FX",{start:function(){u.timers.push(this),this.startTime=e.now(),u.tick()},init:function(e,t,n,r){this.ele=e,this.options=t,this.easing=t.easing,this.delay=t.delay||0,this.duration=t.duration,this.name=r;var i=this.getStartEnd(n);return this.from=i.start,this.end=i.end,this.unit=i.unit,this.percent=0,t.isStart&&this.start(),this},cur:function(){return u.cur(this.ele,this.name)},constructor:u,getPercent:function(){return parseInt((this.percent||0)*100)/100},getStartEnd:function(e){return u.getStartEnd.call(this,e,this.ele,this.name)},specialUnit:function(e,t,n){return u.specialUnit(e,t,n,this.ele,this.name)},step:function(n){var r;t.isBoolean(n)||(r=n||0);var i=e.now()-r,s=this.options;if(n===!0||i>this.startTime+this.delay+this.duration||this.end===this.from)this.nowPos=this.end,this.update(),--s.curCount<=0&&(this.options.display!=null&&(this.ele.style.overflow=s.overflow,this.ele.style.display=s.display,this.ele.display==="none"&&(this.ele.style.display="block")),u.invokeCompelete(s.complete,this.ele,s)),this.stop();else{var o=i-this.startTime,a;o>this.delay&&(a=this.easing(o-this.delay,0,1,this.duration),this.percent=a,this.nowPos=this.from+(this.end-this.from)*a,this.update())}},stop:function(){var e=n.inArray(u.timers,this);e>-1&&u.timers.splice(e,1)},update:function(e){e=e==s?this.nowPos.toFixed(2):e,r.css(this.ele,this.name,e+this.unit)},isInDelay:function(){return new Date-this.startTime<this.delay}},{invokeCompelete:function(e,t,n){for(var r=e.length-1;r>=0;r--)e[r].call(t,n)},fast:200,slow:600,normal:400,speeds:function(e){switch(e){case"slow":return u.slow;case"fast":return u.fast;default:case"normal":return u.normal}},hooks:{},cur:function(e,t){if(e[t]==null||!!e.style&&e.style[t]!=null){var n;return n=parseFloat(r.css(e,t)),n=n!==s&&n>-1e4?n:parseFloat(r.curCss(e,t))||0,n!=="auto"?n:0}return e[t]},getDelay:function(e){if(t.isString(e))e=u.speeds(e);else if(t.isNul(e)||!t.isNumber(e))e=0;return e},getDuration:function(e){if(t.isNul(e)||!t.isNumber(e))e=u.speeds(e);return e},getStartEnd:function(e,t,n){var r=o.exec(e),i=this.cur(t,n),s=e,u="";if(r){var s=parseFloat(r[2]);u=r[3],u!==""&&u!=="px"&&u!=="deg"&&(i=this.specialUnit(i,s,u,t,n)),r[1]&&(s=(r[1]==="-="?-1:1)*s+i)}return{start:i,end:s,unit:u}},specialUnit:function(e,t,n,r,i){return r.style[i]=(t||1)+n,e=(t||1)/u.cur(r,i)*e,r.style[i]=e+n,e},stop:function(){},timers:[],tick:function(){}});return u}),aQuery.define("animation/tween",["base/typed"],function(e,t,n){"use strict";var r=Math,i=r.pow,s=r.sqrt,o=r.abs,u=r.cos,a={getFun:function(n){var r;return t.isFunction(n)?r=n:t.isString(n)&&(n=n.split("."),r=this,e.each(n,function(e){if(!r)return r=null,!1;r=r[e]},this)),r||this.linear},linear:function(e,t,n,r){return e/r},swing:function(e,t,n,i){return.5-u(e/i*r.PI)/2},ease:function(e,t,n,r){e/=r;var u=.07813-e/2,a=s(.0066+u*u),f=a-u,l=i(o(f),1/3)*(f<0?-1:1),c=-a-u,h=i(o(c),1/3)*(c<0?-1:1);return e=l+h+.25,i(1-e,2)*3*e*.1+(1-e)*3*e*e+e*e*e},easeIn:function(e,t,n,r){return i(e/r,1.7)},easeOut:function(e,t,n,r){return i(e/r,.48)},easeInOut:function(e,t,n,r){e/=r;var u=.48-e/1.04,a=s(.1734+u*u),f=a-u,l=i(o(f),1/3)*(f<0?-1:1),c=-a-u,h=i(o(c),1/3)*(c<0?-1:1);return e=l+h+.5,(1-e)*3*e*e+e*e*e},cubicBezier:function(t,n,r,i,s,o,u,a){function m(e){return((h*e+c)*e+l)*e}function g(e,t){var n=y(e,t);return((v*n+d)*n+p)*n}function y(e,t){var n,r,i,s,o,u;for(i=e,u=0;u<8;u++){s=m(i)-e;if(Math.abs(s)<t)return i;o=(3*h*i+2*c)*i+l;if(Math.abs(o)<1e-6)break;i-=s/o}n=0,r=1,i=e;if(i<n)return n;if(i>r)return r;while(n<r){s=m(i);if(Math.abs(s-e)<t)return i;e>s?n=i:r=i,i=(r-n)/2+n}return i}s=e.between(0,1,s||0),o=e.between(0,1,o||0),u=e.between(0,1,u||1),a=e.between(0,1,a||10);var f=t/i,l=3*s,c=3*(u-s)-l,h=1-l-c,p=3*o,d=3*(a-o)-p,v=1-p-d;return g(f,1/(200*i))}};return e.tween=a,a}),aQuery.define("animation/animate",["base/typed","base/extend","base/queue","main/data","animation/FX","module/Thread","animation/tween"],function(e,t,n,r,i,s,o,u,a){"use strict";s.tick=function(){if(c.getStatus()==="run")return;c.start()},s.stop=function(){c.stop()};var f=function(){e(this).dequeue()},l=s.timers,c=new o({isAnimFrame:!0,duration:0,run:function(){for(var e=0,t;t=l[e++];)t.step(c.pauseTime);l.length||s.stop()}}),h=function(r,i,o){var u={},a,f=t.isElement(r),l=f&&e(r).isVisible(),c=0,h=o.easing;n.easyExtend(u,o);for(a in i){var p=e.util.camelCase(a);a!==p&&(i[p]=i[a],delete i[a],a=p);if(i[a]==="hide"&&l||i[a]==="show"&&!l)return u.complete.call(r);(a==="height"||a==="width")&&r.style&&(u.display=r.style.display,u.overflow=r.style.overflow,r.style.display="block"),c++}return u.overflow!=null&&(r.style.overflow="hidden"),u.curAnim=n.extend({},i),u.curCount=c,u.isStart=1,e.each(i,function(n,i){u.easing=u.specialEasing&&u.specialEasing[i]?e.getAnimationEasing(u.specialEasing[i]):h;if(t.isFunction(s.hooks[i]))return s.hooks[i](r,u,n,i);new s(r,u,n,i)}),!0};c.stop=function(){e.each(l,function(t){t&&(t.stop(),e(t.ele).dequeue())}),o.prototype.stop.call(this)},e.extend({animate:function(n,r,i){return i=e._getAnimateOpt(i),t.isEmptyObject(r)?i.complete(n):(i.queue===!1?h(n,r,i):e.queue(n,"fx",function(){h(n,r,i),e.dequeue(n,[n]),r=i=null}),this)},stopAnimation:function(t,n){for(var r=s.timers,i=r.length-1;i>=0;i--)r[i].ele===t&&r.splice(i,1);return n&&e.dequeue(t),this},animationPower:c,clearQueue:function(t,n){return e.queue(t,n||"fx",[])},dequeue:function(t,n){n=n||"fx";var r=e.queue(t,n);return r.dequeue(t,[t])},_originComplete:f,_getAnimateOpt:function(n){n=n||{};var r=s.getDuration(n.duration),i=s.getDelay(n.delay),o,u;return t.isArray(n.complete)?(u=n.complete,u[0]!==f&&u.splice(0,0,f)):t.isFunction(n.complete)?u=[n.complete,f]:u=[f],o={delay:i,duration:r,easing:e.getAnimationEasing(n.easing,n.para),specialEasing:n.specialEasing,complete:u,queue:n.queue===!1?!1:!0},o},getAnimationEasing:function(e,t){var n=u.getFun(e);return t&&t.length?function(e,r,i,s){n.apply(u,[e,r,i,s].concat(t))}:n},queue:function(e,t,n){if(!e)return;t=(t||"fx")+"queue";var s=i.get(e,t);return s||(s=new r,i.set(e,t,s)),s.queue(n,e,[e])}}),e.fn.extend({animate:function(n,r){return r=e._getAnimateOpt(r),t.isEmptyObject(n)?this.each(r.complete):this[r.queue===!1?"each":"queue"](function(e){h(e,n,r)})},stopAnimation:function(t){return this.each(function(n){e.stopAnimation(n,t)})},dequeue:function(t){return this.each(function(n){e.dequeue(n,t)})},queue:function(n,r){return t.isString(n)||(r=n,n="fx"),r===a?e.queue(this[0],n):this.each(function(t){e.queue(t,n,r)})}})}),aQuery.define("html5/animate.transform",["base/typed","base/extend","base/support","main/object","animation/FX","html5/css3","animation/animate"],function(e,t,n,r,i,s,o,u,a){"use strict";this.describe("Support transform to animation");var f=function(e){return e?Math.max(e,0):1},l;if(r.transform3d){l=o.getTransformStyleNameUnCamelCase();var c=s.extend(function p(t,n,r,i,s){if(!(this instanceof p)){var o=[];return n.curCount=0,e.each(r,function(e,r){n.curCount++,o.push(new p(t,n,e,i,r))}),o}this.type=s,this._super(t,n,r,i),this._originCss=l,this.name=i.indexOf("set")<0?e.util.camelCase(i,"set"):i},{cur:function(){var e=o.getTransform3dByName(this.ele,this.type,!0);return e||0},update:function(e,n){return e=e||o.getTransform3d(this.ele),n=n!=a?n:parseFloat(this.nowPos),n!=a&&!t.isNaN(n)&&(e[this.type]=n+this.unit,o[this.name](this.ele,e)),e},specialUnit:function(e,t,n){var r=this.update(this.name,t||1);return e*=(t||1)/this.cur(),this.update(this.name,e,r),e}});n.easyExtend(s.hooks,{setRotate3d:c,setScale:c,transform3d:c,setTranslate3d:c})}if(r.transform){l=o.getTransformStyleNameUnCamelCase();var h=s.extend(function d(t,n,r,i,s,o){if(!(this instanceof d)){var u=[];return n.curCount=0,e.each(r,function(e){for(var r=1,s=e.length;r<s;r++)n.curCount++,u.push(new d(t,n,e[r],i,e,r))}),u}this.type=s,this.index=o,this._originCss=l,this._super(t,n,r,i),this.name=i.indexOf("set")<0?e.util.camelCase(i,"set"):i},{cur:function(){var t=e.getTransform(this.ele,this.type[0])[0]||[];return t=parseFloat(t[this.index]),this.type[0]=="scale"&&(t=f(t)),t||0},update:function(n,r){n=n||e.getTransform(this.ele,this.type[0])[0]||[],r=r!=a?r:parseFloat(this.nowPos);if(r!=a&&!t.isNaN(r)){n[0]=this.type[0];for(var i=1,s=n[i],o=this.type.length;i<o;i++)n[i]=s||(this.type[0]!="scale"?0:1+this.unit);n[this.index]=r+this.unit,e.setTransformByCurrent(this.ele,[n])}return n},specialUnit:function(e,t,n){var r=this.update(this.name,t||1);return e*=(t||1)/this.cur(),this.update(r,e),e}});n.easyExtend(s.hooks,{transform:h})}}),define("hash/cubicBezier.tween",function(){return this.describe("CubicBezier parameter"),{"back.easeInOut":[.68,-0.55,.265,1.55],"circ.easeInOut":[.785,.135,.15,.86],"expo.easeInOut":[1,0,0,1],"sine.easeInOut":[.445,.05,.55,.95],"quint.easeInOut":[.86,0,.07,1],"quart.easeInOut":[.77,0,.175,1],"cubic.easeInOut":[.645,.045,.355,1],"quad.easeInOut":[.455,.03,.515,.955],"back.easeOut":[.175,.885,.32,1.275],"circ.easeOut":[.075,.82,.165,1],"expo.easeOut":[.19,1,.22,1],"sine.easeOut":[.39,.575,.565,1],"quint.easeOut":[.23,1,.32,1],"quart.easeOut":[.165,.84,.44,1],"cubic.easeOut":[.215,.61,.355,1],"quad.easeOut":[.25,.46,.45,.94],"back.easeIn":[.6,-0.28,.735,.045],"circ.easeIn":[.6,.04,.98,.335],"expo.easeIn":[.95,.05,.795,.035],"sine.easeIn":[.47,0,.745,.715],"quint.easeIn":[.755,.05,.855,.06],"quart.easeIn":[.895,.03,.685,.22],"cubic.easeIn":[.55,.055,.675,.19],"quad.easeIn":[.55,.085,.68,.53]}}),aQuery.define("html5/css3.transition.animate",["base/config","base/typed","base/support","base/extend","base/client","main/event","main/data","html5/css3","animation/FX","html5/animate.transform","hash/cubicBezier.tween"],function(e,t,n,r,i,s,o,u,a,f,l,c,h){"use strict";this.describe("Animation to HTML5 transition"),e.extend({getPositionAnimationOptionProxy:function(e,t,n){var i={};return e&&r.transform3d?(i.transform3d={},t!==h&&(i.transform3d.translateX=t+"px"),n!==h&&(i.transform3d.translateY=n+"px")):(t!==h&&(i.left=t+"px"),n!==h&&(i.top=n+"px")),i}});if(r.transition){var p=e._originComplete,d=function(){var e="";if(s.engine.ie)e="MS";else if(s.engine.webkit||s.system.mobile)e="webkit";else{if(s.engine.gecko)return"transitionend";s.engine.opera&&(e="o")}return e+"TransitionEnd"}(),v=function(t,r,s){var o={},l,c=s.easing,h,p=u.get(t,"_transitionList");p||(p={}),i.easyExtend(o,s),o._transitionEnd=function(e){var t,n=this,r,i=u.get(n,"_transitionList");for(t in i)a.removeTransition(n,t),r=i[t],delete i[t];n.removeEventListener(d,o._transitionEnd),setTimeout(function(){f.invokeCompelete(o.complete,n,o),n=o=null},0)};for(l in r){var v=e.util.unCamelCase(l);l!==v&&(r[v]=r[l],delete r[l],l=v),(l==="height"||l==="width")&&t.style&&(o.display=t.style.display,o.overflow=t.style.overflow,t.style.display="block")}o.overflow!=null&&(t.style.overflow="hidden");var m=!0;t.addEventListener(d,o._transitionEnd,!1),e.each(r,function(r,i){var s,u,l,d=[],v=o.duration/1e3,g=o.delay/1e3,y,b;h=o.specialEasing&&o.specialEasing[i]?e.getTransitionEasing(o.specialEasing[i]):c,o.easing=o.originEasing;if(n.isFunction(f.hooks[i])){s=f.hooks[i](t,o,r,i),l=s[0]._originCss,d.push(l,v+"s",h),o.delay&&d.push(g+"s"),a.addTransition(t,d.join(" ")),r=s[0].update(),b=new Date;for(u=0;u<s.length;u++)y=s[u],y.end!==y.from&&(m=!1,r=y.update(r,y.end),y.startTime=b);p[l]||(p[l]=[]),p[l]=p[l].concat(s)}else s=new f(t,o,r,i),t.style[e.util.camelCase(i)]!==s.end+s.unit&&(m=!1,d.push(i,v+"s",h),o.delay&&d.push(g+"s"),a.addTransition(t,d.join(" ")),t.style[e.util.camelCase(i)]=s.end+s.unit,s.startTime=new Date,p[i]=s)}),u.set(t,"_transitionList",p),m&&o._transitionEnd.call(t)},m={linear:1,ease:1,"ease-in":1,"ease-out":1,"ease-in-out":1,"cubic-bezier":1};e.extend({animateByTransition:function(t,r,i){return i=e._getAnimateByTransitionOpt(i),n.isEmptyObject(r)?i.complete(t):(i.queue===!1?v(t,r,i):e.queue(t,"fx",function(){v(t,r,i),e.dequeue(t,[t]),t=r=i=null}),this)},stopAnimationByTransition:function(t,r){var i=u.get(t,"_transitionList"),s,o,f,l;for(s in i){o=i[s];if(n.isArray(o))for(f=o.length-1;f>=0;f--)l=o[f],l.isInDelay()?l.update(null,o.from):l.step();else o.isInDelay()?o.update(o.from):o.step();delete i[s]}return a.removeTransition(t),r==0||e.dequeue(t),this},_getAnimateByTransitionOpt:function(t){t=t||{};var r=f.getDuration(t.duration),i=f.getDelay(t.delay),s;n.isArray(t.complete)?(s=t.complete,s[0]!==p&&s.splice(0,0,p)):n.isFunction(t.complete)?s=[t.complete,p]:s=[p];var o={delay:i,duration:r,easing:e.getTransitionEasing(t.easing),originEasing:e.getAnimationEasing(t.easing,t.para),complete:s,specialEasing:t.specialEasing,queue:t.queue===!1?!1:!0,para:t.para||[]};return o},getTransitionEasing:function(t){var r=t;if(t&&n.isString(t)){if(r.indexOf("cubic-bezier")>-1)return r;r=e.util.unCamelCase(r),r=r.replace(".","-");if(t=c[t])r="cubic-bezier";if(r=="cubic-bezier")return r+"("+t.join(",")+")";if(m[r])return r}return"linear"}}),e.fn.extend({animateByTransition:function(t,r){return r=e._getAnimateByTransitionOpt(r),n.isEmptyObject(t)?this.each(r.complete):this[r.queue===!1?"each":"queue"](function(e){v(e,t,r)})},stopAnimationByTransition:function(t){return this.each(function(n){e.stopAnimationByTransition(n,t)})}}),t.module.transitionToAnimation&&(r.transition?(e.animate=e.animateByTransition,e.stopAnimation=e.stopAnimationByTransition,e.animationPower="css3.transition",e._getAnimateOpt=e._getAnimateByTransitionOpt,e.fn.animate=e.fn.animateByTransition,e.fn.stopAnimation=e.fn.stopAnimationByTransition):e.logger("css3.transition.animate load","browser is not support transitionEnd"))}}),aQuery.define("animation/tween.extend",["base/extend","animation/tween"],function(e,t,n,r){"use strict";var i=Math;return t.easyExtend(n,{quad:{easeIn:function(e,t,n,r){return n*(e/=r)*e+t},easeOut:function(e,t,n,r){return-n*(e/=r)*(e-2)+t},easeInOut:function(e,t,n,r){return(e/=r/2)<1?n/2*e*e+t:-n/2*(--e*(e-2)-1)+t}},cubic:{easeIn:function(e,t,n,r){return n*(e/=r)*e*e+t},easeOut:function(e,t,n,r){return n*((e=e/r-1)*e*e+1)+t},easeInOut:function(e,t,n,r){return(e/=r/2)<1?n/2*e*e*e+t:n/2*((e-=2)*e*e+2)+t}},quart:{easeIn:function(e,t,n,r){return n*(e/=r)*e*e*e+t},easeOut:function(e,t,n,r){return-n*((e=e/r-1)*e*e*e-1)+t},easeInOut:function(e,t,n,r){return(e/=r/2)<1?n/2*e*e*e*e+t:-n/2*((e-=2)*e*e*e-2)+t}},quint:{easeIn:function(e,t,n,r){return n*(e/=r)*e*e*e*e+t},easeOut:function(e,t,n,r){return n*((e=e/r-1)*e*e*e*e+1)+t},easeInOut:function(e,t,n,r){return(e/=r/2)<1?n/2*e*e*e*e*e+t:n/2*((e-=2)*e*e*e*e+2)+t}},sine:{easeIn:function(e,t,n,r){return-n*i.cos(e/r*(i.PI/2))+n+t},easeOut:function(e,t,n,r){return n*i.sin(e/r*(i.PI/2))+t},easeInOut:function(e,t,n,r){return-n/2*(i.cos(i.PI*e/r)-1)+t}},expo:{easeIn:function(e,t,n,r){return e==0?t:n*i.pow(2,10*(e/r-1))+t},easeOut:function(e,t,n,r){return e==r?t+n:n*(-i.pow(2,-10*e/r)+1)+t},easeInOut:function(e,t,n,r){return e==0?t:e==r?t+n:(e/=r/2)<1?n/2*i.pow(2,10*(e-1))+t:n/2*(-i.pow(2,-10*--e)+2)+t}},circ:{easeIn:function(e,t,n,r){return-n*(i.sqrt(1-(e/=r)*e)-1)+t},easeOut:function(e,t,n,r){return n*i.sqrt(1-(e=e/r-1)*e)+t},easeInOut:function(e,t,n,r){return(e/=r/2)<1?-n/2*(i.sqrt(1-e*e)-1)+t:n/2*(i.sqrt(1-(e-=2)*e)+1)+t}},elastic:{easeIn:function(e,t,n,r,s,o){if(e==0)return t;if((e/=r)==1)return t+n;o||(o=r*.3);if(!s||s<i.abs(n)){s=n;var u=o/4}else var u=o/(2*i.PI)*i.asin(n/s);return-(s*i.pow(2,10*(e-=1))*i.sin((e*r-u)*2*i.PI/o))+t},easeOut:function(e,t,n,r,s,o){if(e==0)return t;if((e/=r)==1)return t+n;o||(o=r*.3);if(!s||s<i.abs(n)){s=n;var u=o/4}else var u=o/(2*i.PI)*i.asin(n/s);return s*i.pow(2,-10*e)*i.sin((e*r-u)*2*i.PI/o)+n+t},easeInOut:function(e,t,n,r,s,o){if(e==0)return t;if((e/=r/2)==2)return t+n;o||(o=r*.3*1.5);if(!s||s<i.abs(n)){s=n;var u=o/4}else var u=o/(2*i.PI)*i.asin(n/s);return e<1?-0.5*s*i.pow(2,10*(e-=1))*i.sin((e*r-u)*2*i.PI/o)+t:s*i.pow(2,-10*(e-=1))*i.sin((e*r-u)*2*i.PI/o)*.5+n+t}},back:{easeIn:function(e,t,n,i,s){return s==r&&(s=1.70158),n*(e/=i)*e*((s+1)*e-s)+t},easeOut:function(e,t,n,i,s){return s==r&&(s=1.70158),n*((e=e/i-1)*e*((s+1)*e+s)+1)+t},easeInOut:function(e,t,n,i,s){return s==r&&(s=1.70158),(e/=i/2)<1?n/2*e*e*(((s*=1.525)+1)*e-s)+t:n/2*((e-=2)*e*(((s*=1.525)+1)*e+s)+2)+t}},bounce:{easeIn:function(e,t,r,i){return r-n.Bounce.easeOut(i-e,0,r,i)+t},easeOut:function(e,t,n,r){return(e/=r)<1/2.75?n*7.5625*e*e+t:e<2/2.75?n*(7.5625*(e-=1.5/2.75)*e+.75)+t:e<2.5/2.75?n*(7.5625*(e-=2.25/2.75)*e+.9375)+t:n*(7.5625*(e-=2.625/2.75)*e+.984375)+t},easeInOut:function(e,t,r,i){return e<i/2?n.Bounce.easeIn(e*2,0,r,i)*.5+t:n.Bounce.easeOut(e*2-i,0,r,i)*.5+r*.5+t}}}),n}),define("hash/charcode",["base/client"],function(e){return{codeToStringReflect:{108:"Enter",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",8:"BackSpace",9:"Tab",12:"Clear",13:"enter",19:"Pause",20:"Caps Lock",27:"Escape",32:"space",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"Left",38:"Up",39:"Right",40:"Down",41:"Select",42:"Print",43:"Execute",45:"Insert",46:"Delete",91:"LeftCommand",93:"RightCommand",224:"Command"},stringToCodeReflect:{Enter:108,F1:112,F2:113,F3:114,F4:115,F5:116,F6:117,F7:118,F8:119,F9:120,F10:121,F11:122,F12:123,BackSpace:8,Tab:9,Clear:12,enter:13,Pause:19,"Caps Lock":20,Escape:27,space:32,PageUp:33,PageDown:34,End:35,Home:36,Left:37,Up:38,Right:39,Down:40,Select:41,Print:42,Execute:43,Insert:45,Delete:46,LeftCommand:e.browser.firefox?224:91,RightCommand:e.browser.firefox?224:93}}}),aQuery.define("module/Keyboard",["base/config","base/typed","base/extend","base/array","main/event","main/CustomEvent","main/object","hash/charcode"],function(e,t,n,r,i,s,o,u,a){"use strict";var f=o.extend("Keyboard",{constructor:f,init:function(e,t){this._super(),this.keyList=[],this.container=e,this.commandStatus=!1,this.container.getAttribute("tabindex")==undefined&&this.container.setAttribute("tabindex",f.tableindex++),this._initHandler().enable().addKeys(t)},_initHandler:function(){var e=this;return this.event=function(t){e.routing(this,t)},this},enable:function(){return s.on(this.container,"keydown keypress keyup",this.event),this},disable:function(){return s.off(this.container,"keydown keypress keyup",this.event),this},_push:function(e){return this.iterationKeyList(e)||this.keyList.push(e),this},addKey:function(i){var s=i.keyCode,o;if(n.isArray(s)){for(var u=0,a=s.length,l;u<a;u++)l={},r.easyExtend(l,i),l.keyCode=s[u],this.addKey(l);return this}return o=f.createOpt(i),this._push(o),t.amdquery.debug&&e.logger("keyboard.addKey","handlerName:",f.getHandlerName(o)),o.todo&&this.on(f.getHandlerName(o),o.todo),this},addKeys:function(e){if(!e)return this;var t=0,r;n.isArray(e)||(e=[e]);for(r=e.length;t<r;t++)this.addKey(e[t]);return this},changeKey:function(e,t){e=f.createOpt(e);var n;return(n=this.iterationKeyList(e))&&r.extend(n,t),this},removeKey:function(s){var o,u,a=s.keyCode;if(n.isArray(a)){for(var l=0,c=a.length,h;l<c;l++)r.easyExtend({},s),h=s,h.keyCode=a[l],this.removeKey(h);return this}u=f.createOpt(s);if(o=this.iterationKeyList(u))this.keyList.splice(i.inArray(this.keyList,o),1),t.amdquery.debug&&e.logger("keyboard.removeKey","handlerName:",f.getHandlerName(o)),this.clearHandlers(f.getHandlerName(o));return this},removeTodo:function(e){var t=f.createOpt(e);this.off(f.getHandlerName(t),e.todo)},iterationKeyList:function(n){for(var r=0,i=this.keyList,s=i.length,o,u,a=0;r<s;r++){u=n.keyCode||n.which,o=i[r],t.amdquery.debug&&e.logger("keyboard.iterationKeyList","type:code",n.type+":"+u);if(n.type==o.type&&u==o.keyCode&&f.checkCombinationKey(n,o.combinationKey))return o}return!1},routing:function(n,r){r=s.document.getEvent(r);var i;if(i=this.iterationKeyList(r)){var u=f.getHandlerName(i);t.amdquery.debug&&e.logger("keyboard.routing","handlerName",u),this.trigger(o.createEvent(u,n,{event:r,keyItem:i})),s.document.preventDefault(r),s.document.stopPropagation(r)}}},{codeToStringReflect:a.codeToStringReflect,stringToCodeReflect:a.stringToCodeReflect,createOpt:function(e){var t=e.keyCode;return e.combinationKey&&e.combinationKey.length&&(n.isString(t)&&(t=t.length>1?t:t.toUpperCase()),e.type=i.inArray(e.combinationKey,"cmd")>-1?"keydown":"keyup"),n.isString(t)&&(e.keyCode=f.stringToCode(t)),e},codeToChar:function(e){return n.isNumber(e)?String.fromCharCode(e):e},codeToString:function(e){return f.codeToStringReflect[e]||f.codeToChar(e)},charToCode:function(e){return n.isString(e)?e.charCodeAt(0):e},stringToCode:function(e){return f.stringToCodeReflect[e]||f.charToCode(e)},checkCombinationKey:function(e,t){var n=0,r=0,i=["ctrl","alt","shift"],s=t?t.length:0,o=0;if(e.combinationKey){if(e.combinationKey.length!=s)return 0;for(;n<s;n++)for(;r<s;r++)e.combinationKey[n]!=t[r]&&o++;if(s==o)return 1}else{for(var u=t?t.length:0;n<s;n++){if(t[n]==="cmd"){if(f.commandStatus!=1)return 0;o++;continue}e[i[n]+"Key"]==1&&o++;if(e[t[n]+"Key"]==0)return 0}if(o>u)return 0}return 1},getHandlerName:function(e){e=f.createOpt(e);var t=e.combinationKey?e.combinationKey.join("+")+"+":"";return e.type+":"+t+f.stringToCode(e.keyCode)},tableindex:9e3,cache:[],getInstance:function(e,t){var n,r=0,i=f.cache,s=i.length;for(;r<s;r++)i[r].container==e&&(n=i[r]);return n||(n=new f(e,t),f.cache.push(n)),n}});return s.on(document.documentElement,"keydown keypress keyup",function(e){var t=e.keyCode||e.which;if(t===a.stringToCodeReflect.LeftCommand||t===a.stringToCodeReflect.RightCommand||t===a.stringToCodeReflect.Command)switch(e.type){case"keydown":case"keypress":f.commandStatus=!0;break;case"keyup":f.commandStatus=!1}}),f}),aQuery.define("module/math",["base/extend"],function(e,t,n){"use strict";var r=Math,i=r.PI,s=function(e,t,n){this.init(e,t,n)},o={0:3,1:4,2:5,3:6,4:7,5:8,6:9,7:10,8:11,9:12,10:1,11:2},u={acceleration:function(e,t){return(e+e)/(t*t)},angle:function(e,t,n,i){return r.atan2(i-t,n-e)},degreeToRadian:function(e){return i*e/180},direction:function(t,n){var r=9;n=e.between(0,15,n||15),0-n<t&&t<=s+n;for(var i=0,s;i<=11;i++){i<6?s=i*30:i>=6&&(s=i%6*30-180);if(s-n<t&&t<=s+n){r=o[i];break}}return r},distance:function(e,t,n,i){return r.sqrt(r.pow(e-n,2)+r.pow(t-i,2))},martrix:s,radianToDegree:function(e){return e*180/i},speed:function(e,t){return e/t}};return t.easyExtend(s,{addition:function(e,t){var n=e.length,r=e[0].length,i=s.init(e.length,e[0].length),o=arguments[2]?-1:1,u,a;if(typeof t=="number")for(u=0;u<n;u++)for(a=0;a<r;a++)i[u][a]=e[u][a]+t*o;else{if(n!=t.length||r!=t[0].length)return;for(u=0;u<n;u++)for(a=0;a<r;a++)i[u][a]+=t[u][a]*o}return i},init:function(e,t,n){var r=[];if(!e||!t)r=[[1,0,0,0],[0,1,0,0],[0,0,1,0],[0,0,0,1]];else{if(n&&e*t!=n.length)return r;for(var i=0,s=0,o=0;i<e;i++){r.push([]);for(s=0;s<t;s++)r[i][s]=n?n[o++]:0}}return r},multiply:function(e,t){var n=e.length,r=e[0].length,i,o,a,f;if(typeof t=="number"){i=s.init(n,r);for(o=0;o<n;o++)for(a=0;a<r;a++)i[o][a]=e[o][a]*t}else{var l=t.length,c=t[0].length,h=0;i=u.martrix.init(n,c);if(r!=l)return;for(o=0;o<c;o++)for(a=0;a<n;a++){h=0;for(f=0;f<r;f++)h+=e[a][f]*t[f][o];i[a][o]=h}}return i},subtraction:function(e,t){return u.martrix.addition(e,t,!0)}}),s.prototype={addition:function(e){return new s(s.addition(this.martrix,e.martrix||e))},constructor:s,init:function(e,t,n){return e instanceof Array?this.martrix=e:this.martrix=s.init(e,t,n),this},multiply:function(e){return new s(s.multiply(this.martrix,e.martrix||e))},subtraction:function(e){return new s(s.subtraction(this.martrix,e.martrix||e))}},u}),aQuery.define("html5/css3.position",["base/support","main/position","html5/css3"],function(e,t,n,r){"use strict";this.describe("Get positionX:left + translateX");var i={getPositionX:function(e){var i=n.getOffsetL(e);return t.transform3d&&(i+=r.getTransform3dByName(e,"translateX",!0)),i},setPositionX:function(e,i,s){return i&&t.transform3d?r.setTranslate3d(e,{tx:s}):n.setOffsetL(e,s),this},getPositionY:function(e){var i=n.getOffsetT(e);return t.transform3d&&(i+=r.getTransform3dByName(e,"translateY",!0)),i},setPositionY:function(e,i,s){return i&&t.transform3d?r.setTranslate3d(e,{ty:s}):n.setOffsetT(e,s),this},getPositionXY:function(e){return{x:this.getPositionX(e),y:this.getPositionY(e)}},setPositionXY:function(e,i,s){if(i&&t.transform3d){var o={};s.x!==undefined&&(o.tx=s.x),s.y!==undefined&&(o.ty=s.y),r.setTranslate3d(e,o)}else s.x!==undefined&&n.setOffsetL(e,s.x),s.y!==undefined&&n.setOffsetT(e,s.y);return this},getLeftWithTranslate3d:function(e){var t=this.getPositionX(e)||0,n=e.offsetParent;while(n!=null)t+=this.getPositionX(n),n=n.offsetParent;return t},getTopWithTranslate3d:function(e){var t=this.getPositionY(e)||0,n=e.offsetParent;while(n!=null)t+=this.getPositionY(n),n=n.offsetParent;return t}};e.extend(i),e.fn.extend({getPositionX:function(){return i.getPositionX(this[0])},setPositionX:function(e,t){return this.each(function(n){i.setPositionX(n,e,t)})},getPositionY:function(){return i.getPositionY(this[0])},setPositionY:function(e,t){return this.each(function(n){i.setPositionY(n,e,t)})},getPositionXY:function(){return{x:i.getPositionX(this[0]),y:i.getPositionY(this[0])}},setPositionXY:function(e,t){return this.each(function(n){i.setPositionXY(n,e,t)})},getLeftWithTranslate3d:function(){return i.getLeftWithTranslate3d(this[0])},getTopWithTranslate3d:function(){return i.getTopWithTranslate3d(this[0])}})}),aQuery.define("ui/swappable",["base/typed","base/client","main/event","module/math","module/Widget","html5/css3.position"],function(e,t,n,r,i,s,o,u){"use strict";var a=s.extend("ui.swappable",{container:null,create:function(){return this},enable:function(){var t=this.swappableEvent;return this.disable(),this.target.on("mousemove",t).on("mousedown",t),e(document).on("mouseup",t),this.options.disabled=!1,this},disable:function(){var t=this.swappableEvent;return this.target.off("mousemove",t).off("mousedown",t),e(document).off("mouseup",t),this.options.disabled=!0,this},computeSwapType:function(e){var t=this.path,n;return n},getPara:function(e,t,n,r,s,o,u){var a=new Date-t;return e.distance=Math.round(i.distance(r,s,o,u)),e.speed=Math.round(i.speed(e.distance,a)*1e3),e.angle=Math.round(i.radianToDegree(i.angle(r,s,o,u))*10)/10,e.direction=i.direction(e.angle,n),e.acceleration=i.acceleration(e.distance,a),e.duration=a,this.path.length<5&&this.path.length>2&&(e.currentAngle=e.angle,e.currentDirection=e.direction),e},getPath:function(e){return e===u?this.path:(e*=2,[this.path[e],this.path[e+1]])},getPathLast:function(){return this.getPath(this.path.length/2-1)},isInPath:function(e,t){for(var n=this.path,r=this.path.length-1;r>=0;r-=2)if(n[r]===e&&n[r+1]===t)return r;return-1},init:function(e,t){return this._super(e,t),this.path=[],this.isDown=!1,this.startY=null,this.startX=null,this._initHandler().enable().render()},customEventName:["start","move","pause","stop","none","mousemove"],options:{cursor:"pointer",directionRange:15,pauseSensitivity:500},publics:{isInPath:s.AllowReturn,getPath:s.AllowReturn,getPathLast:s.AllowReturn},_initHandler:function(){var e=this,t=e.target,i=e.options,s,o,a;return this.swappableEvent=function(f){var l=t.getLeftWithTranslate3d(),c=t.getTopWithTranslate3d(),h,p=(f.pageX||f.clientX)-l,d=(f.pageY||f.clientY)-c,v;e.isDown||f.type=="mousedown"||f.type=="touchstart"?v={type:e.getEventName("start"),offsetX:p,offsetY:d,event:f,speed:0,target:t[0],startX:e.startX,startY:e.startY,path:e.path,swapType:u,angle:u,direction:u,distance:u,duration:u,currentAngle:u,currentDirection:u}:v={offsetX:p,offsetY:d,event:f,target:t[0],startX:e.startX,startY:e.startY};switch(f.type){case"mousedown":n.system.mobile||r.document.preventDefault(f);case"touchstart":e.isDown||(e.isDown=!0,v.startX=e.startX=p,v.startY=e.startY=d,s=new Date,e.path=[],e.path.push(p,d),a=null,t.trigger(v.type,t[0],v));break;case"mousemove":if(f.which===0||n.browser.ie678&&f.button!=1||e.isDown===!1){e.isDown=!1,v.type=e.getEventName("mousemove"),t.trigger(v.type,t[0],v);break};case"touchmove":if(e.isDown){h=e.getPathLast();if(h[0]===p&&h[1]===d)break;e.path.push(p,d),e.getPara(v,s,i.directionRange,e.startX,e.startY,p,d),v.type=e.getEventName("move"),t.trigger(v.type,t[0],v),clearTimeout(o),o=setTimeout(function(){v.type=e.getEventName("pause"),v.swapType=e.computeSwapType(),t.trigger(v.type,t[0],v)},i.pauseSensitivity),a=f}break;case"touchend":a&&e.isDown&&(v.offsetX=p=(a.pageX||a.clientX)-t.getLeft(),v.offsetY=d=(a.pageY||a.clientY)-t.getTop());case"mouseup":if(e.isDown){e.isDown=!1;if(!a&&!n.browser.ie678){t.trigger(e.getEventName("none"),t[0],{type:e.getEventName("none")});break}clearTimeout(o),e.getPara(v,s,i.directionRange,e.startX,e.startY,p,d),v.type=e.getEventName("stop"),v.swapType=e.computeSwapType(),t.trigger(v.type,t[0],v),e.startX=u,e.startY=u}}},this},render:function(){var e=this.options;return this.target.css({cursor:e.cursor}),this},target:null,toString:function(){return"ui.swappable"},widgetEventPrefix:"swap"});return a}),aQuery.define("ui/draggable",["base/config","base/support","module/Widget","main/event","main/css","main/position","main/dom","main/query","animation/FX","animation/animate","animation/tween.extend","html5/animate.transform","html5/css3.transition.animate","html5/css3","html5/css3.position"],function(e,t,n,r,i,s,o,u,a,f,l,c,h,p,d,v,m){"use strict";var g=!!t.ui.isTransform3d&&n.transform3d,y,b,w;g?y=function(){return this.container.initTransform3d(),this.options.container?this.positionParent=this.container:this.positionParent=this.target.parent(),this}:y=function(){var t;return this.target.parents().each(function(e){switch(s.style(e,"position")){case"absolute":case"relative":return t=e,!1}}),t||(t=document.body,s.css(t,"position","relative")),this.positionParent=e(t),this};var E=i.document,S=r.extend("ui.draggable",{container:null,create:function(){return this.container.css("overflow","hidden"),this.target.css("position","absolute"),this._initHandler(),this.initPositionParent(),this._setOverflow(),this.enable(),this},customEventName:["start","move","stop","pause","revert"],enable:function(){var t=this.draggableEvent;return this.disable(),e("body").on("mouseup",t),this.container.on("mousemove mouseup",t),this.target.on("mousedown",t),this.options.disabled=!1,this},disable:function(){var t=this.draggableEvent;return e("body").off("mouseup",t),this.container.off("mousemove mouseup",t),this.target.off("mousedown",t),this.options.disabled=!0,this},init:function(t,n){return this._super(t,n),this.container=e(this.options.container||document.body),this.create().render()},initPositionParent:y,_setOverflow:function(e){e!==m&&(this.options.overflow=e),this.positionParent&&(this.options.overflow===!0||this.options.overflow===1?this.positionParent.css({overflow:"hidden"}):this.positionParent.css("overflow",""))},_setContainer:function(e){this.options.container===null&&(this.options.container=e)},options:{container:null,x:0,y:0,originX:0,originY:0,diffx:0,diffy:0,vertical:!0,horizontal:!0,cursor:"default",overflow:!1,keepinner:!0,innerWidth:0,innerHeight:0,outerWidth:0,outerHeight:0,isEase:!1,stopPropagation:!0,pauseSensitivity:500,revert:!1,revertDuration:f.normal,revertEasing:c.expo.easeOut},setter:{x:0,y:0,originX:0,originY:0,diffx:0,diffy:0,cursor:0},publics:{getPositionX:r.AllowReturn,getPositionY:r.AllowReturn,render:r.AllowPublic,animateTo:r.AllowPublic},getPositionX:function(){return this.target.getLeftWithTranslate3d()},getPositionY:function(){return this.target.getTopWithTranslate3d()},_initHandler:function(){var e=this,t=e.target,n=e.options,r,i=null,s=null,o=null;this.draggableEvent=function(u){var a,f,l,c,h={};if(u.type!=="mousemove"||o)a=e.getPositionX(),f=e.getPositionY(),l=u.pageX||u.clientX,c=u.pageY||u.clientY,h={type:e.getEventName("start"),container:e.container,clientX:l,clientY:c,offsetX:u.offsetX||u.layerX||l-a,offsetY:u.offsetY||u.layerY||c-f,originX:null,originY:null,event:u,target:t[0]};switch(u.type){case"touchstart":case"mousedown":o=t,n.diffx=l-a,n.diffy=c-f,i=e.positionParent.getLeftWithTranslate3d(),s=e.positionParent.getTopWithTranslate3d(),h.originX=n.originX=l-n.diffx-i,h.originY=n.originY=c-n.diffy-s,n.disabled?n.cursor="default":n.vertical&&n.horizontal?n.cursor="move":n.horizontal?n.cursor="e-resize":n.vertical&&(n.cursor="n-resize"),e.target.css({cursor:n.cursor}),E.preventDefault(u),n.stopPropagation&&E.stopPropagation(u),t.trigger(h.type,t[0],h);break;case"touchmove":case"mousemove":o!==null&&(l-=n.diffx+i,c-=n.diffy+s,e.render(l,c,i,s),E.preventDefault(u),h.type=e.getEventName("move"),h.offsetX=n.x,h.offsetY=n.y,h.originX=n.originX,h.originY=n.originY,t.trigger(h.type,t[0],h),clearTimeout(r),r=setTimeout(function(){h.type=e.getEventName("pause"),t.trigger(h.type,t[0],h)},n.pauseSensitivity));break;case"touchend":case"mouseup":clearTimeout(r),E.preventDefault(u),n.stopPropagation&&E.stopPropagation(u),h.type=e.getEventName("stop"),h.offsetX=n.x,h.offsetY=n.y,h.originX=n.originX,h.originY=n.originY,o=null,e.target.css({cursor:"pointer"}),t.trigger(h.type,t[0],h),n.revert&&e.animateTo(n.originX,n.originY,n.revertDuration,n.revertEasing,function(){h.type="revert",t.trigger(h.type,t[0],h)})}}},animateTo:function(t,n,r,i,s){this.target.animate(e.getPositionAnimationOptionProxy(g,t,n),{duration:r,easing:i,complete:s})},_render:function(e,t){var n={},r=this.options;r.horizontal&&(n.x=e),r.vertical&&(n.y=t),this.target.setPositionXY(g,n)},render:function(t,n,r,i){if(!arguments.length)return;var s=this.options,o=this.container;r=r||this.positionParent.getLeftWithTranslate3d(),i=i||this.positionParent.getTopWithTranslate3d();if(s.keepinner&&o[0]){var u=o.getLeftWithTranslate3d()-r,a=o.getTopWithTranslate3d()-i,f=o.width()-this.target.width(),l=o.height()-this.target.height(),c=f>0?s.outerWidth:s.innerWidth,h=l>0?s.outerHeight:s.innerHeight;t=e.among(u+c,f+u-c,t),n=e.among(a+h,l+a-h,n)}return s.x=t,s.y=n,this._render(t,n)},target:null,toString:function(){return"ui.draggable"},widgetEventPrefix:"drag"});return S}),aQuery.define("ui/keyboard",["main/object","module/Widget","module/Keyboard"],function(e,t,n,r,i){"use strict";var s=n.AllowPublic,o=n.extend("ui.keyboard",{container:null,customEventName:[],event:function(){},enable:function(){return this.disable(),this.keyboard.enable(),this.options.disabled=!1,this},disable:function(){return this.keyboard.disable(),this.options.disabled=!0,this},init:function(e,t){return this._super(e,t),this.keyboard=new r(t[0],this.options.keyList),this.options.keyList=this.keyboard.keyList,this.enable(),this},options:{keyList:[]},_setKeyList:function(e){this.addKeys(e),this.options.keyList=this.keyboard.keyList},publics:{addKey:s,addKeys:s,changeKey:s,removeKey:s,removeTodo:s},addKey:function(e){return this.keyboard.addKey(e),this.options.keyList=this.keyboard.keyList,this},addKeys:function(e){return this.keyboard.addKeys(e),this.options.keyList=this.keyboard.keyList,this},changeKey:function(e,t){return this.keyboard.changeKey(e,t),this.options.keyList=this.keyboard.keyList,this},removeKey:function(e){return this.keyboard.removeKey(e),this.options.keyList=this.keyboard.keyList,this},removeTodo:function(e){return this.keyboard.removeTodo(e),this.options.keyList=this.keyboard.keyList,this},target:null,toString:function(){return"ui.keyboard"},widgetEventPrefix:"keyboard"});return e.keyboard=function(e){return new r(document.documentElement,e)},o}),aQuery.define("ui/scrollableview",["base/config","base/client","base/support","base/typed","main/query","main/css","main/CustomEvent","main/event","main/position","main/dom","main/class","html5/css3","html5/animate.transform","html5/css3.transition.animate","module/Widget","animation/FX","animation/animate","animation/tween.extend","module/Keyboard","ui/swappable","ui/draggable","ui/keyboard"],function(e,t,n,r,i,s,o,u,a,f,l,c,h,p,d,v,m,g,y,b,w,E,S,x){"use strict";v.fetchCSS("ui/css/scrollableview");var T=!!t.ui.isTransform3d&&r.transform3d,N="V",C="H",k=v.extend("ui.scrollableview",{container:null,_keyList:["Up","Down","Left","Right","Home","End","PageUp","PageDown"],_combintionKeyList:["Up","Right","Down","Left"],create:function(){var t=this.options;return this.positionParent=e({overflow:"visible"},"div").width(this.target.width()).height(this.target.height()).append(this.target.children()),this.container=e({position:"absolute"},"div").append(this.positionParent).appendTo(this.target),this.target.uiSwappable(),this.target.find("a[float=false]").css({position:"absolute",zIndex:1e3}).appendTo(this.target),this.statusBarX=e({height:"10px",display:"none",position:"absolute",bottom:"0px"},"div").addClass("aquery-scrollableViewStatusBar").appendTo(this.target),this.statusBarY=e({width:"10px",display:"none",position:"absolute",right:"0px"},"div").addClass("aquery-scrollableViewStatusBar").appendTo(this.target),t.enableKeyboard&&this.target.uiKeyboard(),this.container.uiDraggable({keepinner:1,innerWidth:t.boundary,innerHeight:t.boundary,stopPropagation:!1,vertical:this._isAllowedDirection(N),horizontal:this._isAllowedDirection(C),container:this.target,overflow:!0}),this.detect(),T&&this.container.initTransform3d(),this},enable:function(){var e=this.scrollableviewEvent,t=this.options;return this.container.on("DomNodeInserted DomNodeRemoved drag.pause drag.move drag.start drag.stop",e),this.container.uiDraggable("enable"),this.target.on("swap.move swap.stop swap.pause widget.detect",e).touchwheel(e),this.target.uiSwappable("enable"),this.target.delegate("a[href^=#]","click",e),t.enableKeyboard&&(this.target.uiKeyboard("addKey",{type:"keyup",keyCode:this._combintionKeyList,combinationKey:t.combinationKey.split(/;|,/),todo:e}).uiKeyboard("addKey",{type:"keydown",keyCode:this._keyList,todo:e}),this.target.uiKeyboard("enable")),t.disabled=!1,this},disable:function(){var e=this.scrollableviewEvent,t=this.options;return this.container.off("DomNodeInserted DomNodeRemoved drag.pause drag.move drag.start drap.stop",e),this.container.uiDraggable("disable"),this.target.off("swap.move swap.stop swap.pause widget.detect",e).off("touchwheel",e),this.target.uiSwappable("disable"),this.target.off("click",e),t.enableKeyboard&&(this.target.uiKeyboard("removeKey",{type:"keyup",keyCode:this._combintionKeyList,combinationKey:t.combinationKey.split(/;|,/),todo:e}).uiKeyboard("removedKey",{type:"keydown",keyCode:this._keyList,todo:e}),this.target.uiKeyboard("disable")),t.disabled=!0,this},_initHandler:function(){var t=this,n=t.target,r=t.options,i=function(){t._fireMoved(),t.toHBoundary(t.getLeft()).toVBoundary(t.getTop()).hideStatusBar()},s=function(e,n){clearTimeout(t.keyTimeId),t.keyTimeId=setTimeout(i,500),t.render(e,n,!0,0),t.showStatusBar()},o=function(e,n,r){t.showStatusBar(),t.container.stopAnimation(!0),r.stopAnimation(!0),t[e](n,m.normal)},u={type:"keyup",keyCode:"Up",combinationKey:r.combinationKey.split(/;|,/)},f={type:"keydown",keyCode:"Up"},l,c={};for(l=this._combintionKeyList.length-1;l>=0;l--)u.keyCode=this._combintionKeyList[l],c["Combination"+u.keyCode]=b.getHandlerName(u);for(l=this._keyList.length-1;l>=0;l--)f.keyCode=this._keyList[l],c[f.keyCode]=b.getHandlerName(f);return this.scrollableviewEvent=function(u){switch(u.type){case v.detectEventName:t.detect();break;case"drag.move":var f=t.checkXBoundary(u.offsetX,r.boundary),l=t.checkYBoundary(u.offsetY,r.boundary);t.renderStatusBar(t.checkXStatusBar(f),t.checkYStatusBar(l)),t.showStatusBar();break;case"drag.pause":var h=t.getLeft(),p=t.getTop(),d=r.pullDistance;h>d?(u.type=t.getEventName("pullleft"),n.trigger(u.type,t.target[0],u)):h<-t.overflowWidth-d&&(u.type=t.getEventName("pullright"),n.trigger(u.type,t.target[0],u)),p>d?(u.type=t.getEventName("pulldown"),n.trigger(u.type,t.target[0],u)):p<-t.overflowHeight-d&&(u.type=t.getEventName("pullup"),n.trigger(u.type,t.target[0],u));break;case"drag.start":r.enableKeyboard&&n[0].focus(),t.stopAnimation(),t.detect();break;case"drag.stop":t._fireMoved();break;case"DomNodeInserted":case"DomNodeRemoved":t.detect().toVBoundary(t.getTop()).toHBoundary(t.getLeft());break;case"swap.move":t.showStatusBar();break;case"swap.stop":t.animate(u);break;case"swap.pause":t.pause(u);break;case"mousewheel":case"DOMMouseScroll":f=null,l=null,clearTimeout(t.wheelTimeId),t.layout(),u.direction=="x"?f=u.delta*r.mouseWheelAccuracy:u.direction=="y"&&(l=u.delta*r.mouseWheelAccuracy),t.showStatusBar(),t.wheelTimeId=setTimeout(i,500),t.render(f,l,!0,r.boundary);break;case"click":a.document.preventDefault(u),a.document.stopPropagation(u),t.layout();var m=e(this),g=(m.attr("href")||"").replace(window.location.href,"").replace("#",""),y=t.getAnimationToElementById(g);y=y.length?y:t.getAnimationToElementByName(g);var b=t.getEventName("aclick");t.target.trigger(b,t.target[0],{type:b,toElement:y[0]}),r.autoToElement&&t.animateToElement(y);break;case c.CombinationLeft:o("animateX",0,t.statusBarX);break;case c.CombinationUp:o("animateY",0,t.statusBarY);break;case c.CombinationRight:o("animateX",-t.scrollWidth+t.viewportWidth,t.statusBarX);break;case c.CombinationDown:o("animateY",-t.scrollHeight+t.viewportHeight,t.statusBarY);break;case c.Up:s(0,r.keyVerticalDistance);break;case c.Down:s(0,-r.keyVerticalDistance);break;case c.Left:s(r.keyHorizontalDistance,0);break;case c.Right:s(-r.keyHorizontalDistance,0);break;case c.PageUp:o("animateY",Math.min(r.boundary,t.getTop()+t.viewportHeight),t.statusBarY);break;case c.PageDown:o("animateY",Math.max(-t.scrollHeight+t.viewportHeight-r.boundary,t.getTop()-t.viewportHeight),t.statusBarY);break;case c.Home:o("animateY",0,t.statusBarY);break;case c.End:o("animateY",-t.scrollHeight+t.viewportHeight,t.statusBarY)}},this},_fireMoved:function(){var e="scrollableview.moved",t=this.getContainerPosition();this.target.trigger(e,this.target[0],{type:e,x:t.x,y:t.y})},getAnimationToElementByName:function(e){return this.target.find("[name="+(e||"__undefined")+"]")},getAnimationToElementById:function(e){return this.target.find("#"+e)},animateToElement:function(t,n){var r=e(t);if(r.length===1&&s.contains(this.target[0],r[0])){var o=r.getTopWithTranslate3d()-this.target.getTopWithTranslate3d(),a=r.getLeftWithTranslate3d()-this.target.getLeftWithTranslate3d(),f=this,l=function(e){n&&n.apply(this,arguments),f.target.trigger(u.createEvent(f.getEventName("animateToElement"),f.target[0],{toElement:i.is$(t)?t[0]:t,overflow:e}))};this._isAllowedDirection(N)&&this.animateY(Math.max(-o+this.viewportHeight>0?0:-o,-this.scrollHeight+this.viewportHeight),m.normal,l),this._isAllowedDirection(C)&&this.animateX(Math.max(-a+this.viewportHeight>0?0:-a,-this.scrollWidth+this.viewportWidth),m.normal,l)}},toTop:function(e){this.animateY(0,m.normal,e)},toBottom:function(){this.animateY(-this.scrollHeight+this.viewportHeight,m.normal,callback)},toLeft:function(){this.animateX(0,m.normal,callback)},toRight:function(){this.animateX(-this.scrollWidth+this.viewportWidth,m.normal,callback)},destroy:function(){this.target.destroyUiSwappable(),this.container.destroyUiDraggable(),this.target.children().remove(),this.positionParent.children().appendTo(this.target),v.invoke("destroy",this)},init:function(e,t){this._super(e,t),this._direction=null,this.wheelTimeId=null,this.keyTimeId=null,this.originOverflow=this.target.css("overflow"),this.target.css({overflow:"hidden","overflow-x":"hidden","overflow-y":"hidden"});var n=this.target.css("position");n!="relative"&&n!="absolute"&&this.target.css("position","relative");var r=this;return this.options.firstToElement&&setTimeout(function(){r.animateToElement(r.options.firstToElement)},0),this.create()._initHandler().enable().render(0,0),this.options.focus&&setTimeout(function(){try{r.layout(),r.target[0].focus()}catch(e){}},0),this},customEventName:["pulldown","pullup","pullleft","pullright","animationEnd","animateToElement","moved","aclick"],options:{overflow:"HV",animateDuration:600,boundary:150,boundaryDruation:300,mouseWheelAccuracy:.3,pullDistance:50,enableKeyboard:!1,combinationKey:n.system.mac?"cmd":"ctrl",firstToElement:"",autoToElement:!0,keyVerticalDistance:40,keyHorizontalDistance:40,focus:!1},setter:{enableKeyboard:v.initFirst,combinationKey:v.initFirst,firstToElement:v.initFirst},publics:{showStatusBar:v.AllowPublic,hideStatusBar:v.AllowPublic,render:v.AllowPublic,getAnimationToElementByName:v.AllowReturn,getAnimationToElementById:v.AllowReturn,animateToElement:v.AllowPublic,toH:v.AllowPublic,toV:v.AllowPublic,toTop:v.AllowPublic,toBottom:v.AllowPublic,toLeft:v.AllowPublic,toRight:v.AllowPublic,append:v.AllowPublic,remove:v.AllowPublic,replace:v.AllowPublic,animateX:v.AllowPublic,animateY:v.AllowPublic},render:function(e,t,n,r){if(!arguments.length)return;var i,s=0,o=0,u,a;return r=r==null?this.options.boundary:r,n&&(i=this.getContainerPosition(),s=i.x,o=i.y),e!==null&&this._isAllowedDirection(C)&&(e=this.checkXBoundary(s+e,r),u=this.checkXStatusBar(e)),t!==null&&this._isAllowedDirection(N)&&(t=this.checkYBoundary(o+t,r),a=this.checkYStatusBar(t)),this._render(e,u,t,a)},_render:function(e,t,n,r){var i={};return e!==null&&this._isAllowedDirection(C)&&(i.x=parseInt(e,0),this.statusBarX.setPositionX(T,parseInt(t,0))),n!==null&&this._isAllowedDirection(N)&&(i.y=parseInt(n,0),this.statusBarY.setPositionY(T,parseInt(r,0))),this.container.setPositionXY(T,i),this},renderStatusBar:function(e,t){return this._isAllowedDirection(C)&&this.statusBarX.setPositionX(T,parseInt(e,0)),this._isAllowedDirection(N)&&this.statusBarY.setPositionY(T,parseInt(t,0)),this},getContainerPosition:function(){return{x:this.getLeft(),y:this.getTop()}},target:null,toString:function(){return"ui.scrollableview"},widgetEventPrefix:"scrollableview",append:function(e){this.positionParent.append(e),this.detect()},remove:function(t){s.contains(this.positionParent[0],t)&&(e(t).remove(),this.detect())},detect:function(){return this.layout().resize(),this},replace:function(t,n){s.contains(this.positionParent[0],t)&&(e(t).replaceWith(n),this.detect())},refreshStatusBar:function(){var e=this.viewportWidth,t=this.scrollWidth,n=this.viewportHeight,r=this.scrollHeight,i=0,s=0;return t!=e?(this.statusBarXVisible=1,i=e*e/t):i=this.statusBarXVisible=0,r!=n?(this.statusBarYVisible=1,s=n*n/r):s=this.statusBarYVisible=0,this.statusBarX.width(i),this.statusBarY.height(s),this},resize:function(){return this.container.width(this.scrollWidth),this.container.height(this.scrollHeight),this},layout:function(){var e=this.viewportHeight,t=this.viewportWidth;return this.viewportWidth=this.target.width(),this.viewportHeight=this.target.height(),t!==this.originViewportWidth&&this.positionParent.width(this.viewportWidth),e!==this.viewportHeight&&this.positionParent.height(this.viewportHeight),this.scrollWidth=n.browser.ie678?Math.max(this.positionParent.scrollWidth(),this.container.scrollWidth()):this.positionParent.scrollWidth(),this.scrollHeight=n.browser.ie678?Math.max(this.positionParent.scrollHeight(),this.container.scrollHeight()):this.positionParent.scrollHeight(),this.overflowWidth=this.scrollWidth-this.viewportWidth,this.overflowHeight=this.scrollHeight-this.viewportHeight,this.refreshStatusBar()},_isAllowedDirection:function(e){return this.options.overflow.indexOf(e)>-1},getTop:function(){return this.container.getPositionY()},getLeft:function(){return this.container.getPositionX()},pause:function(){return this},stopAnimation:function(){this.container.stopAnimation(!0),this.statusBarX.stopAnimation(!0),this.statusBarY.stopAnimation(!0),this.toVBoundary(this.getTop()).toHBoundary(this.getLeft())},animate:function(e){var t=this.options,n=e.acceleration,r=t.animateDuration-e.duration,i=Math.round(n*r*r*.5);this._direction=e.direction;if(r<=0)return this.toVBoundary(this.getTop()).toHBoundary(this.getLeft()),this.hideStatusBar();switch(e.direction){case 3:this.toH(-i,r);break;case 9:this.toH(i,r);break;case 6:this.toV(-i,r);break;case 12:this.toV(i,r);break;default:this.toHBoundary(this.getTop()).toVBoundary(this.getLeft())}return this},checkXBoundary:function(t,n){return n=n!==x?n:this.options.boundary,e.between(-(this.overflowWidth+n),n,t)},checkYBoundary:function(t,n){return n=n!==x?n:this.options.boundary,e.between(-(this.overflowHeight+n),n,t)},checkXStatusBar:function(t){var n=-t/this.scrollWidth*this.viewportWidth;return e.between(0,this.viewportWidth-this.statusBarX.width(),n)},checkYStatusBar:function(t){var n=-t/this.scrollHeight*this.viewportHeight;return e.between(0,this.viewportHeight-this.statusBarY.height(),n)},showStatusBar:function(){return this.statusBarXVisible&&this._isAllowedDirection(C)&&this.statusBarX.show(),this.statusBarYVisible&&this._isAllowedDirection(N)&&this.statusBarY.show(),this},hideStatusBar:function(){return this.statusBarX.hide(),this.statusBarY.hide(),this},outerXBoundary:function(e){return e>0?0:e<-this.overflowWidth?-this.overflowWidth:null},outerYBoundary:function(e){return e>0?0:e<-this.overflowHeight?-this.overflowHeight:null},_triggerAnimate:function(e,t,n,r){this.target.trigger(this.getEventName("animationEnd"),this.target[0],{scene:e,direction:t,duration:n,distance:r})},toHBoundary:function(t){var n=this.outerXBoundary(t),r=this;return n!==null?this.container.animate(e.getPositionAnimationOptionProxy(T,n),{duration:this.options.boundaryDruation,easing:"expo.easeOut",queue:!1,complete:function(){r.hideStatusBar(),r._triggerAnimate("boundary",r._direction,r.options.boundaryDruation,n),r._fireMoved()}}):this.statusBarX.hide(),this},toVBoundary:function(t){var n=this.outerYBoundary(t),r=this;return n!==null?this.container.animate(e.getPositionAnimationOptionProxy(T,x,n),{duration:this.options.boundaryDruation,easing:"expo.easeOut",queue:!1,complete:function(){r.hideStatusBar(),r._triggerAnimate("boundary",r._direction,r.options.boundaryDruation,n),r._fireMoved()}}):this.statusBarY.hide(),this},toH:function(e,t,n,r){return this._isAllowedDirection(C)?this.animateX(this.checkXBoundary(this.getLeft()-e),t,n,r):this},toV:function(e,t,n,r){return this._isAllowedDirection(N)?this.animateY(this.checkYBoundary(this.getTop()-e),t,n,r):this},animateY:function(t,n,r){var s=e.getPositionAnimationOptionProxy(T,x,t),o=this,u=this.checkYStatusBar(parseFloat(s.top));return this.container.animate(s,{duration:n,easing:"easeOut",complete:function(){o._fireMoved(),o.toHBoundary(o.getLeft()).toVBoundary(t),o._triggerAnimate("inner",o._direction,n,t),i.isFunction(r)&&r.call(o.target,N)}}),this.statusBarY.animate(e.getPositionAnimationOptionProxy(T,x,u),{duration:n,easing:"easeOut"}),this},animateX:function(t,n,r){var s=e.getPositionAnimationOptionProxy(T,t),o=this,u=this.checkXStatusBar(parseFloat(s.left));return this.container.animate(s,{duration:n,easing:"easeOut",complete:function(){o._fireMoved(),o.toHBoundary(t).toVBoundary(o.getTop()),o._triggerAnimate("inner",o._direction,n,t),i.isFunction(r)&&r.call(o.target,C)}}),this.statusBarX.animate(e.getPositionAnimationOptionProxy(T,u),{duration:n,easing:"easeOut"}),this}});return k}),aQuery.define("animation/effect",["base/typed","main/data","main/css","animation/animate"],function(e,t,n,r,i,s){"use strict";var o=function(){n.set(this,"slideOriginHeight",null)},u=function(e){r.hide(this,e.visible),r.css(this,"height",n.get(this,"slideOriginHeight")),n.set(this,"slideOriginHeight",null)},a=function(){n.set(this,"slideOriginOpacity",null)},f=function(e){r.hide(this,e.visible),r.setOpacity(this,n.get(this,"slideOriginOpacity")),n.set(this,"slideOriginOpacity",null)},l={fadeIn:function(t,i){if(r.isVisible(t))return this;var s,o=e._getAnimateOpt(i);return s=n.get(t,"slideOriginOpacity"),s=s!=null?s:r.css(t,"opacity")||1,n.set(t,"slideOriginOpacity",s),o.complete=a,r.setOpacity(t,0),r.show(t),e.animate(t,{opacity:s},o),this},fadeOut:function(t,i){if(!r.isVisible(t))return this;i=i||{visible:0};var s,o=e._getAnimateOpt(i);return s=n.get(t,"slideOriginOpacity"),s=s!=null?s:r.css(t,"opacity"),n.set(t,"slideOriginOpacity",s),o.complete=f,r.show(t),e.animate(t,{opacity:0},o),this},hide:function(e,n,i){return t.isString(n)&&l[n]?l[n](e,i):r.hide(e),this},show:function(e,n,i){return t.isString(n)&&l[n]?l[n](e,i):r.show(e),this},slideDown:function(t,i){if(r.isVisible(t))return this;var s=n.get(t,"slideOriginHeight")||r.css(t,"height"),u=e._getAnimateOpt(i);return n.set(t,"slideOriginHeight",s),r.css(t,"height",0),u.complete.push(o),r.css(t,"height",0),r.show(t),e.animate(t,{height:s},u),this},slideUp:function(t,i){if(!r.isVisible(t)||n.get(t,"_sliedeDown"))return this;var s=n.get(t,"slideOriginHeight")||r.css(t,"height"),o=e._getAnimateOpt(i);return r.css(t,"height",s),n.set(t,"slideOriginHeight",s),o.complete.push(u),r.show(t),e.animate(t,{height:"0px"},o),this}};return e.fn.extend({fadeIn:function(e){return this.each(function(t){l.fadeIn(t,e)})},fadeOut:function(e){return this.each(function(t){l.fadeOut(t,e)})},hide:function(e,t){return this.each(function(n){l.hide(n,e,t)})},show:function(e,t){return this.each(function(n){l.show(n,e,t)})},slideDown:function(e){return this.each(function(t){l.slideDown(t,e)})},slideUp:function(e){return this.each(function(t){l.slideUp(t,e)})}}),l}),aQuery.define("ui/navitem",["base/typed","base/client","module/Widget","main/class","main/CustomEvent","main/event","main/css","main/position","main/dom","main/attr","animation/animate","html5/css3.transition.animate","animation/tween.extend","animation/effect"],function(e,t,n,r,i,s,o,u,a,f,l,c,h){"use strict";var p=function(){u.css(this,"height","auto")},d=r.extend("ui.navitem",{container:null,_initHandler:function(){var e=this;return this.navitemEvent=function(t){switch(t.type){case"click":o.document.getTarget(t)==e.$arrow[0]?e.toggle():e.select()}},this},enable:function(){var e=this.navitemEvent;return this.disable(),this.$text.on("click",e),this.$arrow.on("click",e),this.options.disabled=!1,this},disable:function(){var e=this.navitemEvent;return this.$text.off("click",e),this.$arrow.off("click",e),this.options.disabled=!0,this},getBoard:function(){return this.$board},render:function(){var e=this.options;return this.$text.html(e.html),this.$img.addClass(e.img),this.detectParent(),e.isOpen?this.$arrow.addClass("arrowBottom").removeClass("arrowRight"):this.$arrow.addClass("arrowRight").removeClass("arrowBottom"),e.selected?this.$text.addClass("text_select").removeClass("text_unselect"):this.$text.addClass("text_unselect").removeClass("text_select"),this.hasChild()||this.$arrow.removeClass("arrowRight").removeClass("arrowBottom"),e.href?this.$title.attr("href",e.href):this.$title.removeAttr("href"),e.target?this.$title.attr("target",e.target):this.$title.removeAttr("target"),this},toggle:function(){return this.options.isOpen?this.close():this.open()},open:function(){var e=this.options;return e.isOpen||(e.parent&&!e.parent.uiNavitem("option","isOpen")&&e.parent.uiNavitem("open"),e.isOpen=!0,this.$board.slideDown({duration:200,easing:"cubic.easeInOut",complete:p}),this.target.trigger(s.createEvent(this.getEventName("open"),this.target[0],{container:this.container,html:e.html}))),this.render(),this},close:function(){var e=this.options;return e.isOpen&&(e.isOpen=!1,this.$board.slideUp({duration:200,easing:"cubic.easeInOut"}),this.target.trigger(s.createEvent(this.getEventName("close"),this.target[0],{container:this.container,html:e.html}))),this.render(),this},select:function(){var e=this.options;return e.selected=!0,this.open(),this.target.trigger(s.createEvent(this.getEventName("select"),this.target[0],{container:this.container,html:e.html}))},cancel:function(){var e=this.options;return e.selected=!1,this.render(),this.target.trigger(s.createEvent(this.getEventName("cancel"),this.target[0],{container:this.container,html:e.html}))},hasChild:function(){return!!this.target.find("li[amdquery-widget*='ui.navitem']").length},detectParent:function(){if(!this.target.parent().length)return this;var e=this.target.parent().parent(),t=this.options;return e.isWidget("ui.navitem")&&(t.parent=e),this},getOptionToRoot:function(e){var t=e||"html",n=this.options,r=n.parent,i=[n[t]];while(!!r)i.push(r.uiNavitem("option",t)),r.uiNavitem("detectParent"),r=r.uiNavitem("option","parent");return i},getAttrToRoot:function(e){if(!t.isString(e))return[];var n=this.options,r=n.parent,i=[this.target.attr(e)];while(!!r)i.push(r.target.attr(e)),r.uiNavitem("detectParent"),r=r.uiNavitem("option","parent");return i},init:function(t,n){return this._super(t,n),t=this.options,this.container=n,n.css({display:"block",clear:"both"}),this.$board=n.children().css({display:"block",clear:"both"}).addClass("board").hide(),this.$item=e(e.createEle("div")).css({display:"block",clear:"both"}).addClass("item"),this.$arrow=e(e.createEle("li")).css({"float":"left"}).addClass("arrow"),this.$img=e(e.createEle("li")).css({"float":"left"}).addClass("img"),this.$text=e(e.createEle("li")).css({"float":"left"}).addClass("text"),this.$titleContainer=e(e.createEle("ul")).css({display:"block","float":"left"}).addClass("title"),this.$title=e(e.createEle("a")).css({display:"block",clear:"both","text-decoration":"none"}).addClass("title"),this.$board.append(this.$child),this.$titleContainer.append(this.$arrow).append(this.$img).append(this.$text),this.$title.append(this.$titleContainer),this.$item.append(this.$title),this.target.append(this.$item),this.target.append(this.$board),this.render()._initHandler().enable(),this},_setSelected:function(e){e!==undefined&&(this.options.selected=e,this.options.selected?this.selected():this.cancel())},_setIsOpen:function(e){e!==undefined&&(this.options.isOpen=e,this.options.isOpen?this.open():this.close())},customEventName:["open","close","select","cancel"],options:{html:"",img:"",selected:!1,isOpen:!1,parent:null,href:"",target:"_blank"},publics:{render:r.AllowPublic,getBorad:r.AllowPublic,open:r.AllowPublic,close:r.AllowPublic,select:r.AllowPublic,cancel:r.AllowPublic,detectParent:r.AllowPublic,getAttrToRoot:r.AllowReturn,getOptionToRoot:r.AllowReturn},getter:{html:1,img:1,selected:1,isOpen:1,parent:1,href:1,target:1},setter:{html:1,img:1,selected:1,isOpen:1,parent:0,href:1,target:1},target:null,toString:function(){return"ui.navitem"},widgetEventPrefix:"navitem",initIgnore:!0});return d}),aQuery.define("ui/navmenu",["base/typed","base/extend","ui/navitem","module/Widget","main/query","main/class","main/CustomEvent","main/event","main/css","main/position","main/dom","main/attr","ecma5/array"],function(e,t,n,r,i,s,o,u,a,f,l,c,h,p){"use strict";i.fetchCSS("ui/css/navmenu");var d=i.extend("ui.navmenu",{container:null,_initHandler:function(){var e=this;return this.navmenuEvent=function(t){var r=n.extend({},t),i,s;s=r.target=e.target[0],r.navitem=t.target;switch(t.type){case"navitem.open":i=r.type=e.getEventName("open"),e.target.trigger(i,s,r);break;case"navitem.close":i=r.type=e.getEventName("close"),e.target.trigger(i,s,r);break;case"navitem.select":e.selectNavItem(t.target)}},this},changeHandler:function(e,t,n){e[n]("navitem.open",t),e[n]("navitem.close",t),e[n]("navitem.select",t)},enable:function(){var t=this.navmenuEvent;return this.changeHandler(e(this.navItemList),t,"on"),this.options.disabled=!1,this},disable:function(){var t=this.navmenuEvent;return this.changeHandler(e(this.navItemList),t,"off"),this.options.disabled=!0,this},getNavItemsByHtml:function(t){return this.navItemList.filter(function(n){return e(n).uiNavitem("option","html")===t})},getNavItemsByHtmlPath:function(t){var n=this.getNavItemsByHtml(t.pop()),r="";return n.filter(function(n){for(var i=t.length-1,s;i>=0;i--){r=t[i],s=e(n).uiNavitem("option","parent");if(!s||s.uiNavitem("option","html")!==r)return!1}return!0}),n},getNavItem:function(n){var r=null,s=0,o=this.navItemList.length,u,a;if(t.isString(n))a=function(e,t){return h.getAttr(e,"id")===t};else if(t.is$(n))a=function(e,t){return e===t[0]};else if(i.is("ui.navmenu",n))a=function(t,n){return e(t).navitem("equals",n)};else{if(!t.isElement(n))return null;a=function(e,t){return e===t}}for(s=0;s<o;s++){u=this.navItemList[s];if(a(u,n)){r=u;break}}return r},getNavItemList:function(){return this.target.find("li[ui-navitem]").reverse().eles},selectNavItem:function(t,n){var r=e(this.getNavItem(t)||[]),i=this.options;if(r.isWidget("ui.navitem")){i.selectedNavItem&&i.selectedNavItem!==t&&e(i.selectedNavItem).uiNavitem("cancel");if(!i.selectedNavItem||i.selectedNavItem!==t)i.selectedNavItem=t,r.uiNavitem("select"),n===undefined&&(n=!0),n&&this.target.trigger(u.createEvent(this.getEventName("select"),this.target[0],{navitem:t}))}},init:function(t,n){return this._super(t,n),n.addClass("aquery-navmenu"),this.navItemList=this.getNavItemList(),e(this.navItemList).uiNavitem(),this._initHandler().enable().render(),this},refreshNavItem:function(){this.navItemList=this.getNavItemList();var t=e(this.navItemList);t.uiNavitem(),this.able()},detect:function(){this.refreshNavItem()},addNavItem:function(t,n){var r=e(t);e(n||this.target).children("ul").append(r),this.navItemList=this.getNavItemList(),this.options.disabled||this.changeHandler(r,this.navmenuEvent,"on")},removeNavItem:function(t){var n=e(t);this.changeHandler(n,this.navmenuEvent,"off"),n.uiNavitem("destroy"),n.remove(),this.navItemList=this.getNavItemList()},options:{selectedNavItem:null},setter:{selectedNavItem:0},publics:{getNavItemsByHtml:i.AllowReturn,getNavItemsByHtmlPath:i.AllowReturn,getNavItem:i.AllowReturn,selectNavItem:i.AllowPublic,refreshNavItem:i.AllowPublic,addNavItem:i.AllowPublic,removeNavItem:i.AllowPublic},customEventName:["open","close"],target:null,toString:function(){return"ui.navmenu"},destroy:function(){e(this.navItemList).destroyUiNavitem(),i.invoke("destroy",this)},widgetEventPrefix:"navmenu"});return d}),aQuery.define("@app/views/navmenu",["app/View","ui/flex","ui/scrollableview","ui/navmenu","ui/navitem"],function(e,t,n){"use strict";var r=t.extend({init:function(e){this._super(e)},onDomReady:function(){}},{});return r}),aQuery.define("@app/controllers/navmenu",["main/query","module/history","app/Controller","@app/views/navmenu"],function(e,t,n,r,i){"use strict";var s=r.extend({init:function(t,r){this._super(new i(t),r);var s=this;this.$nav=e(this.view.topElement).find("#nav"),n.on("change",function(e){s.selectDefaultNavmenu(e.token)});var o=e(e.createEle("li")).uiNavitem({html:"destroyWidget",img:"class"}),u=this.$nav.uiNavmenu("getNavItemsByHtmlPath",["ui"]);this.$nav.uiNavmenu("addNavItem",o,u),this.$nav.on("navmenu.select",function(t){var r=e(t.navitem),i=r.uiNavitem("getOptionToRoot"),o;r.children("ul").length===0&&(n.add(i.concat().reverse().join("_")),i.push("assets"),o=i.reverse().join("/")+".html",s.trigger("navmenu.select",s,{type:"navmenu.select",path:o}))}),this.$nav.on("dblclick",function(e){s.trigger("navmenu.dblclick",s,{type:"navmenu.dblclick",event:e})})},selectDefaultNavmenu:function(t){var n=e("#index-navitem");if(t){var r=this.$nav.uiNavmenu("getNavItemsByHtmlPath",t.split("_"))[0];n=r||n}this.$nav.uiNavmenu("selectNavItem",n)},destroy:function(){this.$nav.clearHandlers(),this.$nav=null,r.invoke("destroy")}},{});return s}),aQuery.define("@app/views/content",["app/View","ui/flex"],function(e,t){"use strict";var n=t.extend({init:function(e){this._super(e)},onDomReady:function(){}},{});return n}),aQuery.define("@app/controllers/content",["base/client","app/Controller","@app/views/content"],function(e,t,n,r){"use strict";var i=n.extend({init:function(t,n){this._super(new r(t),n);var i=e(this.view.topElement).find("#content");this.$content=i},loadPath:function(e){this.$content.src({src:e,history:!1})},openWindow:function(){var e=this.$content.attr("src");e&&window.open(e)}},{});return i}),aQuery.define("@app/views/router",["app/View","ui/flex"],function(e,t){"use strict";var n="@app/xml/router",r=t.extend({init:function(e){this._super(e,n)}},{});return r}),aQuery.define("@app/controllers/router",["app/Controller","@app/views/router"],function(e,t,n){"use strict";var r=t.extend({init:function(e,t){this._super(new n(e),t);var r=this;this.navmenu.on("navmenu.select",function(e){r.content.loadPath(e.path)}),this.navmenu.on("navmenu.dblclick",function(e){r.content.openWindow()})},destroy:function(){this.navmenu.clearHandlers(),t.invoke("destroy")}},{});return r}),aQuery.define("@app/controllers/index",["module/history","app/Controller","@app/views/index","@app/controllers/navmenu","@app/controllers/content","@app/controllers/router"],function(e,t,n,r){"use strict";var i=n.extend({init:function(e,n){this._super(new r(e),n);var i=this;this.navmenu.on("navmenu.select",function(e){i.content.loadPath(e.path)}),this.navmenu.on("navmenu.dblclick",function(e){i.content.openWindow()}),t.on("ready",function(){i.navmenu.selectDefaultNavmenu(this.getToken())}),t.init()},destroy:function(){this.navmenu.clearHandlers(),n.invoke("destroy")}},{});return i}),aQuery.define("module/Test",["base/typed","base/ready","base/Promise","base/config","base/extend","main/event","main/dom","main/css","html5/css3","animation/animate","html5/css3.transition.animate"],function(e,t,n,r,i,s,o,u,a,f){"use strict";function E(e,t,n){this.name="["+e+"]",this.complete=t||function(){},this.promise=(new r(function(e){return n&&p(n),p(this.name,"User Agent:",navigator.userAgent),e})).withContext(this),this.count=0,this.fail=0,this.failInfoList=[],this.timeConsuming=null}function T(n,r,i){var o=this;this.to={},this.not={to:{}},s.easyExtend(this.to,{be:{a:function(e){return i._isEqual(o.combineString(r,"expect","'"+String(n)+"'","be","a","'"+String(e)+"'"),typeof n,e),o},an:function(e){return i._isEqual(o.combineString(r,"expect","'"+String(n)+"'","be","an","'"+String(e)+"'"),typeof n,e),o},greater:{than:function(e){return i._isEqual(o.combineString(r,"expect","'"+String(n)+"'","be","greater","than","'"+String(e)+"'"),n>e,!0),o}},less:{than:function(e){return i._isEqual(o.combineString(r,"expect","'"+String(n)+"'","be","less","than","'"+String(e)+"'"),n<e,!0),o}},instance:{of:function(e){return i._beCall(o.combineString(r,"expect","'"+String(n)+"'","instance","of",e.name||"'"+String(e)+"'"),n instanceof e,!0),o}}},equal:function(e){return i._isEqual(o.combineString(r,"expect","'"+String(n)+"'","equal","'"+String(e)+"'"),n,e),o},have:{length:function(e){return typeof n.length!="number"?(i.count++,i._fail(r,"target","have","not","length",x),o):typeof e!="number"?(i.count++,i._fail(r,"parameter","value is not a number",x),o):(i._isEqual(o.combineString(r,"expect","'"+String(n)+"'","have","length","'"+String(e)+"'"),n.length,e),o)},property:function(e){var t=n!=null&&e in n;return i._isEqual(o.combineString(r,"expect","'"+String(n)+"'","have",String(e),"property"),t,!0),t&&(o=new T(n[e],"With property "+e,i),o.with=o),o},index:function(e){var t=n!=null&&n[e]!==undefined;return i._isEqual(o.combineString(r,"expect","'"+String(n)+"'","have","index",e),t,!0),t&&(o=new T(n[e],"With index "+e,i),o.with=o),o}},exists:function(){return i._isEqual(o.combineString(r,"expect","'"+String(n)+"'","exists"),n!==undefined&&n!==null,!0),o},Throw:function(){return i._beCall(o.combineString(r,"expect","'"+String(n)+"'","Throw"),n,!0),o}}),s.easyExtend(this.not.to,{equal:function(e){return i._isEqual(o.combineString(r,"expect","'"+String(n)+"'","not","equal","'"+String(e)+"'"),n,e,!0),o},exists:function(){return i._isEqual(o.combineString(r,"expect","'"+String(n)+"'","not","exists"),n==null,!0),o},Throw:function(){return i._beCall(o.combineString(r,"expect","'"+String(n)+"'","not","Throw"),n),o},be:{},have:{property:function(e){var t=n==null||!(e in n);return i._isEqual(o.combineString(r,"expect","'"+String(n)+"'","not","have",String(e),"property"),t,!0),o}}}),this.to.be.greater.than.or={equal:function(e){return i._isEqual(o.combineString(r,"expect","'"+String(n)+"'","be","greater","than","or","equal","'"+String(e)+"'"),n>=e,!0),o}},this.to.be.less.than.or={equal:function(e){return i._isEqual(o.combineString(r,"expect","'"+String(n)+"'","be","less","than","or","equal","'"+String(e)+"'"),n<=e,!0),o}};var u={XML:1,NaN:1,RegExp:1},a={isEqual:1,isPrototypeProperty:1,isType:1};e.each(t,function(e,s){if(s.indexOf("is")===0&&s.length>2&&!a[s]){var f=s.replace("is","");u[f]||(f=f[0].toLowerCase()+f.slice(1)),o.to.be[f]=function(e){return i._isEqual(o.combineString(r,"expect","'"+String(n)+"'","be",f),t[s](n,e),!0),o},o.not.to.be[f]=function(e){return i._isEqual(o.combineString(r,"expect","'"+String(n)+"'","not","be",f),t[s](n,e),!1),o}}})}this.describe("Test Module");var l="test.report",c,h,p,d;if(window.console&&window.console.log.bind&&!i.module.testLogByHTML)c=e.logger,h=e.error,p=e.info,d=e.debug;else{var v=5,m=e.createEle("div");m.style.cssText="position:absolute;width:610px;height:200px;overflow-y:hidden;overflow-x:hidden;z-index:1000000;",m.style.right=v+"px",m.style.bottom=v+"px",f.css3(m,"border-radius","10px");var g=e.createEle("div");g.style.cssText="width:10px;height:615px;float:left;cursor:pointer;background-color:#bdbdbd",e(g).toggle(function(){e(m).stopAnimation().animate({right:"-600px"},{duration:300,easing:"easeOut"})},function(){e(m).stopAnimation().animate({right:v+"px"},{duration:300,easing:"easeOut"})});var y=e.createEle("pre");y.style.cssText="display:block;width:600px;height:200px;overflow-y:scroll;overflow-x:hidden;background-color:black;float:left;",m.appendChild(g),m.appendChild(y),n(function(){document.body.appendChild(m),y.scrollTop=y.scrollHeight});var b={log:{backgroundColor1:"#62c462",backgroundColor2:"#57a957"},error:{backgroundColor1:"#ee5f5b",backgroundColor2:"#c43c35"},info:{backgroundColor1:"#5bc0de",backgroundColor2:"#339bb9"},debug:{backgroundColor1:"#5bc0de",backgroundColor2:"#339bb9"}},w=function(t,n){var r=e(u.parseHTML("<p><strong>"+t+":<strong>"+n.join(" ")+"</p>")),i=b[t];r.css({display:"block",color:"white",borderTop:"1px solid rgba(0, 0, 0, 0.098)",borderBottom:"1px solid rgba(0, 0, 0, 0.24)",width:"594px",fontSize:"14px",padding:"3px",wordWrap:"break-word",whiteSpace:"normal"}).css3({borderRadius:"3px",linearGradient:{defaultColor:i.backgroundColor2,orientation:"bottom",colorStops:[{stop:0,color:i.backgroundColor1},{stop:1,color:i.backgroundColor2}]}}),y.appendChild(r[0]),y.scrollTop=y.scrollHeight};c=function(){w("log",e.util.argToArray(arguments))},h=function(){w("error",e.util.argToArray(arguments))},p=function(){w("info",e.util.argToArray(arguments))},d=function(){w("debug",e.util.argToArray(arguments))}}E.logger=c,E.error=h,E.info=p,E.debug=d,E.dialog=y;var S="",x="X";return E.prototype={constructor:E,_fail:function(){this.fail++;var t=e.util.argToArray(arguments).join(" ");this.failInfoList.push(t),h(t)},_isEqual:function(e,n,r,i){this.count++;var s=t.isEqual(n,r);i&&(s=!s),s?c(e,S):this._fail(e,x)},_beCall:function(e,t,n){this.count++;var r=null,i=!1;try{t()}catch(s){r=s,i=!0}n&&(i=!i,r||(h="")),i?this._fail(e,x,r):c(e,S)},describe:function(e,t){function r(e,t){return new T(e,t||"",n)}var n=this;return this.promise=this.promise.then(function(n){p(this.name,e);try{return t(n,r,p)}catch(i){throw h(i),i}}),this},start:function(e){var t=new Date;return this.promise.done(function(){this.timeConsuming=(new Date-t)/1e3,p("time-consuming:",this.timeConsuming,"seconds"),E[this.fail==0?"logger":"error"](this.name,"Test stop","Test:"+this.count,"Success:"+(this.count-this.fail),"Fail:"+this.fail),this.complete(),this.report()}).resolve(e),this},report:function(){return window.parent&&window.parent.aQuery&&window.parent.aQuery.trigger&&window.parent.aQuery.trigger(l,null,{type:l,name:this.name,count:this.count,fail:this.fail,failInfoList:this.failInfoList,timeConsuming:this.timeConsuming}),this}},T.prototype.combineString=function(){return e.util.argToArray(arguments).join(" ")},E}),aQuery.define("@app/lib/testRefer",["base/Promise","main/CustomEvent","main/position","main/query","main/communicate","main/parse","main/class","main/dom","main/event","main/object","main/data","module/Test","module/location"],{}),aQuery.define("@app/app",["app/Application","@app/controllers/index","@app/lib/testRefer"],function(e,t){"use strict";var n=t.extend("TestApplication",{init:function(e){this._super(e)},launch:function(){},beforeLoad:function(e){this.addRouter("default","@app/controllers/index.js"),this.addRouter("router","@app/controllers/router.js"),e.resolve()}},{});return n})