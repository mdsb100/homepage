<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">

<head>
  <title></title>
  <link href="../../../global/styles/reset.css" rel="stylesheet" type="text/css" />
  <script src="../../../amdquery/amdquery.js" type="text/javascript" amdquery="define:$;" amd="detectCR:1;" module="compatibleEvent:1;testLogByHTML:1"></script>

  <script type="text/javascript">
    $.require(["main/query", "main/data", "module/Test"], function( query, utilData, Test ) {
      var testCustomEvent = new Test("data", function(preResult){
        // complete
      }).describe("Test utilData function", function(preResult, test, logger){
        var divTest = $( "#test" )[0];

        test(utilData.hasData( divTest ), "Div test has data").should.equal(false);

        test(function(){
          utilData.set( divTest, "name", "Amanda" );
        }, "Set div test name with 'Amanda'").should.not.Throw();

        test(utilData.hasData( divTest ), "Div test has data").should.equal(true);

        test(utilData.get( divTest, "name" ), "Data get name").should.equal("Amanda");

        test(function(){
          utilData.set( divTest, "age", 19 );
        }, "Set div test age with 19").should.not.Throw();

        test(utilData.get( divTest ), "Get data").should.equal({ name: "Amanda", age: 19 });

        test(function(){
          utilData.removeData( divTest, "age" );
        }).should.not.Throw();

        test(utilData.get( divTest, "age" ), "Get age").should.not.exists();

        test(function(){
          utilData.removeData( divTest );
        }).should.not.Throw();

        test(utilData.hasData( divTest ), "Div test has data").should.equal(false);

      }).start();

    });
  </script>
</head>

<body style="overflow: auto">
  <div id="test"></div>
</body>

</html>
